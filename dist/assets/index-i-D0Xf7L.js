(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function bx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Im={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function m2(){if(i_)return ql;i_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var r_;function p2(){return r_||(r_=1,Im.exports=m2()),Im.exports}var f=p2(),km={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function g2(){if(a_)return Pe;a_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function ne(k,X,oe){this.props=k,this.context=X,this.refs=U,this.updater=oe||O}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function le(){}le.prototype=ne.prototype;function K(k,X,oe){this.props=k,this.context=X,this.refs=U,this.updater=oe||O}var ae=K.prototype=new le;ae.constructor=K,q(ae,ne.prototype),ae.isPureReactComponent=!0;var me=Array.isArray;function pe(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(k,X,oe){var ce=oe.ref;return{$$typeof:s,type:k,key:X,ref:ce!==void 0?ce:null,props:oe}}function M(k,X){return C(k.type,X,k.props)}function j(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return X[oe]})}var A=/\/+/g;function ve(k,X){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):X.toString(36)}function Le(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(pe,pe):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,X,oe,ce,ye){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Ce=!1;if(k===null)Ce=!0;else switch(Ne){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(k.$$typeof){case s:case e:Ce=!0;break;case x:return Ce=k._init,F(Ce(k._payload),X,oe,ce,ye)}}if(Ce)return ye=ye(k),Ce=ce===""?"."+ve(k,0):ce,me(ye)?(oe="",Ce!=null&&(oe=Ce.replace(A,"$&/")+"/"),F(ye,X,oe,"",function(De){return De})):ye!=null&&(j(ye)&&(ye=M(ye,oe+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(A,"$&/")+"/")+Ce)),X.push(ye)),1;Ce=0;var re=ce===""?".":ce+":";if(me(k))for(var _e=0;_e<k.length;_e++)ce=k[_e],Ne=re+ve(ce,_e),Ce+=F(ce,X,oe,Ne,ye);else if(_e=L(k),typeof _e=="function")for(k=_e.call(k),_e=0;!(ce=k.next()).done;)ce=ce.value,Ne=re+ve(ce,_e++),Ce+=F(ce,X,oe,Ne,ye);else if(Ne==="object"){if(typeof k.then=="function")return F(Le(k),X,oe,ce,ye);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function se(k,X,oe){if(k==null)return k;var ce=[],ye=0;return F(k,ce,"","",function(Ne){return X.call(oe,Ne,ye++)}),ce}function de(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var Oe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:se,forEach:function(k,X,oe){se(k,function(){X.apply(this,arguments)},oe)},count:function(k){var X=0;return se(k,function(){X++}),X},toArray:function(k){return se(k,function(X){return X})||[]},only:function(k){if(!j(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Pe.Activity=T,Pe.Children=Be,Pe.Component=ne,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=K,Pe.StrictMode=r,Pe.Suspense=g,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Pe.cache=function(k){return function(){return k.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(k,X,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=q({},k.props),ye=k.key;if(X!=null)for(Ne in X.key!==void 0&&(ye=""+X.key),X)!N.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(ce[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=oe;else if(1<Ne){for(var Ce=Array(Ne),re=0;re<Ne;re++)Ce[re]=arguments[re+2];ce.children=Ce}return C(k.type,ye,ce)},Pe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Pe.createElement=function(k,X,oe){var ce,ye={},Ne=null;if(X!=null)for(ce in X.key!==void 0&&(Ne=""+X.key),X)N.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=X[ce]);var Ce=arguments.length-2;if(Ce===1)ye.children=oe;else if(1<Ce){for(var re=Array(Ce),_e=0;_e<Ce;_e++)re[_e]=arguments[_e+2];ye.children=re}if(k&&k.defaultProps)for(ce in Ce=k.defaultProps,Ce)ye[ce]===void 0&&(ye[ce]=Ce[ce]);return C(k,Ne,ye)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(k){return{$$typeof:p,render:k}},Pe.isValidElement=j,Pe.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:de}},Pe.memo=function(k,X){return{$$typeof:y,type:k,compare:X===void 0?null:X}},Pe.startTransition=function(k){var X=R.T,oe={};R.T=oe;try{var ce=k(),ye=R.S;ye!==null&&ye(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(pe,Oe)}catch(Ne){Oe(Ne)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),R.T=X}},Pe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pe.use=function(k){return R.H.use(k)},Pe.useActionState=function(k,X,oe){return R.H.useActionState(k,X,oe)},Pe.useCallback=function(k,X){return R.H.useCallback(k,X)},Pe.useContext=function(k){return R.H.useContext(k)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(k,X){return R.H.useDeferredValue(k,X)},Pe.useEffect=function(k,X){return R.H.useEffect(k,X)},Pe.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Pe.useId=function(){return R.H.useId()},Pe.useImperativeHandle=function(k,X,oe){return R.H.useImperativeHandle(k,X,oe)},Pe.useInsertionEffect=function(k,X){return R.H.useInsertionEffect(k,X)},Pe.useLayoutEffect=function(k,X){return R.H.useLayoutEffect(k,X)},Pe.useMemo=function(k,X){return R.H.useMemo(k,X)},Pe.useOptimistic=function(k,X){return R.H.useOptimistic(k,X)},Pe.useReducer=function(k,X,oe){return R.H.useReducer(k,X,oe)},Pe.useRef=function(k){return R.H.useRef(k)},Pe.useState=function(k){return R.H.useState(k)},Pe.useSyncExternalStore=function(k,X,oe){return R.H.useSyncExternalStore(k,X,oe)},Pe.useTransition=function(){return R.H.useTransition()},Pe.version="19.2.4",Pe}var o_;function jp(){return o_||(o_=1,km.exports=g2()),km.exports}var te=jp();const y2=bx(te);var jm={exports:{}},Fl={},Om={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function b2(){return l_||(l_=1,(function(s){function e(F,se){var de=F.length;F.push(se);e:for(;0<de;){var Oe=de-1>>>1,Be=F[Oe];if(0<o(Be,se))F[Oe]=se,F[de]=Be,de=Oe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var se=F[0],de=F.pop();if(de!==se){F[0]=de;e:for(var Oe=0,Be=F.length,k=Be>>>1;Oe<k;){var X=2*(Oe+1)-1,oe=F[X],ce=X+1,ye=F[ce];if(0>o(oe,de))ce<Be&&0>o(ye,oe)?(F[Oe]=ye,F[ce]=de,Oe=ce):(F[Oe]=oe,F[X]=de,Oe=X);else if(ce<Be&&0>o(ye,de))F[Oe]=ye,F[ce]=de,Oe=ce;else break e}}return se}function o(F,se){var de=F.sortIndex-se.sortIndex;return de!==0?de:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,T=null,S=3,L=!1,O=!1,q=!1,U=!1,ne=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ae(F){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=F)r(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function me(F){if(q=!1,ae(F),!O)if(n(g)!==null)O=!0,pe||(pe=!0,V());else{var se=n(y);se!==null&&Le(me,se.startTime-F)}}var pe=!1,R=-1,N=5,C=-1;function M(){return U?!0:!(s.unstable_now()-C<N)}function j(){if(U=!1,pe){var F=s.unstable_now();C=F;var se=!0;try{e:{O=!1,q&&(q=!1,le(R),R=-1),L=!0;var de=S;try{t:{for(ae(F),T=n(g);T!==null&&!(T.expirationTime>F&&M());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,S=T.priorityLevel;var Be=Oe(T.expirationTime<=F);if(F=s.unstable_now(),typeof Be=="function"){T.callback=Be,ae(F),se=!0;break t}T===n(g)&&r(g),ae(F)}else r(g);T=n(g)}if(T!==null)se=!0;else{var k=n(y);k!==null&&Le(me,k.startTime-F),se=!1}}break e}finally{T=null,S=de,L=!1}se=void 0}}finally{se?V():pe=!1}}}var V;if(typeof K=="function")V=function(){K(j)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ve=A.port2;A.port1.onmessage=j,V=function(){ve.postMessage(null)}}else V=function(){ne(j,0)};function Le(F,se){R=ne(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(F){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var de=S;S=se;try{return F()}finally{S=de}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=S;S=F;try{return se()}finally{S=de}},s.unstable_scheduleCallback=function(F,se,de){var Oe=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,F){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=de+Be,F={id:x++,callback:se,priorityLevel:F,startTime:de,expirationTime:Be,sortIndex:-1},de>Oe?(F.sortIndex=de,e(y,F),n(g)===null&&F===n(y)&&(q?(le(R),R=-1):q=!0,Le(me,de-Oe))):(F.sortIndex=Be,e(g,F),O||L||(O=!0,pe||(pe=!0,V()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var se=S;return function(){var de=S;S=se;try{return F.apply(this,arguments)}finally{S=de}}}})(Dm)),Dm}var c_;function _2(){return c_||(c_=1,Om.exports=b2()),Om.exports}var Mm={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function v2(){if(u_)return fn;u_=1;var s=jp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},fn.flushSync=function(g){var y=h.T,x=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=x,r.d.f()}},fn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},fn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},fn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,T=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:L}):x==="script"&&r.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},fn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,T=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},fn.requestFormReset=function(g){r.d.r(g)},fn.unstable_batchedUpdates=function(g,y){return g(y)},fn.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var h_;function x2(){if(h_)return Mm.exports;h_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mm.exports=v2(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function E2(){if(d_)return Fl;d_=1;var s=_2(),e=jp(),n=x2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),t;if(m===l)return g(d),i;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var _=!1,E=d.child;E;){if(E===a){_=!0,a=d,l=m;break}if(E===l){_=!0,l=d,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,l=d;break}if(E===l){_=!0,l=m,a=d;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case ne:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case K:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}var Le=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Oe=[],Be=-1;function k(t){return{current:t}}function X(t){0>Be||(t.current=Oe[Be],Oe[Be]=null,Be--)}function oe(t,i){Be++,Oe[Be]=t.current,t.current=i}var ce=k(null),ye=k(null),Ne=k(null),Ce=k(null);function re(t,i){switch(oe(Ne,i),oe(ye,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Nb(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Nb(i),t=Rb(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),oe(ce,t)}function _e(){X(ce),X(ye),X(Ne)}function De(t){t.memoizedState!==null&&oe(Ce,t);var i=ce.current,a=Rb(i,t.type);i!==a&&(oe(ye,t),oe(ce,a))}function he(t){ye.current===t&&(X(ce),X(ye)),Ce.current===t&&(X(Ce),Pl._currentValue=de)}var Ee,Ue;function be(t){if(Ee===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ee=i&&i[1]||"",Ue=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+t+Ue}var pt=!1;function bt(t,i){if(!t||pt)return"";pt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var G=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){G=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){G=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var I=_.split(`
`),H=E.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===H.length)for(l=I.length-1,d=H.length-1;1<=l&&0<=d&&I[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==H[d]){var J=`
`+I[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{pt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?be(a):""}function ut(t,i){switch(t.tag){case 26:case 27:case 5:return be(t.type);case 16:return be("Lazy");case 13:return t.child!==i&&i!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return be("Activity");default:return""}}function $t(t){try{var i="",a=null;do i+=ut(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,rt=s.unstable_scheduleCallback,Ns=s.unstable_cancelCallback,Vi=s.unstable_shouldYield,xe=s.unstable_requestPaint,Ye=s.unstable_now,yt=s.unstable_getCurrentPriorityLevel,Mn=s.unstable_ImmediatePriority,Vr=s.unstable_UserBlockingPriority,Yn=s.unstable_NormalPriority,qo=s.unstable_LowPriority,Vc=s.unstable_IdlePriority,Lc=s.log,Uc=s.unstable_setDisableYieldValue,hs=null,sn=null;function $n(t){if(typeof Lc=="function"&&Uc(t),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(hs,t)}catch{}}var Ot=Math.clz32?Math.clz32:zc,Pc=Math.log,ja=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(Pc(t)/ja|0)|0}var Rs=256,Lr=262144,Ut=4194304;function Cs(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Is(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?d=Cs(l):(_&=E,_!==0?d=Cs(_):a||(a=E&~t,a!==0&&(d=Cs(a))))):(E=l&~m,E!==0?d=Cs(E):_!==0?d=Cs(_):a||(a=l&~t,a!==0&&(d=Cs(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function ds(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Od(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function ks(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ur(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dd(t,i,a,l,d,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Ot(a),Z=1<<J;E[J]=0,I[J]=-1;var G=H[J];if(G!==null)for(H[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Pr(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Pr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ot(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ot(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Go(t,i){var a=i&-i;return a=(a&42)!==0?1:zr(a),(a&(t.suspendedLanes|i))!==0?0:a}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Jb(t.type))}function fs(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ms=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ms,Zt="__reactProps$"+ms,js="__reactContainer$"+ms,Oa="__reactEvents$"+ms,Md="__reactListeners$"+ms,qc="__reactHandles$"+ms,Fc="__reactResources$"+ms,Os="__reactMarker$"+ms;function Da(t){delete t[Pt],delete t[Zt],delete t[Oa],delete t[Md],delete t[qc]}function Ds(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[js]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Mb(t);t!==null;){if(a=t[Pt])return a;t=Mb(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[Pt]||t[js]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ms(t){var i=t[Fc];return i||(i=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function zt(t){t[Os]=!0}var Ko=new Set,Yo={};function Vs(t,i){Ls(t,i),Ls(t+"Capture",i)}function Ls(t,i){for(Yo[t]=i,t=0;t<i.length;t++)Ko.add(i[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function Gc(t){return Et.call(Xo,t)?!0:Et.call(Qo,t)?!1:$o.test(t)?Xo[t]=!0:(Qo[t]=!0,!1)}function Ma(t,i,a){if(Gc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ln(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Li(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ot(t){if(!t._valueTracker){var i=Li(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function Br(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function Tn(t){return t.replace(Hr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Va(t,i,a,l,d,m,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Wo(t,_,en(i)):a!=null?Wo(t,_,en(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function Kc(t,i,a,l,d,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ot(t);return}a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ot(t)}function Wo(t,i,a){i==="number"&&Us(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ui(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Yc(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function Pi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Le(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ot(t)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||$c.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Zo(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&Zo(t,m,i[m])}function La(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(t){return zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ps(){}var tl=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,Ps=null;function qr(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[Zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Zt]||null;if(!d)throw Error(r(90));Va(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Br(l)}break e;case"textarea":Yc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ui(t,!!a.multiple,i,!1)}}}var Pa=!1;function Hi(t,i,a){if(Pa)return t(i,a);Pa=!0;try{var l=t(i);return l}finally{if(Pa=!1,(Bi!==null||Ps!==null)&&(Hu(),Bi&&(i=Bi,t=Ps,Ps=Bi=null,qr(i),t)))for(i=0;i<t.length;i++)qr(t[i])}}function gs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(Jn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Fr=!1}var zs=null,nl=null,Gr=null;function sl(){if(Gr)return Gr;var t,i=nl,a=i.length,l,d="value"in zs?zs.value:zs.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[m-l];l++);return Gr=d.slice(t,1<l?1-l:void 0)}function Kr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function ys(){return!1}function rn(t){function i(a,l,d,m,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:ys,this.isPropagationStopped=ys,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=rn(ui),qi=T({},ui,{view:0,detail:0}),il=rn(qi),Fi,za,Hs,Ba=T({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hs&&(Hs&&t.type==="mousemove"?(Fi=t.screenX-Hs.screenX,za=t.screenY-Hs.screenY):za=Fi=0,Hs=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:za}}),rl=rn(Ba),Yr=T({},Ba,{dataTransfer:0}),Xc=rn(Yr),Jc=T({},qi,{relatedTarget:0}),$r=rn(Jc),al=T({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=rn(al),Ha=T({},ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zc=rn(Ha),eu=T({},ui,{data:0}),qs=rn(eu),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=su[t])?!!i[t]:!1}function Gi(){return iu}var vn=T({},qi,{key:function(t){if(t.key){var i=tu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ru=rn(vn),au=T({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=rn(au),u=T({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),b=rn(u),v=T({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=rn(v),z=T({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=rn(z),ue=T({},ui,{newState:0,oldState:0}),He=rn(ue),Dt=[9,13,27,32],st=Jn&&"CompositionEvent"in window,Tt=null;Jn&&"documentMode"in document&&(Tt=document.documentMode);var Wn=Jn&&"TextEvent"in window&&!Tt,Fs=Jn&&(!st||Tt&&8<Tt&&11>=Tt),bs=" ",_s=!1;function Qr(t,i){switch(t){case"keyup":return Dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function UT(t,i){switch(t){case"compositionend":return qa(i);case"keypress":return i.which!==32?null:(_s=!0,bs);case"textInput":return t=i.data,t===bs&&_s?null:t;default:return null}}function PT(t,i){if(Fa)return t==="compositionend"||!st&&Qr(t,i)?(t=sl(),Gr=nl=zs=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fs&&i.locale!=="ko"?null:i.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zT[t.type]:i==="textarea"}function Pg(t,i,a,l){Bi?Ps?Ps.push(l):Ps=[l]:Bi=l,i=Qu(i,"onChange"),0<i.length&&(a=new Bs("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ol=null,ll=null;function BT(t){xb(t,0)}function ou(t){var i=Vn(t);if(Br(i))return t}function zg(t,i){if(t==="change")return i}var Bg=!1;if(Jn){var Vd;if(Jn){var Ld="oninput"in document;if(!Ld){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Ld=typeof Hg.oninput=="function"}Vd=Ld}else Vd=!1;Bg=Vd&&(!document.documentMode||9<document.documentMode)}function qg(){ol&&(ol.detachEvent("onpropertychange",Fg),ll=ol=null)}function Fg(t){if(t.propertyName==="value"&&ou(ll)){var i=[];Pg(i,ll,t,Xn(t)),Hi(BT,i)}}function HT(t,i,a){t==="focusin"?(qg(),ol=i,ll=a,ol.attachEvent("onpropertychange",Fg)):t==="focusout"&&qg()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(ll)}function FT(t,i){if(t==="click")return ou(i)}function GT(t,i){if(t==="input"||t==="change")return ou(i)}function KT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:KT;function cl(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Et.call(i,d)||!Un(t[d],i[d]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,i){var a=Gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gg(a)}}function Yg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Us(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Us(t.document)}return i}function Ud(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var YT=Jn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Pd=null,ul=null,zd=!1;function Qg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zd||Ga==null||Ga!==Us(l)||(l=Ga,"selectionStart"in l&&Ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&cl(ul,l)||(ul=l,l=Qu(Pd,"onSelect"),0<l.length&&(i=new Bs("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ga)))}function Xr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ka={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Bd={},Xg={};Jn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Jr(t){if(Bd[t])return Bd[t];if(!Ka[t])return t;var i=Ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xg)return Bd[t]=i[a];return t}var Jg=Jr("animationend"),Wg=Jr("animationiteration"),Zg=Jr("animationstart"),$T=Jr("transitionrun"),QT=Jr("transitionstart"),XT=Jr("transitioncancel"),e0=Jr("transitionend"),t0=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function vs(t,i){t0.set(t,i),Vs(i,[t])}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Ya=0,qd=0;function cu(){for(var t=Ya,i=qd=Ya=0;i<t;){var a=Zn[i];Zn[i++]=null;var l=Zn[i];Zn[i++]=null;var d=Zn[i];Zn[i++]=null;var m=Zn[i];if(Zn[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}m!==0&&n0(a,d,m)}}function uu(t,i,a,l){Zn[Ya++]=t,Zn[Ya++]=i,Zn[Ya++]=a,Zn[Ya++]=l,qd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fd(t,i,a,l){return uu(t,i,a,l),hu(t)}function Wr(t,i){return uu(t,null,null,i),hu(t)}function n0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-Ot(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function hu(t){if(50<jl)throw jl=0,em=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var $a={};function JT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,i,a,l){return new JT(t,i,a,l)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,i){var a=t.alternate;return a===null?(a=Pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function s0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function du(t,i,a,l,d,m){var _=0;if(l=t,typeof t=="function")Gd(t)&&(_=1);else if(typeof t=="string")_=n2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Pn(31,a,i,d),t.elementType=C,t.lanes=m,t;case q:return Zr(a.children,d,m,i);case U:_=8,d|=24;break;case ne:return t=Pn(12,a,i,d|2),t.elementType=ne,t.lanes=m,t;case me:return t=Pn(13,a,i,d),t.elementType=me,t.lanes=m,t;case pe:return t=Pn(19,a,i,d),t.elementType=pe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:_=10;break e;case le:_=9;break e;case ae:_=11;break e;case R:_=14;break e;case N:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Pn(_,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function Zr(t,i,a,l){return t=Pn(7,t,l,i),t.lanes=a,t}function Kd(t,i,a){return t=Pn(6,t,null,i),t.lanes=a,t}function i0(t){var i=Pn(18,null,null,0);return i.stateNode=t,i}function Yd(t,i,a){return i=Pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var r0=new WeakMap;function es(t,i){if(typeof t=="object"&&t!==null){var a=r0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$t(i)},r0.set(t,i),i)}return{value:t,source:i,stack:$t(i)}}var Qa=[],Xa=0,fu=null,hl=0,ts=[],ns=0,Ki=null,Gs=1,Ks="";function fi(t,i){Qa[Xa++]=hl,Qa[Xa++]=fu,fu=t,hl=i}function a0(t,i,a){ts[ns++]=Gs,ts[ns++]=Ks,ts[ns++]=Ki,Ki=t;var l=Gs;t=Ks;var d=32-Ot(l)-1;l&=~(1<<d),a+=1;var m=32-Ot(i)+d;if(30<m){var _=d-d%5;m=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Gs=1<<32-Ot(i)+d|a<<d|l,Ks=m+t}else Gs=1<<m|a<<d|l,Ks=t}function $d(t){t.return!==null&&(fi(t,1),a0(t,1,0))}function Qd(t){for(;t===fu;)fu=Qa[--Xa],Qa[Xa]=null,hl=Qa[--Xa],Qa[Xa]=null;for(;t===Ki;)Ki=ts[--ns],ts[ns]=null,Ks=ts[--ns],ts[ns]=null,Gs=ts[--ns],ts[ns]=null}function o0(t,i){ts[ns++]=Gs,ts[ns++]=Ks,ts[ns++]=Ki,Gs=i.id,Ks=i.overflow,Ki=t}var an=null,_t=null,Ze=!1,Yi=null,ss=!1,Xd=Error(r(519));function $i(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(es(i,t)),Xd}function l0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[Zt]=l,a){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ke(Dl[a],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Kc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Pi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Sb(i.textContent,a)?(l.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),l.onScroll!=null&&Ke("scroll",i),l.onScrollEnd!=null&&Ke("scrollend",i),l.onClick!=null&&(i.onclick=ps),i=!0):i=!1,i||$i(t,!0)}function c0(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:an=an.return}}function Ja(t){if(t!==an)return!1;if(!Ze)return c0(t),Ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&_t&&$i(t),c0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=Db(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=Db(t)}else i===27?(i=_t,lr(t.type)?(t=vm,vm=null,_t=t):_t=i):_t=an?rs(t.stateNode.nextSibling):null;return!0}function ea(){_t=an=null,Ze=!1}function Jd(){var t=Yi;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Yi=null),t}function dl(t){Yi===null?Yi=[t]:Yi.push(t)}var Wd=k(null),ta=null,mi=null;function Qi(t,i,a){oe(Wd,i._currentValue),i._currentValue=a}function pi(t){t._currentValue=Wd.current,X(Wd)}function Zd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ef(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var I=0;I<i.length;I++)if(E.context===i[I]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Zd(m.return,a,t),l||(_=null);break e}m=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Zd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Wa(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=d.type;Un(d.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(d===Ce.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}d=d.return}t!==null&&ef(i,t,a,l),i.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return u0(ta,t)}function pu(t,i){return ta===null&&na(t),u0(t,i)}function u0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mi===null){if(t===null)throw Error(r(308));mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mi=mi.next=i;return a}var WT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZT=s.unstable_scheduleCallback,ew=s.unstable_NormalPriority,Ht={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new WT,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&ZT(ew,function(){t.controller.abort()})}var ml=null,nf=0,Za=0,eo=null;function tw(t,i){if(ml===null){var a=ml=[];nf=0,Za=am(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nf++,i.then(h0,h0),i}function h0(){if(--nf===0&&ml!==null){eo!==null&&(eo.status="fulfilled");var t=ml;ml=null,Za=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var d0=F.S;F.S=function(t,i){Qy=Ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tw(t,i),d0!==null&&d0(t,i)};var sa=k(null);function sf(){var t=sa.current;return t!==null?t:gt.pooledCache}function gu(t,i){i===null?oe(sa,sa.current):oe(sa,i.pool)}function f0(){var t=sf();return t===null?null:{parent:Ht._currentValue,pool:t}}var to=Error(r(460)),rf=Error(r(474)),yu=Error(r(542)),bu={then:function(){}};function m0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function p0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ps,ps),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,y0(t),t;default:if(typeof i.status=="string")i.then(ps,ps);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,y0(t),t}throw ra=i,to}}function ia(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,to):a}}var ra=null;function g0(){if(ra===null)throw Error(r(459));var t=ra;return ra=null,t}function y0(t){if(t===to||t===yu)throw Error(r(483))}var no=null,pl=0;function _u(t){var i=pl;return pl+=1,no===null&&(no=[]),p0(no,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vu(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function b0(t){function i(P,D){if(t){var B=P.deletions;B===null?(P.deletions=[D],P.flags|=16):B.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function d(P,D){return P=di(P,D),P.index=0,P.sibling=null,P}function m(P,D,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<D?(P.flags|=67108866,D):B):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,D,B,W){return D===null||D.tag!==6?(D=Kd(B,P.mode,W),D.return=P,D):(D=d(D,B),D.return=P,D)}function I(P,D,B,W){var Se=B.type;return Se===q?J(P,D,B.props.children,W,B.key):D!==null&&(D.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===N&&ia(Se)===D.type)?(D=d(D,B.props),gl(D,B),D.return=P,D):(D=du(B.type,B.key,B.props,null,P.mode,W),gl(D,B),D.return=P,D)}function H(P,D,B,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Yd(B,P.mode,W),D.return=P,D):(D=d(D,B.children||[]),D.return=P,D)}function J(P,D,B,W,Se){return D===null||D.tag!==7?(D=Zr(B,P.mode,W,Se),D.return=P,D):(D=d(D,B),D.return=P,D)}function Z(P,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kd(""+D,P.mode,B),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return B=du(D.type,D.key,D.props,null,P.mode,B),gl(B,D),B.return=P,B;case O:return D=Yd(D,P.mode,B),D.return=P,D;case N:return D=ia(D),Z(P,D,B)}if(Le(D)||V(D))return D=Zr(D,P.mode,B,null),D.return=P,D;if(typeof D.then=="function")return Z(P,_u(D),B);if(D.$$typeof===K)return Z(P,pu(P,D),B);vu(P,D)}return null}function G(P,D,B,W){var Se=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Se!==null?null:E(P,D,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===Se?I(P,D,B,W):null;case O:return B.key===Se?H(P,D,B,W):null;case N:return B=ia(B),G(P,D,B,W)}if(Le(B)||V(B))return Se!==null?null:J(P,D,B,W,null);if(typeof B.then=="function")return G(P,D,_u(B),W);if(B.$$typeof===K)return G(P,D,pu(P,B),W);vu(P,B)}return null}function Q(P,D,B,W,Se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(B)||null,E(D,P,""+W,Se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return P=P.get(W.key===null?B:W.key)||null,I(D,P,W,Se);case O:return P=P.get(W.key===null?B:W.key)||null,H(D,P,W,Se);case N:return W=ia(W),Q(P,D,B,W,Se)}if(Le(W)||V(W))return P=P.get(B)||null,J(D,P,W,Se,null);if(typeof W.then=="function")return Q(P,D,B,_u(W),Se);if(W.$$typeof===K)return Q(P,D,B,pu(D,W),Se);vu(D,W)}return null}function ge(P,D,B,W){for(var Se=null,tt=null,Te=D,Fe=D=0,Qe=null;Te!==null&&Fe<B.length;Fe++){Te.index>Fe?(Qe=Te,Te=null):Qe=Te.sibling;var nt=G(P,Te,B[Fe],W);if(nt===null){Te===null&&(Te=Qe);break}t&&Te&&nt.alternate===null&&i(P,Te),D=m(nt,D,Fe),tt===null?Se=nt:tt.sibling=nt,tt=nt,Te=Qe}if(Fe===B.length)return a(P,Te),Ze&&fi(P,Fe),Se;if(Te===null){for(;Fe<B.length;Fe++)Te=Z(P,B[Fe],W),Te!==null&&(D=m(Te,D,Fe),tt===null?Se=Te:tt.sibling=Te,tt=Te);return Ze&&fi(P,Fe),Se}for(Te=l(Te);Fe<B.length;Fe++)Qe=Q(Te,P,Fe,B[Fe],W),Qe!==null&&(t&&Qe.alternate!==null&&Te.delete(Qe.key===null?Fe:Qe.key),D=m(Qe,D,Fe),tt===null?Se=Qe:tt.sibling=Qe,tt=Qe);return t&&Te.forEach(function(fr){return i(P,fr)}),Ze&&fi(P,Fe),Se}function Re(P,D,B,W){if(B==null)throw Error(r(151));for(var Se=null,tt=null,Te=D,Fe=D=0,Qe=null,nt=B.next();Te!==null&&!nt.done;Fe++,nt=B.next()){Te.index>Fe?(Qe=Te,Te=null):Qe=Te.sibling;var fr=G(P,Te,nt.value,W);if(fr===null){Te===null&&(Te=Qe);break}t&&Te&&fr.alternate===null&&i(P,Te),D=m(fr,D,Fe),tt===null?Se=fr:tt.sibling=fr,tt=fr,Te=Qe}if(nt.done)return a(P,Te),Ze&&fi(P,Fe),Se;if(Te===null){for(;!nt.done;Fe++,nt=B.next())nt=Z(P,nt.value,W),nt!==null&&(D=m(nt,D,Fe),tt===null?Se=nt:tt.sibling=nt,tt=nt);return Ze&&fi(P,Fe),Se}for(Te=l(Te);!nt.done;Fe++,nt=B.next())nt=Q(Te,P,Fe,nt.value,W),nt!==null&&(t&&nt.alternate!==null&&Te.delete(nt.key===null?Fe:nt.key),D=m(nt,D,Fe),tt===null?Se=nt:tt.sibling=nt,tt=nt);return t&&Te.forEach(function(f2){return i(P,f2)}),Ze&&fi(P,Fe),Se}function mt(P,D,B,W){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var Se=B.key;D!==null;){if(D.key===Se){if(Se=B.type,Se===q){if(D.tag===7){a(P,D.sibling),W=d(D,B.props.children),W.return=P,P=W;break e}}else if(D.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===N&&ia(Se)===D.type){a(P,D.sibling),W=d(D,B.props),gl(W,B),W.return=P,P=W;break e}a(P,D);break}else i(P,D);D=D.sibling}B.type===q?(W=Zr(B.props.children,P.mode,W,B.key),W.return=P,P=W):(W=du(B.type,B.key,B.props,null,P.mode,W),gl(W,B),W.return=P,P=W)}return _(P);case O:e:{for(Se=B.key;D!==null;){if(D.key===Se)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(P,D.sibling),W=d(D,B.children||[]),W.return=P,P=W;break e}else{a(P,D);break}else i(P,D);D=D.sibling}W=Yd(B,P.mode,W),W.return=P,P=W}return _(P);case N:return B=ia(B),mt(P,D,B,W)}if(Le(B))return ge(P,D,B,W);if(V(B)){if(Se=V(B),typeof Se!="function")throw Error(r(150));return B=Se.call(B),Re(P,D,B,W)}if(typeof B.then=="function")return mt(P,D,_u(B),W);if(B.$$typeof===K)return mt(P,D,pu(P,B),W);vu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(a(P,D.sibling),W=d(D,B),W.return=P,P=W):(a(P,D),W=Kd(B,P.mode,W),W.return=P,P=W),_(P)):a(P,D)}return function(P,D,B,W){try{pl=0;var Se=mt(P,D,B,W);return no=null,Se}catch(Te){if(Te===to||Te===yu)throw Te;var tt=Pn(29,Te,null,P.mode);return tt.lanes=W,tt.return=P,tt}finally{}}}var aa=b0(!0),_0=b0(!1),Xi=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=hu(t),n0(t,null,a),i}return uu(t,l,i,a),hu(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function bl(){if(cf){var t=eo;if(t!==null)throw t}}function _l(t,i,a,l){cf=!1;var d=t.updateQueue;Xi=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var I=E,H=I.next;I.next=null,_===null?m=H:_.next=H,_=I;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==_&&(E===null?J.firstBaseUpdate=H:E.next=H,J.lastBaseUpdate=I))}if(m!==null){var Z=d.baseState;_=0,J=H=I=null,E=m;do{var G=E.lane&-536870913,Q=G!==E.lane;if(Q?($e&G)===G:(l&G)===G){G!==0&&G===Za&&(cf=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=t,Re=E;G=i;var mt=a;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){Z=ge.call(mt,Z,G);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,G=typeof ge=="function"?ge.call(mt,Z,G):ge,G==null)break e;Z=T({},Z,G);break e;case 2:Xi=!0}}G=E.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(H=J=Q,I=Z):J=J.next=Q,_|=G;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(I=Z),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=J,m===null&&(d.shared.lanes=0),sr|=_,t.lanes=_,t.memoizedState=Z}}function v0(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function x0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)v0(a[t],i)}var so=k(null),xu=k(0);function E0(t,i){t=wi,oe(xu,t),oe(so,i),wi=t|i.baseLanes}function uf(){oe(xu,wi),oe(so,so.current)}function hf(){wi=xu.current,X(so),X(xu)}var zn=k(null),is=null;function Zi(t){var i=t.alternate;oe(Mt,Mt.current&1),oe(zn,t),is===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(is=t)}function df(t){oe(Mt,Mt.current),oe(zn,t),is===null&&(is=t)}function T0(t){t.tag===22?(oe(Mt,Mt.current),oe(zn,t),is===null&&(is=t)):er()}function er(){oe(Mt,Mt.current),oe(zn,zn.current)}function Bn(t){X(zn),is===t&&(is=null),X(Mt)}var Mt=k(0);function Eu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bm(a)||_m(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gi=0,qe=null,dt=null,qt=null,Tu=!1,io=!1,oa=!1,wu=0,vl=0,ro=null,sw=0;function Ct(){throw Error(r(321))}function ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Un(t[a],i[a]))return!1;return!0}function mf(t,i,a,l,d,m){return gi=m,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?ay:Cf,oa=!1,m=a(l,d),oa=!1,io&&(m=S0(i,a,l,d)),w0(t),m}function w0(t){F.H=Tl;var i=dt!==null&&dt.next!==null;if(gi=0,qt=dt=qe=null,Tu=!1,vl=0,ro=null,i)throw Error(r(300));t===null||Ft||(t=t.dependencies,t!==null&&mu(t)&&(Ft=!0))}function S0(t,i,a,l){qe=t;var d=0;do{if(io&&(ro=null),vl=0,io=!1,25<=d)throw Error(r(301));if(d+=1,qt=dt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=oy,m=i(a,l)}while(io);return m}function iw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?xl(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(qe.flags|=1024),i}function pf(){var t=wu!==0;return wu=0,t}function gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yf(t){if(Tu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Tu=!1}gi=0,qt=dt=qe=null,io=!1,vl=wu=0,ro=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?qe.memoizedState=qt=t:qt=qt.next=t,qt}function Vt(){if(dt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=qt===null?qe.memoizedState:qt.next;if(i!==null)qt=i,dt=t;else{if(t===null)throw qe.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?qe.memoizedState=qt=t:qt=qt.next=t}return qt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var i=vl;return vl+=1,ro===null&&(ro=[]),t=p0(ro,t,i),i=qe,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ay:Cf),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===K)return on(t)}throw Error(r(438,String(t)))}function bf(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Su(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function yi(t,i){return typeof i=="function"?i(t):i}function Nu(t){var i=Vt();return _f(i,dt,t)}function _f(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var E=_=null,I=null,H=i,J=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?($e&Z)===Z:(gi&Z)===Z){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Za&&(J=!0);else if((gi&G)===G){H=H.next,G===Za&&(J=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=Z,_=m):I=I.next=Z,qe.lanes|=G,sr|=G;Z=H.action,oa&&a(m,Z),m=H.hasEagerState?H.eagerState:a(m,Z)}else G={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=G,_=m):I=I.next=G,qe.lanes|=Z,sr|=Z;H=H.next}while(H!==null&&H!==i);if(I===null?_=m:I.next=E,!Un(m,t.memoizedState)&&(Ft=!0,J&&(a=eo,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var i=Vt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);Un(m,i.memoizedState)||(Ft=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function A0(t,i,a){var l=qe,d=Vt(),m=Ze;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Un((dt||d).memoizedState,a);if(_&&(d.memoizedState=a,Ft=!0),d=d.queue,Tf(C0.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,ao(9,{destroy:void 0},R0.bind(null,l,d,a,i),null),gt===null)throw Error(r(349));m||(gi&127)!==0||N0(l,i,a)}return a}function N0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=Su(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function R0(t,i,a,l){i.value=a,i.getSnapshot=l,I0(i)&&k0(t)}function C0(t,i,a){return a(function(){I0(i)&&k0(t)})}function I0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Un(t,a)}catch{return!0}}function k0(t){var i=Wr(t,2);i!==null&&Cn(i,t,2)}function xf(t){var i=xn();if(typeof t=="function"){var a=t;if(t=a(),oa){$n(!0);try{a()}finally{$n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},i}function j0(t,i,a,l){return t.baseState=a,_f(t,dt,typeof l=="function"?l:yi)}function rw(t,i,a,l,d){if(Iu(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,O0(i,m)):(m.next=a.next,i.pending=a.next=m)}}function O0(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=F.T,_={};F.T=_;try{var E=a(d,l),I=F.S;I!==null&&I(_,E),D0(t,i,E)}catch(H){Ef(t,i,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),F.T=m}}else try{m=a(d,l),D0(t,i,m)}catch(H){Ef(t,i,H)}}function D0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){M0(t,i,l)},function(l){return Ef(t,i,l)}):M0(t,i,a)}function M0(t,i,a){i.status="fulfilled",i.value=a,V0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,O0(t,a)))}function Ef(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,V0(i),i=i.next;while(i!==l)}t.action=null}function V0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function L0(t,i){return i}function U0(t,i){if(Ze){var a=gt.formState;if(a!==null){e:{var l=qe;if(Ze){if(_t){t:{for(var d=_t,m=ss;d.nodeType!==8;){if(!m){d=null;break t}if(d=rs(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){_t=rs(d.nextSibling),l=d.data==="F!";break e}}$i(l)}l=!1}l&&(i=a[0])}}return a=xn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L0,lastRenderedState:i},a.queue=l,a=sy.bind(null,qe,l),l.dispatch=a,l=xf(!1),m=Rf.bind(null,qe,!1,l.queue),l=xn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=rw.bind(null,qe,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function P0(t){var i=Vt();return z0(i,dt,t)}function z0(t,i,a){if(i=_f(t,i,L0)[0],t=Nu(yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(_){throw _===to?yu:_}else l=i;i=Vt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,ao(9,{destroy:void 0},aw.bind(null,d,a),null)),[l,m,t]}function aw(t,i){t.action=i}function B0(t){var i=Vt(),a=dt;if(a!==null)return z0(i,a,t);Vt(),i=i.memoizedState,a=Vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ao(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Su(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function H0(){return Vt().memoizedState}function Ru(t,i,a,l){var d=xn();qe.flags|=t,d.memoizedState=ao(1|i,{destroy:void 0},a,l===void 0?null:l)}function Cu(t,i,a,l){var d=Vt();l=l===void 0?null:l;var m=d.memoizedState.inst;dt!==null&&l!==null&&ff(l,dt.memoizedState.deps)?d.memoizedState=ao(i,m,a,l):(qe.flags|=t,d.memoizedState=ao(1|i,m,a,l))}function q0(t,i){Ru(8390656,8,t,i)}function Tf(t,i){Cu(2048,8,t,i)}function ow(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=Su(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function F0(t){var i=Vt().memoizedState;return ow({ref:i,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function G0(t,i){return Cu(4,2,t,i)}function K0(t,i){return Cu(4,4,t,i)}function Y0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $0(t,i,a){a=a!=null?a.concat([t]):null,Cu(4,4,Y0.bind(null,i,t),a)}function wf(){}function Q0(t,i){var a=Vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function X0(t,i){var a=Vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ff(i,l[1]))return l[0];if(l=t(),oa){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l}function Sf(t,i,a){return a===void 0||(gi&1073741824)!==0&&($e&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Jy(),qe.lanes|=t,sr|=t,a)}function J0(t,i,a,l){return Un(a,i)?a:so.current!==null?(t=Sf(t,a,l),Un(t,i)||(Ft=!0),t):(gi&42)===0||(gi&1073741824)!==0&&($e&261930)===0?(Ft=!0,t.memoizedState=a):(t=Jy(),qe.lanes|=t,sr|=t,i)}function W0(t,i,a,l,d){var m=se.p;se.p=m!==0&&8>m?m:8;var _=F.T,E={};F.T=E,Rf(t,!1,i,a);try{var I=d(),H=F.S;if(H!==null&&H(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=nw(I,l);El(t,i,J,Fn(t))}else El(t,i,l,Fn(t))}catch(Z){El(t,i,{then:function(){},status:"rejected",reason:Z},Fn())}finally{se.p=m,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function lw(){}function Af(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=Z0(t).queue;W0(t,d,i,de,a===null?lw:function(){return ey(t),a(l)})}function Z0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ey(t){var i=Z0(t);i.next===null&&(i=t.alternate.memoizedState),El(t,i.next.queue,{},Fn())}function Nf(){return on(Pl)}function ty(){return Vt().memoizedState}function ny(){return Vt().memoizedState}function cw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Fn();t=Ji(a);var l=Wi(i,t,a);l!==null&&(Cn(l,i,a),yl(l,i,a)),i={cache:tf()},t.payload=i;return}i=i.return}}function uw(t,i,a){var l=Fn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(t)?iy(i,a):(a=Fd(t,i,a,l),a!==null&&(Cn(a,t,l),ry(a,i,l)))}function sy(t,i,a){var l=Fn();El(t,i,a,l)}function El(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(t))iy(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,E=m(_,a);if(d.hasEagerState=!0,d.eagerState=E,Un(E,_))return uu(t,i,d,0),gt===null&&cu(),!1}catch{}finally{}if(a=Fd(t,i,d,l),a!==null)return Cn(a,t,l),ry(a,i,l),!0}return!1}function Rf(t,i,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Iu(t)){if(i)throw Error(r(479))}else i=Fd(t,a,l,2),i!==null&&Cn(i,t,2)}function Iu(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function iy(t,i){io=Tu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var Tl={readContext:on,use:Au,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Tl.useEffectEvent=Ct;var ay={readContext:on,use:Au,useCallback:function(t,i){return xn().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:q0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ru(4194308,4,Y0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ru(4194308,4,t,i)},useInsertionEffect:function(t,i){Ru(4,2,t,i)},useMemo:function(t,i){var a=xn();i=i===void 0?null:i;var l=t();if(oa){$n(!0);try{t()}finally{$n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=xn();if(a!==void 0){var d=a(i);if(oa){$n(!0);try{a(i)}finally{$n(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=uw.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=xn();return t={current:t},i.memoizedState=t},useState:function(t){t=xf(t);var i=t.queue,a=sy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(t,i){var a=xn();return Sf(a,t,i)},useTransition:function(){var t=xf(!1);return t=W0.bind(null,qe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,d=xn();if(Ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),gt===null)throw Error(r(349));($e&127)!==0||N0(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,q0(C0.bind(null,l,m,t),[t]),l.flags|=2048,ao(9,{destroy:void 0},R0.bind(null,l,m,a,i),null),a},useId:function(){var t=xn(),i=gt.identifierPrefix;if(Ze){var a=Ks,l=Gs;a=(l&~(1<<32-Ot(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Nf,useFormState:U0,useActionState:U0,useOptimistic:function(t){var i=xn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Rf.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:bf,useCacheRefresh:function(){return xn().memoizedState=cw.bind(null,qe)},useEffectEvent:function(t){var i=xn(),a={impl:t};return i.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Cf={readContext:on,use:Au,useCallback:Q0,useContext:on,useEffect:Tf,useImperativeHandle:$0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:Nu,useRef:H0,useState:function(){return Nu(yi)},useDebugValue:wf,useDeferredValue:function(t,i){var a=Vt();return J0(a,dt.memoizedState,t,i)},useTransition:function(){var t=Nu(yi)[0],i=Vt().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:A0,useId:ty,useHostTransitionStatus:Nf,useFormState:P0,useActionState:P0,useOptimistic:function(t,i){var a=Vt();return j0(a,dt,t,i)},useMemoCache:bf,useCacheRefresh:ny};Cf.useEffectEvent=F0;var oy={readContext:on,use:Au,useCallback:Q0,useContext:on,useEffect:Tf,useImperativeHandle:$0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:vf,useRef:H0,useState:function(){return vf(yi)},useDebugValue:wf,useDeferredValue:function(t,i){var a=Vt();return dt===null?Sf(a,t,i):J0(a,dt.memoizedState,t,i)},useTransition:function(){var t=vf(yi)[0],i=Vt().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:A0,useId:ty,useHostTransitionStatus:Nf,useFormState:B0,useActionState:B0,useOptimistic:function(t,i){var a=Vt();return dt!==null?j0(a,dt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:ny};oy.useEffectEvent=F0;function If(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Fn(),d=Ji(l);d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(Cn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Fn(),d=Ji(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Wi(t,d,l),i!==null&&(Cn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Fn(),l=Ji(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(t,l,a),i!==null&&(Cn(i,t,a),yl(i,t,a))}};function ly(t,i,a,l,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(d,m):!0}function cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&kf.enqueueReplaceState(i,i.state,null)}function la(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function uy(t){lu(t)}function hy(t){console.error(t)}function dy(t){lu(t)}function ku(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jf(t,i,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){ku(t,i)},a}function my(t){return t=Ji(t),t.tag=3,t}function py(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fy(i,a,l),typeof d!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Wa(i,a,d,!0),a=zn.current,a!==null){switch(a.tag){case 31:case 13:return is===null?qu():a.alternate===null&&It===0&&(It=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),sm(t,l,d)),!1;case 22:return a.flags|=65536,l===bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),sm(t,l,d)),!1}throw Error(r(435,a.tag))}return sm(t,l,d),qu(),!1}if(Ze)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Xd&&(t=Error(r(422),{cause:l}),dl(es(t,a)))):(l!==Xd&&(i=Error(r(423),{cause:l}),dl(es(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=es(l,a),d=jf(t.stateNode,l,d),lf(t,d),It!==4&&(It=2)),!1;var m=Error(r(520),{cause:l});if(m=es(m,a),kl===null?kl=[m]:kl.push(m),It!==4&&(It=2),i===null)return!0;l=es(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=jf(a.stateNode,l,t),lf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ir===null||!ir.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=my(d),py(d,t,a,l),lf(a,d),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),Ft=!1;function ln(t,i,a,l){i.child=t===null?_0(i,null,a,l):aa(i,t.child,a,l)}function gy(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return na(i),l=mf(t,i,a,_,m,d),E=pf(),t!==null&&!Ft?(gf(t,i,d),bi(t,i,d)):(Ze&&E&&$d(i),i.flags|=1,ln(t,i,l,d),i.child)}function yy(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Gd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,by(t,i,m,l,d)):(t=du(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Bf(t,d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&t.ref===i.ref)return bi(t,i,d)}return i.flags|=1,t=di(m,l),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(cl(m,l)&&t.ref===i.ref)if(Ft=!1,i.pendingProps=l=m,Bf(t,d))(t.flags&131072)!==0&&(Ft=!0);else return i.lanes=t.lanes,bi(t,i,d)}return Df(t,i,a,l,d)}function _y(t,i,a,l){var d=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,i.child=null;return vy(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gu(i,m!==null?m.cachePool:null),m!==null?E0(i,m):uf(),T0(i);else return l=i.lanes=536870912,vy(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(gu(i,m.cachePool),E0(i,m),er(),i.memoizedState=null):(t!==null&&gu(i,null),uf(),er());return ln(t,i,d,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vy(t,i,a,l,d){var m=sf();return m=m===null?null:{parent:Ht._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&gu(i,null),uf(),T0(i),t!==null&&Wa(t,i,l,!0),i.childLanes=d,null}function ju(t,i){return i=Du({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function xy(t,i,a){return aa(i,t.child,null,a),t=ju(i,i.pendingProps),t.flags|=2,Bn(i),i.memoizedState=null,t}function dw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=ju(i,l),i.lanes=536870912,wl(null,t);if(df(i),(t=_t)?(t=Ob(t,ss),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Gs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=i0(t),a.return=i,i.child=a,an=i,_t=null)):t=null,t===null)throw $i(i);return i.lanes=536870912,null}return ju(i,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(df(i),d)if(i.flags&256)i.flags&=-257,i=xy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ft||Wa(t,i,a,!1),d=(a&t.childLanes)!==0,Ft||d){if(l=gt,l!==null&&(_=Go(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Wr(t,_),Cn(l,t,_),Of;qu(),i=xy(t,i,a)}else t=m.treeContext,_t=rs(_.nextSibling),an=i,Ze=!0,Yi=null,ss=!1,t!==null&&o0(i,t),i=ju(i,l),i.flags|=4096;return i}return t=di(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ou(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Df(t,i,a,l,d){return na(i),a=mf(t,i,a,l,void 0,d),l=pf(),t!==null&&!Ft?(gf(t,i,d),bi(t,i,d)):(Ze&&l&&$d(i),i.flags|=1,ln(t,i,a,d),i.child)}function Ey(t,i,a,l,d,m){return na(i),i.updateQueue=null,a=S0(i,l,a,d),w0(t),l=pf(),t!==null&&!Ft?(gf(t,i,m),bi(t,i,m)):(Ze&&l&&$d(i),i.flags|=1,ln(t,i,a,m),i.child)}function Ty(t,i,a,l,d){if(na(i),i.stateNode===null){var m=$a,_=a.contextType;typeof _=="object"&&_!==null&&(m=on(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=kf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},af(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?on(_):$a,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(If(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&kf.enqueueReplaceState(m,m.state,null),_l(i,l,m,d),bl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var E=i.memoizedProps,I=la(a,E);m.props=I;var H=m.context,J=a.contextType;_=$a,typeof J=="object"&&J!==null&&(_=on(J));var Z=a.getDerivedStateFromProps;J=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||H!==_)&&cy(i,m,l,_),Xi=!1;var G=i.memoizedState;m.state=G,_l(i,l,m,d),bl(),H=i.memoizedState,E||G!==H||Xi?(typeof Z=="function"&&(If(i,a,Z,l),H=i.memoizedState),(I=Xi||ly(i,a,I,l,G,H,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=_,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,of(t,i),_=i.memoizedProps,J=la(a,_),m.props=J,Z=i.pendingProps,G=m.context,H=a.contextType,I=$a,typeof H=="object"&&H!==null&&(I=on(H)),E=a.getDerivedStateFromProps,(H=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==Z||G!==I)&&cy(i,m,l,I),Xi=!1,G=i.memoizedState,m.state=G,_l(i,l,m,d),bl();var Q=i.memoizedState;_!==Z||G!==Q||Xi||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof E=="function"&&(If(i,a,E,l),Q=i.memoizedState),(J=Xi||ly(i,a,J,l,G,Q,I)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=I,l=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Ou(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=aa(i,t.child,null,d),i.child=aa(i,null,a,d)):ln(t,i,a,d),i.memoizedState=m.state,t=i.child):t=bi(t,i,d),t}function wy(t,i,a,l){return ea(),i.flags|=256,ln(t,i,a,l),i.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:f0()}}function Lf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=qn),t}function Sy(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ze){if(d?Zi(i):er(),(t=_t)?(t=Ob(t,ss),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Gs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=i0(t),a.return=i,i.child=a,an=i,_t=null)):t=null,t===null)throw $i(i);return _m(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,d?(er(),d=i.mode,E=Du({mode:"hidden",children:E},d),l=Zr(l,d,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Vf(a),l.childLanes=Lf(t,_,a),i.memoizedState=Mf,wl(null,l)):(Zi(i),Uf(i,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(m)i.flags&256?(Zi(i),i.flags&=-257,i=Pf(t,i,a)):i.memoizedState!==null?(er(),i.child=t.child,i.flags|=128,i=null):(er(),E=l.fallback,d=i.mode,l=Du({mode:"visible",children:l.children},d),E=Zr(E,d,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,aa(i,t.child,null,a),l=i.child,l.memoizedState=Vf(a),l.childLanes=Lf(t,_,a),i.memoizedState=Mf,i=wl(null,l));else if(Zi(i),_m(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),i=Pf(t,i,a)}else if(Ft||Wa(t,i,a,!1),_=(a&t.childLanes)!==0,Ft||_){if(_=gt,_!==null&&(l=Go(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Wr(t,l),Cn(_,t,l),Of;bm(E)||qu(),i=Pf(t,i,a)}else bm(E)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,_t=rs(E.nextSibling),an=i,Ze=!0,Yi=null,ss=!1,t!==null&&o0(i,t),i=Uf(i,l.children),i.flags|=4096);return i}return d?(er(),E=l.fallback,d=i.mode,I=t.child,H=I.sibling,l=di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?E=di(H,E):(E=Zr(E,d,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,wl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=Vf(a):(d=E.cachePool,d!==null?(I=Ht._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=f0(),E={baseLanes:E.baseLanes|a,cachePool:d}),l.memoizedState=E,l.childLanes=Lf(t,_,a),i.memoizedState=Mf,wl(t.child,l)):(Zi(i),a=t.child,t=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Uf(t,i){return i=Du({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Du(t,i){return t=Pn(22,t,null,i),t.lanes=0,t}function Pf(t,i,a){return aa(i,t.child,null,a),t=Uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ay(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Zd(t.return,i,a)}function zf(t,i,a,l,d,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=m)}function Ny(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var _=Mt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,oe(Mt,_),ln(t,i,l,a),l=Ze?hl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,i);else if(t.tag===19)Ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Eu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),zf(i,!1,d,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Eu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}zf(i,!0,a,null,m,l);break;case"together":zf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=di(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=di(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function fw(t,i,a){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),Qi(i,Ht,t.memoizedState.cache),ea();break;case 27:case 5:De(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sy(t,i,a):(Zi(i),t=bi(t,i,a),t!==null?t.sibling:null);Zi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Wa(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return Ny(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Mt,Mt.current),l)break;return null;case 22:return i.lanes=0,_y(t,i,a,i.pendingProps);case 24:Qi(i,Ht,t.memoizedState.cache)}return bi(t,i,a)}function Ry(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ft=!0;else{if(!Bf(t,a)&&(i.flags&128)===0)return Ft=!1,fw(t,i,a);Ft=(t.flags&131072)!==0}else Ft=!1,Ze&&(i.flags&1048576)!==0&&a0(i,hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ia(i.elementType),i.type=t,typeof t=="function")Gd(t)?(l=la(t,l),i.tag=1,i=Ty(null,i,t,l,a)):(i.tag=0,i=Df(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===ae){i.tag=11,i=gy(null,i,t,l,a);break e}else if(d===R){i.tag=14,i=yy(null,i,t,l,a);break e}}throw i=ve(t)||t,Error(r(306,i,""))}}return i;case 0:return Df(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=la(l,i.pendingProps),Ty(t,i,l,d,a);case 3:e:{if(re(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,of(t,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Qi(i,Ht,l),l!==m.cache&&ef(i,[Ht],a,!0),bl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=wy(t,i,l,a);break e}else if(l!==d){d=es(Error(r(424)),i),dl(d),i=wy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=rs(t.firstChild),an=i,Ze=!0,Yi=null,ss=!0,a=_0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===d){i=bi(t,i,a);break e}ln(t,i,l,a)}i=i.child}return i;case 26:return Ou(t,i),t===null?(a=Pb(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ze||(a=i.type,t=i.pendingProps,l=Xu(Ne.current).createElement(a),l[Pt]=i,l[Zt]=t,cn(l,a,t),zt(l),i.stateNode=l):i.memoizedState=Pb(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return De(i),t===null&&Ze&&(l=i.stateNode=Vb(i.type,i.pendingProps,Ne.current),an=i,ss=!0,d=_t,lr(i.type)?(vm=d,_t=rs(l.firstChild)):_t=d),ln(t,i,i.pendingProps.children,a),Ou(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ze&&((d=l=_t)&&(l=qw(l,i.type,i.pendingProps,ss),l!==null?(i.stateNode=l,an=i,_t=rs(l.firstChild),ss=!1,d=!0):d=!1),d||$i(i)),De(i),d=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,pm(d,m)?l=null:_!==null&&pm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=mf(t,i,iw,null,null,a),Pl._currentValue=d),Ou(t,i),ln(t,i,l,a),i.child;case 6:return t===null&&Ze&&((t=a=_t)&&(a=Fw(a,i.pendingProps,ss),a!==null?(i.stateNode=a,an=i,_t=null,t=!0):t=!1),t||$i(i)),null;case 13:return Sy(t,i,a);case 4:return re(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=aa(i,null,l,a):ln(t,i,l,a),i.child;case 11:return gy(t,i,i.type,i.pendingProps,a);case 7:return ln(t,i,i.pendingProps,a),i.child;case 8:return ln(t,i,i.pendingProps.children,a),i.child;case 12:return ln(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Qi(i,i.type,l.value),ln(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,na(i),d=on(d),l=l(d),i.flags|=1,ln(t,i,l,a),i.child;case 14:return yy(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return Ny(t,i,a);case 31:return dw(t,i,a);case 22:return _y(t,i,a,i.pendingProps);case 24:return na(i),l=on(Ht),t===null?(d=sf(),d===null&&(d=gt,m=tf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},af(i),Qi(i,Ht,d)):((t.lanes&a)!==0&&(of(t,i),_l(i,null,null,a),bl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Qi(i,Ht,l)):(l=m.cache,Qi(i,Ht,l),l!==d.cache&&ef(i,[Ht],a,!0))),ln(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function _i(t){t.flags|=4}function Hf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(tb())t.flags|=8192;else throw ra=bu,rf}else t.flags&=-16777217}function Cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fb(i))if(tb())t.flags|=8192;else throw ra=bu,rf}function Mu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Bc():536870912,t.lanes|=i,uo|=i)}function Sl(t,i){if(!Ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function mw(t,i,a){var l=i.pendingProps;switch(Qd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pi(Ht),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(i)?_i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jd())),vt(i),null;case 26:var d=i.type,m=i.memoizedState;return t===null?(_i(i),m!==null?(vt(i),Cy(i,m)):(vt(i),Hf(i,d,null,l,a))):m?m!==t.memoizedState?(_i(i),vt(i),Cy(i,m)):(vt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&_i(i),vt(i),Hf(i,d,t,l,a)),null;case 27:if(he(i),a=Ne.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_i(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}t=ce.current,Ja(i)?l0(i):(t=Vb(d,l,a),i.stateNode=t,_i(i))}return vt(i),null;case 5:if(he(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_i(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}if(m=ce.current,Ja(i))l0(i);else{var _=Xu(Ne.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}m[Pt]=i,m[Zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(cn(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_i(i)}}return vt(i),Hf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&_i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ne.current,Ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=an,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sb(t.nodeValue,a)),t||$i(i,!0)}else t=Xu(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return vt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ja(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Pt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),t=!1}else a=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Bn(i),i):(Bn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Pt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),d=!1}else d=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Bn(i),i):(Bn(i),null)}return Bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Mu(i,i.updateQueue),vt(i),null);case 4:return _e(),t===null&&um(i.stateNode.containerInfo),vt(i),null;case 10:return pi(i.type),vt(i),null;case 19:if(X(Mt),l=i.memoizedState,l===null)return vt(i),null;if(d=(i.flags&128)!==0,m=l.rendering,m===null)if(d)Sl(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Eu(t),m!==null){for(i.flags|=128,Sl(l,!1),t=m.updateQueue,i.updateQueue=t,Mu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)s0(a,t),a=a.sibling;return oe(Mt,Mt.current&1|2),Ze&&fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ye()>zu&&(i.flags|=128,d=!0,Sl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Eu(m),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Mu(i,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ze)return vt(i),null}else 2*Ye()-l.renderingStartTime>zu&&a!==536870912&&(i.flags|=128,d=!0,Sl(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,a=Mt.current,oe(Mt,d?a&1|2:a&1),Ze&&fi(i,l.treeForkCount),t):(vt(i),null);case 22:case 23:return Bn(i),hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),a=i.updateQueue,a!==null&&Mu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pi(Ht),vt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function pw(t,i){switch(Qd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pi(Ht),_e(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return he(i),null;case 31:if(i.memoizedState!==null){if(Bn(i),i.alternate===null)throw Error(r(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Mt),null;case 4:return _e(),null;case 10:return pi(i.type),null;case 22:case 23:return Bn(i),hf(),t!==null&&X(sa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pi(Ht),null;case 25:return null;default:return null}}function Iy(t,i){switch(Qd(i),i.tag){case 3:pi(Ht),_e();break;case 26:case 27:case 5:he(i);break;case 4:_e();break;case 31:i.memoizedState!==null&&Bn(i);break;case 13:Bn(i);break;case 19:X(Mt);break;case 10:pi(i.type);break;case 22:case 23:Bn(i),hf(),t!==null&&X(sa);break;case 24:pi(Ht)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==d)}}catch(E){ct(i,i.return,E)}}function tr(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=i;var I=a,H=E;try{H()}catch(J){ct(d,I,J)}}}l=l.next}while(l!==m)}}catch(J){ct(i,i.return,J)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{x0(i,a)}catch(l){ct(t,t.return,l)}}}function jy(t,i,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ct(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ct(t,i,d)}}function Ys(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ct(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ct(t,i,d)}else a.current=null}function Oy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ct(t,t.return,d)}}function qf(t,i,a){try{var l=t.stateNode;Lw(l,t.type,a,i),l[Zt]=i}catch(d){ct(t,t.return,d)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ps));else if(l!==4&&(l===27&&lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Gf(t,i,a),t=t.sibling;t!==null;)Gf(t,i,a),t=t.sibling}function Vu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vu(t,i,a),t=t.sibling;t!==null;)Vu(t,i,a),t=t.sibling}function My(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);cn(i,l,a),i[Pt]=t,i[Zt]=a}catch(m){ct(t,t.return,m)}}var vi=!1,Gt=!1,Kf=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function gw(t,i){if(t=t.containerInfo,fm=sh,t=$g(t),Ud(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,E=-1,I=-1,H=0,J=0,Z=t,G=null;t:for(;;){for(var Q;Z!==a||d!==0&&Z.nodeType!==3||(E=_+d),Z!==m||l!==0&&Z.nodeType!==3||(I=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)G=Z,Z=Q;for(;;){if(Z===t)break t;if(G===a&&++H===d&&(E=_),G===m&&++J===l&&(I=_),(Q=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},sh=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ge=la(a.type,d);t=l.getSnapshotBeforeUpdate(ge,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){ct(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function Ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ei(t,a),l&4&&Al(5,a);break;case 1:if(Ei(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){ct(a,a.return,_)}else{var d=la(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ct(a,a.return,_)}}l&64&&ky(a),l&512&&Nl(a,a.return);break;case 3:if(Ei(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{x0(t,i)}catch(_){ct(a,a.return,_)}}break;case 27:i===null&&l&4&&My(a);case 26:case 5:Ei(t,a),i===null&&l&4&&Oy(a),l&512&&Nl(a,a.return);break;case 12:Ei(t,a);break;case 31:Ei(t,a),l&4&&zy(t,a);break;case 13:Ei(t,a),l&4&&By(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sw.bind(null,a),Gw(t,a))));break;case 22:if(l=a.memoizedState!==null||vi,!l){i=i!==null&&i.memoizedState!==null||Gt,d=vi;var m=Gt;vi=l,(Gt=i)&&!m?Ti(t,a,(a.subtreeFlags&8772)!==0):Ei(t,a),vi=d,Gt=m}break;case 30:break;default:Ei(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Sn=!1;function xi(t,i,a){for(a=a.child;a!==null;)Py(t,i,a),a=a.sibling}function Py(t,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(hs,a)}catch{}switch(a.tag){case 26:Gt||Ys(a,i),xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Ys(a,i);var l=wt,d=Sn;lr(a.type)&&(wt=a.stateNode,Sn=!1),xi(t,i,a),Vl(a.stateNode),wt=l,Sn=d;break;case 5:Gt||Ys(a,i);case 6:if(l=wt,d=Sn,wt=null,xi(t,i,a),wt=l,Sn=d,wt!==null)if(Sn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(m){ct(a,i,m)}else try{wt.removeChild(a.stateNode)}catch(m){ct(a,i,m)}break;case 18:wt!==null&&(Sn?(t=wt,kb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_o(t)):kb(wt,a.stateNode));break;case 4:l=wt,d=Sn,wt=a.stateNode.containerInfo,Sn=!0,xi(t,i,a),wt=l,Sn=d;break;case 0:case 11:case 14:case 15:tr(2,a,i),Gt||tr(4,a,i),xi(t,i,a);break;case 1:Gt||(Ys(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,i,l)),xi(t,i,a);break;case 21:xi(t,i,a);break;case 22:Gt=(l=Gt)||a.memoizedState!==null,xi(t,i,a),Gt=l;break;default:xi(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_o(t)}catch(a){ct(i,i.return,a)}}}function By(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(a){ct(i,i.return,a)}}function yw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Vy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Vy),i;default:throw Error(r(435,t.tag))}}function Lu(t,i){var a=yw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=Aw.bind(null,t,l);l.then(d,d)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){wt=E.stateNode,Sn=!1;break e}break;case 5:wt=E.stateNode,Sn=!1;break e;case 3:case 4:wt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(wt===null)throw Error(r(160));Py(m,_,d),wt=null,Sn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,t),i=i.sibling}var xs=null;function Hy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),Nn(t),l&4&&(tr(3,t,t.return),Al(3,t),tr(5,t,t.return));break;case 1:An(i,t),Nn(t),l&512&&(Gt||a===null||Ys(a,a.return)),l&64&&vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=xs;if(An(i,t),Nn(t),l&512&&(Gt||a===null||Ys(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Os]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),cn(m,l,a),m[Pt]=t,zt(m),l=m;break e;case"link":var _=Hb("link","href",d).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}m=d.createElement(l),cn(m,l,a),d.head.appendChild(m);break;case"meta":if(_=Hb("meta","content",d).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}m=d.createElement(l),cn(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Pt]=t,zt(m),l=m}t.stateNode=l}else qb(d,t.type,t.stateNode);else t.stateNode=Bb(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?qb(d,t.type,t.stateNode):Bb(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),Nn(t),l&512&&(Gt||a===null||Ys(a,a.return)),a!==null&&l&4&&qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),Nn(t),l&512&&(Gt||a===null||Ys(a,a.return)),t.flags&32){d=t.stateNode;try{wn(d,"")}catch(ge){ct(t,t.return,ge)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,qf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Kf=!0);break;case 6:if(An(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){ct(t,t.return,ge)}}break;case 3:if(Zu=null,d=xs,xs=Ju(i.containerInfo),An(i,t),xs=d,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(ge){ct(t,t.return,ge)}Kf&&(Kf=!1,qy(t));break;case 4:l=xs,xs=Ju(t.stateNode.containerInfo),An(i,t),Nn(t),xs=l;break;case 12:An(i,t),Nn(t);break;case 31:An(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 13:An(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=Ye()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=vi,J=Gt;if(vi=H||d,Gt=J||I,An(i,t),Gt=J,vi=H,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||vi||Gt||ca(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var Z=I.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ge){ct(I,I.return,ge)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(ge){ct(I,I.return,ge)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;d?jb(Q,!0):jb(I.stateNode,!1)}catch(ge){ct(I,I.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lu(t,a))));break;case 19:An(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 30:break;case 21:break;default:An(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Dy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=Ff(t);Vu(t,m,d);break;case 5:var _=a.stateNode;a.flags&32&&(wn(_,""),a.flags&=-33);var E=Ff(t);Vu(t,E,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Ff(t);Gf(t,H,I);break;default:throw Error(r(161))}}catch(J){ct(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ei(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(t,i.alternate,i),i=i.sibling}function ca(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:tr(4,i,i.return),ca(i);break;case 1:Ys(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jy(i,i.return,a),ca(i);break;case 27:Vl(i.stateNode);case 26:case 5:Ys(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}t=t.sibling}}function Ti(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ti(d,m,a),Al(4,m);break;case 1:if(Ti(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){ct(l,l.return,H)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)v0(I[d],E)}catch(H){ct(l,l.return,H)}}a&&_&64&&ky(m),Nl(m,m.return);break;case 27:My(m);case 26:case 5:Ti(d,m,a),a&&l===null&&_&4&&Oy(m),Nl(m,m.return);break;case 12:Ti(d,m,a);break;case 31:Ti(d,m,a),a&&_&4&&zy(d,m);break;case 13:Ti(d,m,a),a&&_&4&&By(d,m);break;case 22:m.memoizedState===null&&Ti(d,m,a),Nl(m,m.return);break;case 30:break;default:Ti(d,m,a)}i=i.sibling}}function Yf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function $f(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Es(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(t,i,a,l),i=i.sibling}function Fy(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Es(t,i,a,l),d&2048&&Al(9,i);break;case 1:Es(t,i,a,l);break;case 3:Es(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(d&2048){Es(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ct(i,i.return,I)}}else Es(t,i,a,l);break;case 31:Es(t,i,a,l);break;case 13:Es(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Es(t,i,a,l):Rl(t,i):m._visibility&2?Es(t,i,a,l):(m._visibility|=2,oo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Yf(_,i);break;case 24:Es(t,i,a,l),d&2048&&$f(i.alternate,i);break;default:Es(t,i,a,l)}}function oo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,E=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:oo(m,_,E,I,d),Al(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?oo(m,_,E,I,d):Rl(m,_):(J._visibility|=2,oo(m,_,E,I,d)),d&&H&2048&&Yf(_.alternate,_);break;case 24:oo(m,_,E,I,d),d&&H&2048&&$f(_.alternate,_);break;default:oo(m,_,E,I,d)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Rl(a,l),d&2048&&Yf(l.alternate,l);break;case 24:Rl(a,l),d&2048&&$f(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Cl=8192;function lo(t,i,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)Gy(t,i,a),t=t.sibling}function Gy(t,i,a){switch(t.tag){case 26:lo(t,i,a),t.flags&Cl&&t.memoizedState!==null&&s2(a,xs,t.memoizedState,t.memoizedProps);break;case 5:lo(t,i,a);break;case 3:case 4:var l=xs;xs=Ju(t.stateNode.containerInfo),lo(t,i,a),xs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,lo(t,i,a),Cl=l):lo(t,i,a));break;default:lo(t,i,a)}}function Ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];tn=l,$y(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uu(t)):Il(t);break;default:Il(t)}}function Uu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];tn=l,$y(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:tr(8,i,i.return),Uu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(i));break;default:Uu(i)}t=t.sibling}}function $y(t,i){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var d=l.sibling,m=l.return;if(Uy(l),l===a){tn=null;break e}if(d!==null){d.return=m,tn=d;break e}tn=m}}}var bw={getCacheForType:function(t){var i=on(Ht),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return on(Ht).controller.signal}},_w=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Ge=null,$e=0,lt=0,Hn=null,nr=!1,co=!1,Qf=!1,wi=0,It=0,sr=0,ua=0,Xf=0,qn=0,uo=0,kl=null,Rn=null,Jf=!1,Pu=0,Qy=0,zu=1/0,Bu=null,ir=null,Qt=0,rr=null,ho=null,Si=0,Wf=0,Zf=null,Xy=null,jl=0,em=null;function Fn(){return(it&2)!==0&&$e!==0?$e&-$e:F.T!==null?am():Hc()}function Jy(){if(qn===0)if(($e&536870912)===0||Ze){var t=Lr;Lr<<=1,(Lr&3932160)===0&&(Lr=262144),qn=t}else qn=536870912;return t=zn.current,t!==null&&(t.flags|=32),qn}function Cn(t,i,a){(t===gt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(fo(t,0),ar(t,$e,qn,!1)),Ur(t,a),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(ua|=a),It===4&&ar(t,$e,qn,!1)),$s(t))}function Wy(t,i,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ds(t,i),d=l?Ew(t,i):nm(t,i,!0),m=l;do{if(d===0){co&&!l&&ar(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!vw(a)){d=nm(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;d=kl;var I=E.current.memoizedState.isDehydrated;if(I&&(fo(E,_).flags|=256),_=nm(E,_,!1),_!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=m,ua|=m,d=4;break e}m=Rn,Rn=d,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){fo(t,0),ar(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ar(l,i,qn,!nr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=Pu+300-Ye(),10<d)){if(ar(l,i,qn,!nr),Is(l,0,!0)!==0)break e;Si=i,l.timeoutHandle=Cb(Zy.bind(null,l,a,Rn,Bu,Jf,i,qn,ua,uo,nr,m,"Throttled",-0,0),d);break e}Zy(l,a,Rn,Bu,Jf,i,qn,ua,uo,nr,m,null,-0,0)}}break}while(!0);$s(t)}function Zy(t,i,a,l,d,m,_,E,I,H,J,Z,G,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},Gy(i,m,Z);var ge=(m&62914560)===m?Pu-Ye():(m&4194048)===m?Qy-Ye():0;if(ge=i2(Z,ge),ge!==null){Si=m,t.cancelPendingCommit=ge(ob.bind(null,t,i,m,a,l,d,_,E,I,J,Z,null,G,Q)),ar(t,m,_,!H);return}}ob(t,i,m,a,l,d,_,E,I)}function vw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Un(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ar(t,i,a,l){i&=~Xf,i&=~ua,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-Ot(d),_=1<<m;l[m]=-1,d&=~_}a!==0&&Pr(t,a,i)}function Hu(){return(it&6)===0?(Ol(0),!1):!0}function tm(){if(Ge!==null){if(lt===0)var t=Ge.return;else t=Ge,mi=ta=null,yf(t),no=null,pl=0,t=Ge;for(;t!==null;)Iy(t.alternate,t),t=t.return;Ge=null}}function fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Si=0,tm(),gt=t,Ge=a=di(t.current,null),$e=i,lt=0,Hn=null,nr=!1,co=ds(t,i),Qf=!1,uo=qn=Xf=ua=sr=It=0,Rn=kl=null,Jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-Ot(l),m=1<<d;i|=t[d],l&=~m}return wi=i,cu(),a}function eb(t,i){qe=null,F.H=Tl,i===to||i===yu?(i=g0(),lt=3):i===rf?(i=g0(),lt=4):lt=i===Of?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Ge===null&&(It=1,ku(t,es(i,t.current)))}function tb(){var t=zn.current;return t===null?!0:($e&4194048)===$e?is===null:($e&62914560)===$e||($e&536870912)!==0?t===is:!1}function nb(){var t=F.H;return F.H=Tl,t===null?Tl:t}function sb(){var t=F.A;return F.A=bw,t}function qu(){It=4,nr||($e&4194048)!==$e&&zn.current!==null||(co=!0),(sr&134217727)===0&&(ua&134217727)===0||gt===null||ar(gt,$e,qn,!1)}function nm(t,i,a){var l=it;it|=2;var d=nb(),m=sb();(gt!==t||$e!==i)&&(Bu=null,fo(t,i)),i=!1;var _=It;e:do try{if(lt!==0&&Ge!==null){var E=Ge,I=Hn;switch(lt){case 8:tm(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var H=lt;if(lt=0,Hn=null,mo(t,E,I,H),a&&co){_=0;break e}break;default:H=lt,lt=0,Hn=null,mo(t,E,I,H)}}xw(),_=It;break}catch(J){eb(t,J)}while(!0);return i&&t.shellSuspendCounter++,mi=ta=null,it=l,F.H=d,F.A=m,Ge===null&&(gt=null,$e=0,cu()),_}function xw(){for(;Ge!==null;)ib(Ge)}function Ew(t,i){var a=it;it|=2;var l=nb(),d=sb();gt!==t||$e!==i?(Bu=null,zu=Ye()+500,fo(t,i)):co=ds(t,i);e:do try{if(lt!==0&&Ge!==null){i=Ge;var m=Hn;t:switch(lt){case 1:lt=0,Hn=null,mo(t,i,m,1);break;case 2:case 9:if(m0(m)){lt=0,Hn=null,rb(i);break}i=function(){lt!==2&&lt!==9||gt!==t||(lt=7),$s(t)},m.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:m0(m)?(lt=0,Hn=null,rb(i)):(lt=0,Hn=null,mo(t,i,m,7));break;case 5:var _=null;switch(Ge.tag){case 26:_=Ge.memoizedState;case 5:case 27:var E=Ge;if(_?Fb(_):E.stateNode.complete){lt=0,Hn=null;var I=E.sibling;if(I!==null)Ge=I;else{var H=E.return;H!==null?(Ge=H,Fu(H)):Ge=null}break t}}lt=0,Hn=null,mo(t,i,m,5);break;case 6:lt=0,Hn=null,mo(t,i,m,6);break;case 8:tm(),It=6;break e;default:throw Error(r(462))}}Tw();break}catch(J){eb(t,J)}while(!0);return mi=ta=null,F.H=l,F.A=d,it=a,Ge!==null?0:(gt=null,$e=0,cu(),It)}function Tw(){for(;Ge!==null&&!Vi();)ib(Ge)}function ib(t){var i=Ry(t.alternate,t,wi);t.memoizedProps=t.pendingProps,i===null?Fu(t):Ge=i}function rb(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ey(a,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=Ey(a,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:yf(i);default:Iy(a,i),i=Ge=s0(i,wi),i=Ry(a,i,wi)}t.memoizedProps=t.pendingProps,i===null?Fu(t):Ge=i}function mo(t,i,a,l){mi=ta=null,yf(i),no=null,pl=0;var d=i.return;try{if(hw(t,d,i,a,$e)){It=1,ku(t,es(a,t.current)),Ge=null;return}}catch(m){if(d!==null)throw Ge=d,m;It=1,ku(t,es(a,t.current)),Ge=null;return}i.flags&32768?(Ze||l===1?t=!0:co||($e&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ab(i,t)):Fu(i)}function Fu(t){var i=t;do{if((i.flags&32768)!==0){ab(i,nr);return}t=i.return;var a=mw(i.alternate,i,wi);if(a!==null){Ge=a;return}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=t}while(i!==null);It===0&&(It=5)}function ab(t,i){do{var a=pw(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);It=6,Ge=null}function ob(t,i,a,l,d,m,_,E,I){t.cancelPendingCommit=null;do Gu();while(Qt!==0);if((it&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=qd,Dd(t,a,m,_,E,I),t===gt&&(Ge=gt=null,$e=0),ho=i,rr=t,Si=a,Wf=m,Zf=d,Xy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nw(Yn,function(){return db(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,d=se.p,se.p=2,_=it,it|=4;try{gw(t,i,a)}finally{it=_,se.p=d,F.T=l}}Qt=1,lb(),cb(),ub()}}function lb(){if(Qt===1){Qt=0;var t=rr,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var d=it;it|=4;try{Hy(i,t);var m=mm,_=$g(t.containerInfo),E=m.focusedElem,I=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&Yg(E.ownerDocument.documentElement,E)){if(I!==null&&Ud(E)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(J,E.value.length);else{var Z=E.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ge=E.textContent.length,Re=Math.min(I.start,ge),mt=I.end===void 0?Re:Math.min(I.end,ge);!Q.extend&&Re>mt&&(_=mt,mt=Re,Re=_);var P=Kg(E,Re),D=Kg(E,mt);if(P&&D&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==D.node||Q.focusOffset!==D.offset)){var B=Z.createRange();B.setStart(P.node,P.offset),Q.removeAllRanges(),Re>mt?(Q.addRange(B),Q.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),Q.addRange(B))}}}}for(Z=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var W=Z[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}sh=!!fm,mm=fm=null}finally{it=d,se.p=l,F.T=a}}t.current=i,Qt=2}}function cb(){if(Qt===2){Qt=0;var t=rr,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var d=it;it|=4;try{Ly(t,i.alternate,i)}finally{it=d,se.p=l,F.T=a}}Qt=3}}function ub(){if(Qt===4||Qt===3){Qt=0,xe();var t=rr,i=ho,a=Si,l=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qt=5:(Qt=0,ho=rr=null,hb(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ir=null),li(a),i=i.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(hs,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,d=se.p,se.p=2,F.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];m(E.value,{componentStack:E.stack})}}finally{F.T=i,se.p=d}}(Si&3)!==0&&Gu(),$s(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===em?jl++:(jl=0,em=t):jl=0,Ol(0)}}function hb(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Gu(){return lb(),cb(),ub(),db()}function db(){if(Qt!==5)return!1;var t=rr,i=Wf;Wf=0;var a=li(Si),l=F.T,d=se.p;try{se.p=32>a?32:a,F.T=null,a=Zf,Zf=null;var m=rr,_=Si;if(Qt=0,ho=rr=null,Si=0,(it&6)!==0)throw Error(r(331));var E=it;if(it|=4,Yy(m.current),Fy(m,m.current,_,a),it=E,Ol(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(hs,m)}catch{}return!0}finally{se.p=d,F.T=l,hb(t,i)}}function fb(t,i,a){i=es(a,i),i=jf(t.stateNode,i,2),t=Wi(t,i,2),t!==null&&(Ur(t,2),$s(t))}function ct(t,i,a){if(t.tag===3)fb(t,t,a);else for(;i!==null;){if(i.tag===3){fb(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=es(a,t),a=my(2),l=Wi(i,a,2),l!==null&&(py(a,l,i,t),Ur(l,2),$s(l));break}}i=i.return}}function sm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _w;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Qf=!0,d.add(a),t=ww.bind(null,t,i,a),i.then(t,t))}function ww(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gt===t&&($e&a)===a&&(It===4||It===3&&($e&62914560)===$e&&300>Ye()-Pu?(it&2)===0&&fo(t,0):Xf|=a,uo===$e&&(uo=0)),$s(t)}function mb(t,i){i===0&&(i=Bc()),t=Wr(t,i),t!==null&&(Ur(t,i),$s(t))}function Sw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),mb(t,a)}function Aw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),mb(t,a)}function Nw(t,i){return rt(t,i)}var Ku=null,po=null,im=!1,Yu=!1,rm=!1,or=0;function $s(t){t!==po&&t.next===null&&(po===null?Ku=po=t:po=po.next=t),Yu=!0,im||(im=!0,Cw())}function Ol(t,i){if(!rm&&Yu){rm=!0;do for(var a=!1,l=Ku;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var _=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Ot(42|t)+1)-1,m&=d&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,bb(l,m))}else m=$e,m=Is(l,l===gt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ds(l,m)||(a=!0,bb(l,m));l=l.next}while(a);rm=!1}}function Rw(){pb()}function pb(){Yu=im=!1;var t=0;or!==0&&Pw()&&(t=or);for(var i=Ye(),a=null,l=Ku;l!==null;){var d=l.next,m=gb(l,i);m===0?(l.next=null,a===null?Ku=d:a.next=d,d===null&&(po=a)):(a=l,(t!==0||(m&3)!==0)&&(Yu=!0)),l=d}Qt!==0&&Qt!==5||Ol(t),or!==0&&(or=0)}function gb(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-Ot(m),E=1<<_,I=d[_];I===-1?((E&a)===0||(E&l)!==0)&&(d[_]=Od(E,i)):I<=i&&(t.expiredLanes|=E),m&=~E}if(i=gt,a=$e,a=Is(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ns(l),li(a)){case 2:case 8:a=Vr;break;case 32:a=Yn;break;case 268435456:a=Vc;break;default:a=Yn}return l=yb.bind(null,t),a=rt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ns(l),t.callbackPriority=2,t.callbackNode=null,2}function yb(t,i){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=$e;return l=Is(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wy(t,l,i),gb(t,Ye()),t.callbackNode!=null&&t.callbackNode===a?yb.bind(null,t):null)}function bb(t,i){if(Gu())return null;Wy(t,i,!0)}function Cw(){Bw(function(){(it&6)!==0?rt(Mn,Rw):pb()})}function am(){if(or===0){var t=Za;t===0&&(t=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),or=t}return or}function _b(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ua(""+t)}function vb(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Iw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=_b((d[Zt]||null).action),_=l.submitter;_&&(i=(i=_[Zt]||null)?_b(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var E=new Bs("action","action",null,l,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var I=_?vb(d,_):new FormData(d);Af(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(E.preventDefault(),I=_?vb(d,_):new FormData(d),Af(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var om=0;om<Hd.length;om++){var lm=Hd[om],kw=lm.toLowerCase(),jw=lm[0].toUpperCase()+lm.slice(1);vs(kw,"on"+jw)}vs(Jg,"onAnimationEnd"),vs(Wg,"onAnimationIteration"),vs(Zg,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs($T,"onTransitionRun"),vs(QT,"onTransitionStart"),vs(XT,"onTransitionCancel"),vs(e0,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function xb(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],I=E.instance,H=E.currentTarget;if(E=E.listener,I!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=H;try{m(d)}catch(J){lu(J)}d.currentTarget=null,m=I}else for(_=0;_<l.length;_++){if(E=l[_],I=E.instance,H=E.currentTarget,E=E.listener,I!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=H;try{m(d)}catch(J){lu(J)}d.currentTarget=null,m=I}}}}function Ke(t,i){var a=i[Oa];a===void 0&&(a=i[Oa]=new Set);var l=t+"__bubble";a.has(l)||(Eb(i,t,2,!1),a.add(l))}function cm(t,i,a){var l=0;i&&(l|=4),Eb(a,t,l,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[$u]){t[$u]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(Ow.has(a)||cm(a,!1,t),cm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[$u]||(i[$u]=!0,cm("selectionchange",!1,i))}}function Eb(t,i,a,l){switch(Jb(i)){case 2:var d=o2;break;case 8:d=l2;break;default:d=Sm}a=d.bind(null,i,a,t),d=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function hm(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=Ds(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=m=_;continue e}E=E.parentNode}}l=l.return}Hi(function(){var H=m,J=Xn(a),Z=[];e:{var G=t0.get(t);if(G!==void 0){var Q=Bs,ge=t;switch(t){case"keypress":if(Kr(a)===0)break e;case"keydown":case"keyup":Q=ru;break;case"focusin":ge="focus",Q=$r;break;case"focusout":ge="blur",Q=$r;break;case"beforeblur":case"afterblur":Q=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=b;break;case Jg:case Wg:case Zg:Q=Wc;break;case e0:Q=w;break;case"scroll":case"scrollend":Q=il;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=hi;break;case"toggle":case"beforetoggle":Q=He}var Re=(i&4)!==0,mt=!Re&&(t==="scroll"||t==="scrollend"),P=Re?G!==null?G+"Capture":null:G;Re=[];for(var D=H,B;D!==null;){var W=D;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||P===null||(W=gs(D,P),W!=null&&Re.push(Ml(D,W,B))),mt)break;D=D.return}0<Re.length&&(G=new Q(G,ge,null,a,J),Z.push({event:G,listeners:Re}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==tl&&(ge=a.relatedTarget||a.fromElement)&&(Ds(ge)||ge[js]))break e;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ge=a.relatedTarget||a.toElement,Q=H,ge=ge?Ds(ge):null,ge!==null&&(mt=c(ge),Re=ge.tag,ge!==mt||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(Q=null,ge=H),Q!==ge)){if(Re=rl,W="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Re=hi,W="onPointerLeave",P="onPointerEnter",D="pointer"),mt=Q==null?G:Vn(Q),B=ge==null?G:Vn(ge),G=new Re(W,D+"leave",Q,a,J),G.target=mt,G.relatedTarget=B,W=null,Ds(J)===H&&(Re=new Re(P,D+"enter",ge,a,J),Re.target=B,Re.relatedTarget=mt,W=Re),mt=W,Q&&ge)t:{for(Re=Dw,P=Q,D=ge,B=0,W=P;W;W=Re(W))B++;W=0;for(var Se=D;Se;Se=Re(Se))W++;for(;0<B-W;)P=Re(P),B--;for(;0<W-B;)D=Re(D),W--;for(;B--;){if(P===D||D!==null&&P===D.alternate){Re=P;break t}P=Re(P),D=Re(D)}Re=null}else Re=null;Q!==null&&Tb(Z,G,Q,Re,!1),ge!==null&&mt!==null&&Tb(Z,mt,ge,Re,!0)}}e:{if(G=H?Vn(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var tt=zg;else if(Ug(G))if(Bg)tt=GT;else{tt=qT;var Te=HT}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&La(H.elementType)&&(tt=zg):tt=FT;if(tt&&(tt=tt(t,H))){Pg(Z,tt,a,J);break e}Te&&Te(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Wo(G,"number",G.value)}switch(Te=H?Vn(H):window,t){case"focusin":(Ug(Te)||Te.contentEditable==="true")&&(Ga=Te,Pd=H,ul=null);break;case"focusout":ul=Pd=Ga=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Qg(Z,a,J);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Qg(Z,a,J)}var Fe;if(st)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Fa?Qr(t,a)&&(Qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(Fs&&a.locale!=="ko"&&(Fa||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Fa&&(Fe=sl()):(zs=J,nl="value"in zs?zs.value:zs.textContent,Fa=!0)),Te=Qu(H,Qe),0<Te.length&&(Qe=new qs(Qe,t,null,a,J),Z.push({event:Qe,listeners:Te}),Fe?Qe.data=Fe:(Fe=qa(a),Fe!==null&&(Qe.data=Fe)))),(Fe=Wn?UT(t,a):PT(t,a))&&(Qe=Qu(H,"onBeforeInput"),0<Qe.length&&(Te=new qs("onBeforeInput","beforeinput",null,a,J),Z.push({event:Te,listeners:Qe}),Te.data=Fe)),Iw(Z,t,H,a,J)}xb(Z,i)})}function Ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qu(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=gs(t,a),d!=null&&l.unshift(Ml(t,d,m)),d=gs(t,i),d!=null&&l.push(Ml(t,d,m))),t.tag===3)return l;t=t.return}return[]}function Dw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tb(t,i,a,l,d){for(var m=i._reactName,_=[];a!==null&&a!==l;){var E=a,I=E.alternate,H=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||H===null||(I=H,d?(H=gs(a,m),H!=null&&_.unshift(Ml(a,H,I))):d||(H=gs(a,m),H!=null&&_.push(Ml(a,H,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Mw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function wb(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(Vw,"")}function Sb(t,i){return i=wb(i),wb(t)===i}function ft(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Ln(t,"class",l);break;case"tabIndex":Ln(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,a,l);break;case"style":el(t,l,m);break;case"data":if(i!=="object"){Ln(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ua(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ft(t,i,"name",d.name,d,null),ft(t,i,"formEncType",d.formEncType,d,null),ft(t,i,"formMethod",d.formMethod,d,null),ft(t,i,"formTarget",d.formTarget,d,null)):(ft(t,i,"encType",d.encType,d,null),ft(t,i,"method",d.method,d,null),ft(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ua(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ps);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qc.get(a)||a,Ma(t,a,l))}}function dm(t,i,a,l,d,m){switch(a){case"style":el(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[Zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function cn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,m,_,a,null)}}d&&ft(t,i,"srcSet",a.srcSet,a,null),l&&ft(t,i,"src",a.src,a,null);return;case"input":Ke("invalid",t);var E=m=_=d=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":_=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":m=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:ft(t,i,l,J,a,null)}}Kc(t,m,E,I,H,_,d,!1);return;case"select":Ke("invalid",t),l=_=m=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:ft(t,i,d,E,a,null)}i=m,a=_,t.multiple=!!l,i!=null?Ui(t,!!l,i,!1):a!=null&&Ui(t,!!l,a,!0);return;case"textarea":Ke("invalid",t),m=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ft(t,i,_,E,a,null)}Pi(t,l,d,m);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,i,I,l,a,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ke(Dl[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,H,l,a,null)}return;default:if(La(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&dm(t,i,J,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ft(t,i,E,l,a,null))}function Lw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,E=null,I=null,H=null,J=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(Q)||ft(t,i,Q,null,l,Z)}}for(var G in l){var Q=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(Q!=null||Z!=null))switch(G){case"type":m=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==Z&&ft(t,i,G,Q,l,Z)}}Va(t,_,E,I,H,J,m,d);return;case"select":Q=_=E=G=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(m)||ft(t,i,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":G=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==I&&ft(t,i,d,m,l,I)}i=E,a=_,l=Q,G!=null?Ui(t,!!a,G,!1):!!l!=!!a&&(i!=null?Ui(t,!!a,i,!0):Ui(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ft(t,i,E,null,l,d)}for(_ in l)if(d=l[_],m=a[_],l.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&ft(t,i,_,d,l,m)}Yc(t,G,Q);return;case"option":for(var ge in a)if(G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:ft(t,i,ge,null,l,G)}for(I in l)if(G=l[I],Q=a[I],l.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ft(t,i,I,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)G=a[Re],a.hasOwnProperty(Re)&&G!=null&&!l.hasOwnProperty(Re)&&ft(t,i,Re,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:ft(t,i,H,G,l,Q)}return;default:if(La(i)){for(var mt in a)G=a[mt],a.hasOwnProperty(mt)&&G!==void 0&&!l.hasOwnProperty(mt)&&dm(t,i,mt,void 0,l,G);for(J in l)G=l[J],Q=a[J],!l.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||dm(t,i,J,G,l,Q);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&ft(t,i,P,null,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G==null&&Q==null||ft(t,i,Z,G,l,Q)}function Ab(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],m=d.transferSize,_=d.initiatorType,E=d.duration;if(m&&E&&Ab(_)){for(_=0,E=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>E)break;var J=I.transferSize,Z=I.initiatorType;J&&Ab(Z)&&(I=I.responseEnd,_+=J*(I<E?1:(E-H)/(I-H)))}if(--l,i+=8*(m+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fm=null,mm=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function Nb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var Cb=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(t){return Ib.resolve(null).then(t).catch(Hw)}:Cb;function Hw(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function kb(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var m=a.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[Os]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Vl(t.ownerDocument.body);a=d}while(a);_o(i)}function jb(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ym(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Os])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=rs(t.nextSibling),t===null)break}return null}function Fw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rs(t.nextSibling),t===null))return null;return t}function Ob(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=rs(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$?"||t.data==="$~"}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function rs(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var vm=null;function Db(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return rs(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Mb(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Vb(t,i,a){switch(i=Xu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Da(t)}var as=new Map,Lb=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=se.d;se.d={f:Kw,r:Yw,D:$w,C:Qw,L:Xw,m:Jw,X:Zw,S:Ww,M:e2};function Kw(){var t=Ai.f(),i=Hu();return t||i}function Yw(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?ey(i):Ai.r(t)}var go=typeof document>"u"?null:document;function Ub(t,i,a){var l=go;if(l&&typeof i=="string"&&i){var d=Tn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Lb.has(d)||(Lb.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),cn(i,"link",t),zt(i),l.head.appendChild(i)))}}function $w(t){Ai.D(t),Ub("dns-prefetch",t,null)}function Qw(t,i){Ai.C(t,i),Ub("preconnect",t,i)}function Xw(t,i,a){Ai.L(t,i,a);var l=go;if(l&&t&&i){var d='link[rel="preload"][as="'+Tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Tn(a.imageSizes)+'"]')):d+='[href="'+Tn(t)+'"]';var m=d;switch(i){case"style":m=yo(t);break;case"script":m=bo(t)}as.has(m)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),as.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ll(m))||i==="script"&&l.querySelector(Ul(m))||(i=l.createElement("link"),cn(i,"link",t),zt(i),l.head.appendChild(i)))}}function Jw(t,i){Ai.m(t,i);var a=go;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=bo(t)}if(!as.has(m)&&(t=T({rel:"modulepreload",href:t},i),as.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(m)))return}l=a.createElement("link"),cn(l,"link",t),zt(l),a.head.appendChild(l)}}}function Ww(t,i,a){Ai.S(t,i,a);var l=go;if(l&&t){var d=Ms(l).hoistableStyles,m=yo(t);i=i||"default";var _=d.get(m);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Ll(m)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=as.get(m))&&xm(t,a);var I=_=l.createElement("link");zt(I),cn(I,"link",t),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(m,_)}}}function Zw(t,i){Ai.X(t,i);var a=go;if(a&&t){var l=Ms(a).hoistableScripts,d=bo(t),m=l.get(d);m||(m=a.querySelector(Ul(d)),m||(t=T({src:t,async:!0},i),(i=as.get(d))&&Em(t,i),m=a.createElement("script"),zt(m),cn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function e2(t,i){Ai.M(t,i);var a=go;if(a&&t){var l=Ms(a).hoistableScripts,d=bo(t),m=l.get(d);m||(m=a.querySelector(Ul(d)),m||(t=T({src:t,async:!0,type:"module"},i),(i=as.get(d))&&Em(t,i),m=a.createElement("script"),zt(m),cn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Pb(t,i,a,l){var d=(d=Ne.current)?Ju(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=Ms(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var m=Ms(d).hoistableStyles,_=m.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=d.querySelector(Ll(t)))&&!m._p&&(_.instance=m,_.state.loading=5),as.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},as.set(t,a),m||t2(d,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(a),a=Ms(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yo(t){return'href="'+Tn(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function zb(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function t2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",a),zt(i),t.head.appendChild(i))}function bo(t){return'[src="'+Tn(t)+'"]'}function Ul(t){return"script[async]"+t}function Bb(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return i.instance=l,zt(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),cn(l,"style",d),Wu(l,a.precedence,t),i.instance=l;case"stylesheet":d=yo(a.href);var m=t.querySelector(Ll(d));if(m)return i.state.loading|=4,i.instance=m,zt(m),m;l=zb(a),(d=as.get(d))&&xm(l,d),m=(t.ownerDocument||t).createElement("link"),zt(m);var _=m;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),cn(m,"link",l),i.state.loading|=4,Wu(m,a.precedence,t),i.instance=m;case"script":return m=bo(a.src),(d=t.querySelector(Ul(m)))?(i.instance=d,zt(d),d):(l=a,(d=as.get(m))&&(l=T({},a),Em(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),zt(d),cn(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wu(l,a.precedence,t));return i.instance}function Wu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function xm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zu=null;function Hb(t,i,a){if(Zu===null){var l=new Map,d=Zu=new Map;d.set(a,l)}else d=Zu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Os]||m[Pt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var E=l.get(_);E?E.push(m):l.set(_,[m])}}return l}function qb(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function n2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function s2(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=yo(l.href),m=i.querySelector(Ll(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,zt(m);return}m=i.ownerDocument||i,l=zb(l),(d=as.get(d))&&xm(l,d),m=m.createElement("link"),zt(m);var _=m;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),cn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Tm=0;function i2(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Tm===0&&(Tm=62500*Uw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Tm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(r2,t),th=null,eh.call(t))}function r2(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,d),a.set(_,d),this.count++,l=eh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:K,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function a2(t,i,a,l,d,m,_,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Gb(t,i,a,l,d,m,_,E,I,H,J,Z){return t=new a2(t,i,a,_,I,H,J,Z,E),i=1,m===!0&&(i|=24),m=Pn(3,null,null,i),t.current=m,m.stateNode=t,i=tf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},af(m),t}function Kb(t){return t?(t=$a,t):$a}function Yb(t,i,a,l,d,m){d=Kb(d),l.context===null?l.context=d:l.pendingContext=d,l=Ji(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Wi(t,l,i),a!==null&&(Cn(a,t,i),yl(a,t,i))}function $b(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function wm(t,i){$b(t,i),(t=t.alternate)&&$b(t,i)}function Qb(t){if(t.tag===13||t.tag===31){var i=Wr(t,67108864);i!==null&&Cn(i,t,67108864),wm(t,67108864)}}function Xb(t){if(t.tag===13||t.tag===31){var i=Fn();i=zr(i);var a=Wr(t,i);a!==null&&Cn(a,t,i),wm(t,i)}}var sh=!0;function o2(t,i,a,l){var d=F.T;F.T=null;var m=se.p;try{se.p=2,Sm(t,i,a,l)}finally{se.p=m,F.T=d}}function l2(t,i,a,l){var d=F.T;F.T=null;var m=se.p;try{se.p=8,Sm(t,i,a,l)}finally{se.p=m,F.T=d}}function Sm(t,i,a,l){if(sh){var d=Am(l);if(d===null)hm(t,i,l,ih,a),Wb(t,l);else if(u2(d,t,i,a,l))l.stopPropagation();else if(Wb(t,l),i&4&&-1<c2.indexOf(t)){for(;d!==null;){var m=Qn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Cs(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-Ot(_);E.entanglements[1]|=I,_&=~I}$s(m),(it&6)===0&&(zu=Ye()+500,Ol(0))}}break;case 31:case 13:E=Wr(m,2),E!==null&&Cn(E,m,2),Hu(),wm(m,2)}if(m=Am(l),m===null&&hm(t,i,l,ih,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else hm(t,i,l,null,a)}}function Am(t){return t=Xn(t),Nm(t)}var ih=null;function Nm(t){if(ih=null,t=Ds(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ih=t,null}function Jb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Mn:return 2;case Vr:return 8;case Yn:case qo:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var Rm=!1,cr=null,ur=null,hr=null,zl=new Map,Bl=new Map,dr=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wb(t,i){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function Hl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Qn(i),i!==null&&Qb(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function u2(t,i,a,l,d){switch(i){case"focusin":return cr=Hl(cr,t,i,a,l,d),!0;case"dragenter":return ur=Hl(ur,t,i,a,l,d),!0;case"mouseover":return hr=Hl(hr,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return zl.set(m,Hl(zl.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Bl.set(m,Hl(Bl.get(m)||null,t,i,a,l,d)),!0}return!1}function Zb(t){var i=Ds(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,fs(t.priority,function(){Xb(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,fs(t.priority,function(){Xb(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=Qn(a),i!==null&&Qb(i),t.blockedOn=a,!1;i.shift()}return!0}function e_(t,i,a){rh(t)&&a.delete(i)}function h2(){Rm=!1,cr!==null&&rh(cr)&&(cr=null),ur!==null&&rh(ur)&&(ur=null),hr!==null&&rh(hr)&&(hr=null),zl.forEach(e_),Bl.forEach(e_)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,Rm||(Rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,h2)))}var oh=null;function t_(t){oh!==t&&(oh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var m=Qn(a);m!==null&&(t.splice(i,3),i-=3,Af(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function _o(t){function i(I){return ah(I,t)}cr!==null&&ah(cr,t),ur!==null&&ah(ur,t),hr!==null&&ah(hr,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<dr.length;a++){var l=dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)Zb(a),a.blockedOn===null&&dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],_=d[Zt]||null;if(typeof m=="function")_||t_(a);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Zt]||null)E=_.formAction;else if(Nm(d)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),t_(a)}}}function n_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Cm(t){this._internalRoot=t}lh.prototype.render=Cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Fn();Yb(a,l,t,i,null,null)},lh.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Yb(t.current,2,null,t,null,null),Hu(),i[js]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Hc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<dr.length&&i!==0&&i<dr[a].priority;a++);dr.splice(a,0,t),a===0&&Zb(t)}};var s_=e.version;if(s_!=="19.2.4")throw Error(r(527,s_,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var d2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{hs=ch.inject(d2),sn=ch}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=uy,m=hy,_=dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Gb(t,1,!1,null,null,a,l,null,d,m,_,n_),t[js]=i.current,um(t),new Cm(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",m=uy,_=hy,E=dy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Gb(t,1,!0,i,a??null,l,d,I,m,_,E,n_),i.context=Kb(null),a=i.current,l=Fn(),l=zr(l),d=Ji(l),d.callback=null,Wi(a,d,l),a=l,i.current.lanes=a,Ur(i,a),$s(i),t[js]=i.current,um(t),new lh(i)},Fl.version="19.2.4",Fl}var f_;function T2(){if(f_)return jm.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jm.exports=E2(),jm.exports}var w2=T2();const S2=bx(w2);var gn=(s=>(s.DASHBOARD="DASHBOARD",s.OPTIMIZATION="OPTIMIZATION",s.OPTIMIZATION2="OPTIMIZATION2",s.SETTINGS="SETTINGS",s.WEALTH_PLUS="WEALTH_PLUS",s))(gn||{});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=s=>{const e=N2(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=te.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:h,...p},g)=>te.createElement("svg",{ref:g,...R2,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:_x("lucide",o),...!c&&!C2(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>te.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(s,e)=>{const n=te.forwardRef(({className:r,...o},c)=>te.createElement(I2,{ref:c,iconNode:e,className:_x(`lucide-${A2(m_(s))}`,`lucide-${s}`,r),...o}));return n.displayName=m_(s),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vx=Ve("activity",k2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pr=Ve("arrow-left",j2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ls=Ve("arrow-right",O2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],xx=Ve("banknote",D2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jh=Ve("briefcase",M2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],L2=Ve("building",V2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P2=Ve("calendar",U2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],B2=Ve("car-front",z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Oh=Ve("car",H2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],F2=Ve("chart-column",q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dh=Ve("circle-alert",G2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zm=Ve("circle-check",K2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p_=Ve("clock",Y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Q2=Ve("coffee",$2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],J2=Ve("compass",X2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z2=Ve("file-text",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],tS=Ve("frown",eS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ex=Ve("graduation-cap",nS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Mh=Ve("house",sS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],g_=Ve("info",iS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],y_=Ve("log-in",rS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oS=Ve("log-out",aS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cS=Ve("map-pin",lS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Tx=Ve("moon",uS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],b_=Ve("mountain",hS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],wx=Ve("plane",dS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vh=Ve("plus",fS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Lh=Ve("refresh-cw",mS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gS=Ve("save",pS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],bS=Ve("settings-2",yS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vS=Ve("settings",_S);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Op=Ve("shield-check",xS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],TS=Ve("smile",ES);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],__=Ve("sparkles",wS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sx=Ve("sun",SS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],da=Ve("target",AS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RS=Ve("trash-2",NS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],IS=Ve("trending-down",CS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ax=Ve("trending-up",kS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OS=Ve("triangle-alert",jS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MS=Ve("user-plus",DS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ep=Ve("user",VS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Uh=Ve("wallet",LS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tp=Ve("x",US);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ph=Ve("zap",PS),Nx=te.createContext({}),Rx=()=>te.useContext(Nx),zS=({children:s})=>{const[e,n]=te.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o==="light"?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});te.useEffect(()=>{const o=window.document.documentElement;e==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(o=>o==="light"?"dark":"light")};return f.jsx(Nx.Provider,{value:{theme:e,toggleTheme:r},children:s})},BS=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},HS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,x=c>>2,T=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,L=y&63;g||(L=64,h||(S=64)),r.push(n[x],n[T],n[S],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Cx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):HS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const T=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||T==null)throw new qS;const S=c<<2|p>>4;if(r.push(S),y!==64){const L=p<<4&240|y>>2;if(r.push(L),T!==64){const O=y<<6&192|T;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class qS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(s){const e=Cx(s);return Ix.encodeByteArray(e,!0)},zh=function(s){return FS(s).replace(/\./g,"")},kx=function(s){try{return Ix.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>GS().__FIREBASE_DEFAULTS__,YS=()=>{if(typeof process>"u"||typeof v_>"u")return;const s=v_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$S=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kx(s[1]);return e&&JSON.parse(e)},od=()=>{try{return BS()||KS()||YS()||$S()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jx=s=>{var e,n;return(n=(e=od())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},Ox=s=>{const e=jx(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dx=()=>{var s;return(s=od())==null?void 0:s.config},Mx=s=>{var e;return(e=od())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[zh(JSON.stringify(n)),zh(JSON.stringify(h)),""].join(".")}const nc={};function XS(){const s={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?s.emulator.push(e):s.prod.push(e);return s}function JS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let x_=!1;function Mp(s,e){if(typeof window>"u"||typeof document>"u"||!jr(window.location.host)||nc[s]===e||nc[s]||x_)return;nc[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=XS().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{x_=!0,h()},S}function x(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=JS(r),L=n("text"),O=document.getElementById(L)||document.createElement("span"),q=n("learnmore"),U=document.getElementById(q)||document.createElement("a"),ne=n("preprendIcon"),le=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;p(K),x(U,q);const ae=y();g(le,ne),K.append(le,O,U,ae),document.body.appendChild(K)}c?(O.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function ZS(){var e;const s=(e=od())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const s=_n();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function iA(){return!ZS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oA,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?lA(c,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new ai(o,p,r)}}function lA(s,e){return s.replace(cA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const cA=/\{\$([^}]+)}/g;function uA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function va(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],h=e[o];if(E_(c)&&E_(h)){if(!va(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function E_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Xl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function hA(s,e){const n=new dA(s,e);return n.subscribe.bind(n)}class dA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s){return s&&s._delegate?s._delegate:s}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(s){return s===ha?void 0:s}function gA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Xe||(Xe={}));const bA={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},_A=Xe.INFO,vA={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},xA=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=vA[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const EA=(s,e)=>e.some(n=>s instanceof n);let T_,w_;function TA(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lx=new WeakMap,np=new WeakMap,Ux=new WeakMap,Lm=new WeakMap,Lp=new WeakMap;function SA(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(xr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Lx.set(n,s)}).catch(()=>{}),Lp.set(e,s),e}function AA(s){if(np.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});np.set(s,e)}let sp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return np.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ux.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NA(s){sp=s(sp)}function RA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Um(this),e,...n);return Ux.set(r,e.sort?e.sort():[e]),xr(r)}:wA().includes(s)?function(...e){return s.apply(Um(this),e),xr(Lx.get(this))}:function(...e){return xr(s.apply(Um(this),e))}}function CA(s){return typeof s=="function"?RA(s):(s instanceof IDBTransaction&&AA(s),EA(s,TA())?new Proxy(s,sp):s)}function xr(s){if(s instanceof IDBRequest)return SA(s);if(Lm.has(s))return Lm.get(s);const e=CA(s);return e!==s&&(Lm.set(s,e),Lp.set(e,s)),e}const Um=s=>Lp.get(s);function IA(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),p=xr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(xr(h.result),g.oldVersion,g.newVersion,xr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const kA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Pm=new Map;function S_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=jA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kA.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Pm.set(e,c),c}NA(s=>({...s,get:(e,n,r)=>S_(e,n)||s.get(e,n,r),has:(e,n)=>!!S_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",A_="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Vp("@firebase/app"),MA="@firebase/app-compat",VA="@firebase/analytics-compat",LA="@firebase/analytics",UA="@firebase/app-check-compat",PA="@firebase/app-check",zA="@firebase/auth",BA="@firebase/auth-compat",HA="@firebase/database",qA="@firebase/data-connect",FA="@firebase/database-compat",GA="@firebase/functions",KA="@firebase/functions-compat",YA="@firebase/installations",$A="@firebase/installations-compat",QA="@firebase/messaging",XA="@firebase/messaging-compat",JA="@firebase/performance",WA="@firebase/performance-compat",ZA="@firebase/remote-config",eN="@firebase/remote-config-compat",tN="@firebase/storage",nN="@firebase/storage-compat",sN="@firebase/firestore",iN="@firebase/ai",rN="@firebase/firestore-compat",aN="firebase",oN="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",lN={[ip]:"fire-core",[MA]:"fire-core-compat",[LA]:"fire-analytics",[VA]:"fire-analytics-compat",[PA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[BA]:"fire-auth-compat",[HA]:"fire-rtdb",[qA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[GA]:"fire-fn",[KA]:"fire-fn-compat",[YA]:"fire-iid",[$A]:"fire-iid-compat",[QA]:"fire-fcm",[XA]:"fire-fcm-compat",[JA]:"fire-perf",[WA]:"fire-perf-compat",[ZA]:"fire-rc",[eN]:"fire-rc-compat",[tN]:"fire-gcs",[nN]:"fire-gcs-compat",[sN]:"fire-fst",[rN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,cN=new Map,ap=new Map;function N_(s,e){try{s.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function xa(s){const e=s.name;if(ap.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,s);for(const n of Bh.values())N_(n,s);for(const n of cN.values())N_(n,s);return!0}function ld(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new vc("app","Firebase",uN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=oN;function Px(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:rp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(n||(n=Dx()),!n)throw Er.create("no-options");const c=Bh.get(o);if(c){if(va(n,c.options)&&va(r,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const h=new yA(o);for(const g of ap.values())h.addComponent(g);const p=new hN(n,r,h);return Bh.set(o,p),p}function Up(s=rp){const e=Bh.get(s);if(!e&&s===rp&&Dx())return Px();if(!e)throw Er.create("no-app",{appName:s});return e}function Ws(s,e,n){let r=lN[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(h.join(" "));return}xa(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebase-heartbeat-database",fN=1,cc="firebase-heartbeat-store";let zm=null;function zx(){return zm||(zm=IA(dN,fN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),zm}async function mN(s){try{const n=(await zx()).transaction(cc),r=await n.objectStore(cc).get(Bx(s));return await n.done,r}catch(e){if(e instanceof ai)ki.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function R_(s,e){try{const r=(await zx()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,Bx(s)),await r.done}catch(n){if(n instanceof ai)ki.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function Bx(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1024,gN=30;class yN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=C_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>gN){const h=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C_(),{heartbeatsToSend:r,unsentEntries:o}=bN(this._heartbeatsCache.heartbeats),c=zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ki.warn(n),""}}}function C_(){return new Date().toISOString().substring(0,10)}function bN(s,e=pN){const n=[];let r=s.slice();for(const o of s){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),I_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),I_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I_(s){return zh(JSON.stringify({version:2,heartbeats:s})).length}function vN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s){xa(new Sr("platform-logger",e=>new OA(e),"PRIVATE")),xa(new Sr("heartbeat",e=>new yN(e),"PRIVATE")),Ws(ip,A_,s),Ws(ip,A_,"esm2020"),Ws("fire-js","")}xN("");function Hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=Hx,qx=new vc("auth","Firebase",Hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Vp("@firebase/auth");function TN(s,...e){Hh.logLevel<=Xe.WARN&&Hh.warn(`Auth (${Ca}): ${s}`,...e)}function _h(s,...e){Hh.logLevel<=Xe.ERROR&&Hh.error(`Auth (${Ca}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(s,...e){throw zp(s,...e)}function ws(s,...e){return zp(s,...e)}function Pp(s,e,n){const r={...EN(),[e]:n};return new vc("auth","Firebase",r).create(e,{appName:s.name})}function Ii(s){return Pp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wN(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&us(s,"argument-error"),Pp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return qx.create(s,...e)}function Ie(s,e,...n){if(!s)throw zp(e,...n)}function Ri(s){const e="INTERNAL ASSERTION FAILED: "+s;throw _h(e),new Error(e)}function ji(s,e){s||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function SN(){return k_()==="http:"||k_()==="https:"}function k_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SN()||tA()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=WS()||nA()}get(){return AN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(s,e){ji(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IN=new Ec(3e4,6e4);function Mi(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function oi(s,e,n,r,o={}){return Gx(s,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=xc({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return eA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&jr(s.emulatorConfig.host)&&(y.credentials="include"),Fx.fetch()(await Kx(s,s.config.apiHost,n,p),y)})}async function Gx(s,e,n){s._canInitEmulator=!1;const r={...RN,...e};try{const o=new jN(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw uh(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw uh(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw uh(s,"user-disabled",h);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pp(s,x,y);us(s,x)}}catch(o){if(o instanceof ai)throw o;us(s,"network-request-failed",{message:String(o)})}}async function Tc(s,e,n,r,o={}){const c=await oi(s,e,n,r,o);return"mfaPendingCredential"in c&&us(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Kx(s,e,n,r){const o=`${e}${n}?${r}`,c=s,h=c.config.emulator?Bp(s.config,o):`${s.config.apiScheme}://${o}`;return CN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function kN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),IN.get())})}}function uh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ws(s,e,r);return o.customData._tokenResponse=n,o}function j_(s){return s!==void 0&&s.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DN(s,e){return oi(s,"GET","/v2/recaptchaConfig",Mi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(s,e){return oi(s,"POST","/v1/accounts:delete",e)}async function qh(s,e){return oi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VN(s,e=!1){const n=Nt(s),r=await n.getIdToken(e),o=Hp(r);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:sc(Bm(o.auth_time)),issuedAtTime:sc(Bm(o.iat)),expirationTime:sc(Bm(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Bm(s){return Number(s)*1e3}function Hp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=kx(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function O_(s){const e=Hp(s);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&LN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function LN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(s){var T;const e=s.auth,n=await s.getIdToken(),r=await Io(s,qh(e,{idToken:n}));Ie(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(T=o.providerUserInfo)!=null&&T.length?Yx(o.providerUserInfo):[],h=zN(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(h!=null&&h.length),y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function PN(s){const e=Nt(s);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Yx(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(s,e){const n=await Gx(s,{},async()=>{const r=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await Kx(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&jr(s.emulatorConfig.host)&&(g.credentials="include"),Fx.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HN(s,e){return oi(s,"POST","/v2/accounts:revokeToken",Mi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=O_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await BN(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new wo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s,e){Ie(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new UN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Io(this,MN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:L,providerData:O,stsTokenManager:q}=n;Ie(T&&q,e,"internal-error");const U=wo.fromJSON(this.name,q);Ie(typeof T=="string",e,"internal-error"),mr(r,e.name),mr(o,e.name),Ie(typeof S=="boolean",e,"internal-error"),Ie(typeof L=="boolean",e,"internal-error"),mr(c,e.name),mr(h,e.name),mr(p,e.name),mr(g,e.name),mr(y,e.name),mr(x,e.name);const ne=new Ts({uid:T,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:L,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:x});return O&&Array.isArray(O)&&(ne.providerData=O.map(le=>({...le}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,r=!1){const o=new wo;o.updateFromServerResponse(n);const c=new Ts({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Fh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Yx(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new wo;p.updateFromIdToken(r);const g=new Ts({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function Ci(s){ji(s instanceof Function,"Expected a class definition");let e=D_.get(s);return e?(ji(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$x.type="NONE";const M_=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(s,e,n){return`firebase:${s}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,c),this.fullPersistenceKey=vh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Ci(M_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ci(M_);const h=vh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let T;if(typeof x=="string"){const S=await qh(e,{idToken:x}).catch(()=>{});if(!S)break;T=await Ts._fromGetAccountInfoResponse(e,S,x)}else T=Ts._fromJSON(e,x);y!==c&&(p=T),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new So(c,e,r):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new So(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if(Xx(e))return"Safari";if((e.includes("chrome/")||Jx(e))&&!e.includes("edge/"))return"Chrome";if(Zx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qx(s=_n()){return/firefox\//i.test(s)}function Xx(s=_n()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jx(s=_n()){return/crios\//i.test(s)}function Wx(s=_n()){return/iemobile/i.test(s)}function Zx(s=_n()){return/android/i.test(s)}function e1(s=_n()){return/blackberry/i.test(s)}function t1(s=_n()){return/webos/i.test(s)}function qp(s=_n()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function qN(s=_n()){var e;return qp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function FN(){return sA()&&document.documentMode===10}function n1(s=_n()){return qp(s)||Zx(s)||t1(s)||e1(s)||/windows phone/i.test(s)||Wx(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s,e=[]){let n;switch(s){case"Browser":n=V_(_n());break;case"Worker":n=`${V_(_n())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(s,e={}){return oi(s,"GET","/v2/passwordPolicy",Mi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=6;class $N{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===p)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ii(this));const n=e?Nt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),n=new $N(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Or(s){return Nt(s)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XN(s){cd=s}function i1(s){return cd.loadJS(s)}function JN(){return cd.recaptchaEnterpriseScript}function WN(){return cd.gapiScript}function ZN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class eR{constructor(){this.enterprise=new tR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nR="recaptcha-enterprise",r1="NO_RECAPTCHA";class sR{constructor(e){this.type=nR,this.auth=Or(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{DN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new ON(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;j_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(r1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&j_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=JN();g.length!==0&&(g+=p),i1(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function U_(s,e,n,r=!1,o=!1){const c=new sR(s);let h;if(o)h=r1;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function cp(s,e,n,r,o){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await U_(s,e,n,n==="getOobCode");return r(s,h)}else return r(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await U_(s,e,n,n==="getOobCode");return r(s,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(s,e){const n=ld(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(va(c,e??{}))return o;us(o,"already-initialized")}return n.initialize({options:e})}function rR(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aR(s,e,n){const r=Or(s);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=a1(e),{host:h,port:p}=oR(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(va(y,r.config.emulator)&&va(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,jr(h)?(Dp(`${c}//${h}${g}`),Mp("Auth",!0)):lR()}function a1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function oR(s){const e=a1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:P_(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:P_(h)}}}function P_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function cR(s,e){return oi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(s,e){return Tc(s,"POST","/v1/accounts:signInWithPassword",Mi(s,e))}async function hR(s,e){return oi(s,"POST","/v1/accounts:sendOobCode",Mi(s,e))}async function dR(s,e){return hR(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",Mi(s,e))}async function mR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",Mi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Fp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,n,"signInWithPassword",uR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,r,"signUpPassword",cR);case"emailLink":return mR(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(s,e){return Tc(s,"POST","/v1/accounts:signInWithIdp",Mi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="http://localhost";class Ea extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new Ea(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yR(s){const e=Ql(Xl(s)).link,n=e?Ql(Xl(e)).deep_link_id:null,r=Ql(Xl(s)).deep_link_id;return(r?Ql(Xl(r)).link:null)||r||n||e||s}class Gp{constructor(e){const n=Ql(Xl(e)),r=n.apiKey??null,o=n.oobCode??null,c=gR(n.mode??null);Ie(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yR(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gp.parseLink(n);return Ie(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends wc{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends wc{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends wc{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(s,e){return Tc(s,"POST","/v1/accounts:signUp",Mi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Ts._fromIdTokenResponse(e,r,o),h=z_(r);return new Ta({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=z_(r);return new Ta({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function z_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends ai{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Gh(e,n,r,o)}}function o1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(s,c,e,r):c})}async function _R(s,e,n=!1){const r=await Io(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ta._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(s,e,n=!1){const{auth:r}=s;if(kn(r.app))return Promise.reject(Ii(r));const o="reauthenticate";try{const c=await Io(s,o1(r,o,e,s),n);Ie(c.idToken,r,"internal-error");const h=Hp(c.idToken);Ie(h,r,"internal-error");const{sub:p}=h;return Ie(s.uid===p,r,"user-mismatch"),Ta._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&us(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(s,e,n=!1){if(kn(s.app))return Promise.reject(Ii(s));const r="signIn",o=await o1(s,r,e),c=await Ta._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function xR(s,e){return l1(Or(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(s){const e=Or(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ER(s,e,n){if(kn(s.app))return Promise.reject(Ii(s));const r=Or(s),h=await cp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&c1(s),g}),p=await Ta._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function TR(s,e,n){return kn(s.app)?Promise.reject(Ii(s)):xR(Nt(s),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c1(s),r})}async function wR(s,e){const n=Nt(s),o={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await dR(n.auth,o);c!==s.email&&await s.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(s,e){return oi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Io(r,SR(r.auth,c));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function NR(s,e,n,r){return Nt(s).onIdTokenChanged(e,n,r)}function RR(s,e,n){return Nt(s).beforeAuthStateChanged(e,n)}function CR(s,e,n,r){return Nt(s).onAuthStateChanged(e,n,r)}function IR(s){return Nt(s).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1e3,jR=10;class h1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);FN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const OR=h1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d1.type="SESSION";const f1=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await DR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Yp("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function VR(s){Zs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function LR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function PR(){return m1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",zR=1,Yh="firebaseLocalStorage",g1="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(s,e){return s.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function BR(){const s=indexedDB.deleteDatabase(p1);return new Sc(s).toPromise()}function up(){const s=indexedDB.open(p1,zR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Yh,{keyPath:g1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await BR(),e(await up()))})})}async function B_(s,e,n){const r=hd(s,!0).put({[g1]:e,value:n});return new Sc(r).toPromise()}async function HR(s,e){const n=hd(s,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function H_(s,e){const n=hd(s,!0).delete(e);return new Sc(n).toPromise()}const qR=800,FR=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(PR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await B_(e,Kh,"1"),await H_(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=hd(o,!1).getAll();return new Sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const GR=y1;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s,e){return e?Ci(e):(Ie(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(s){return l1(s.auth,new $p(s),s.bypassAuthState)}function YR(s){const{auth:e,user:n}=s;return Ie(n,e,"internal-error"),vR(n,new $p(s),s.bypassAuthState)}async function $R(s){const{auth:e,user:n}=s;return Ie(n,e,"internal-error"),_R(n,new $p(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return $R;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:us(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Ec(2e3,1e4);async function XR(s,e,n){if(kn(s.app))return Promise.reject(ws(s,"operation-not-supported-in-this-environment"));const r=Or(s);wN(s,e,Kp);const o=b1(r,n);return new fa(r,"signInViaPopup",e,o).executeNotNull()}class fa extends _1{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QR.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="pendingRedirect",xh=new Map;class WR extends _1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const n=nC(e),r=tC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eC(s,e){xh.set(s._key(),e)}function tC(s){return Ci(s._redirectPersistence)}function nC(s){return vh(JR,s.config.apiKey,s.name)}async function sC(s,e,n=!1){if(kn(s.app))return Promise.reject(Ii(s));const r=Or(s),o=b1(r,e),h=await new WR(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=600*1e3;class rC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v1(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function v1({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(s,e={}){return oi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oC(s);for(const n of e)try{if(hC(n))return}catch{}us(s,"unauthorized-domain")}function hC(s){const e=op(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!cC.test(n))return!1;if(lC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Ec(3e4,6e4);function F_(){const s=Zs().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fC(s){return new Promise((e,n)=>{var o,c,h;function r(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(ws(s,"network-request-failed"))},timeout:dC.get()})}if((c=(o=Zs().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=Zs().gapi)!=null&&h.load)r();else{const p=ZN("iframefcb");return Zs()[p]=()=>{gapi.load?r():n(ws(s,"network-request-failed"))},i1(`${WN()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function mC(s){return Eh=Eh||fC(s),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Ec(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(s){const e=s.config;Ie(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Bp(e,yC):`https://${s.config.authDomain}/${gC}`,r={apiKey:e.apiKey,appName:s.name,v:Ca},o=_C.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${xc(r).slice(1)}`}async function xC(s){const e=await mC(s),n=Zs().gapi;return Ie(n,s,"internal-error"),e.open({where:document.body,url:vC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=ws(s,"network-request-failed"),p=Zs().setTimeout(()=>{c(h)},pC.get());function g(){Zs().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,wC=600,SC="_blank",AC="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,e,n,r=TC,o=wC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...EC,width:r.toString(),height:o.toString(),top:c,left:h},y=_n().toLowerCase();n&&(p=Jx(y)?SC:n),Qx(y)&&(e=e||AC,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[L,O])=>`${S}${L}=${O},`,"");if(qN(y)&&p!=="_self")return RC(e||"",p),new G_(null);const T=window.open(e||"",p,x);Ie(T,s,"popup-blocked");try{T.focus()}catch{}return new G_(T)}function RC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__/auth/handler",IC="emulator/auth/handler",kC=encodeURIComponent("fac");async function K_(s,e,n,r,o,c){Ie(s.config.authDomain,s,"auth-domain-config-required"),Ie(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ca,eventId:o};if(e instanceof Kp){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",uA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))h[x]=T}if(e instanceof wc){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(h.scopes=x.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${kC}=${encodeURIComponent(g)}`:"";return`${jC(s)}?${xc(p).slice(1)}${y}`}function jC({config:s}){return s.emulator?Bp(s,IC):`https://${s.authDomain}/${CC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=sC,this._overrideRedirectResult=eC}async _openPopup(e,n,r,o){var h;ji((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await K_(e,n,r,op(),o);return NC(e,c,Yp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await K_(e,n,r,op(),o);return VR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ji(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xC(e),r=new rC(e);return n.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},o=>{var h;const c=(h=o==null?void 0:o[0])==null?void 0:h[Hm];c!==void 0&&n(!!c),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||Xx()||qp()}}const DC=OC;var Y_="@firebase/auth",$_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(s){xa(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(s)},y=new QN(r,o,c,g);return rR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new Sr("auth-internal",e=>{const n=Or(e.getProvider("auth").getImmediate());return(r=>new MC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Y_,$_,VC(s)),Ws(Y_,$_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=300,PC=Mx("authIdTokenMaxAge")||UC;let Q_=null;const zC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PC)return;const o=n==null?void 0:n.token;Q_!==o&&(Q_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BC(s=Up()){const e=ld(s,"auth");if(e.isInitialized())return e.getImmediate();const n=iR(s,{popupRedirectResolver:DC,persistence:[GR,OR,f1]}),r=Mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=zC(c.toString());RR(n,h,()=>h(n.currentUser)),NR(n,p=>h(p))}}const o=jx("auth");return o&&aR(n,`http://${o}`),n}function HC(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}XN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ws("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",HC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var qC="firebase",FC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(qC,FC,"app");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,x1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,N){function C(){}C.prototype=N.prototype,R.F=N.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,j,V){for(var A=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)A[ve-2]=arguments[ve];return N.prototype[j].apply(M,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,N,C){C||(C=0);const M=Array(16);if(typeof N=="string")for(var j=0;j<16;++j)M[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;j<16;++j)M[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=R.g[0],C=R.g[1],j=R.g[2];let V=R.g[3],A;A=N+(V^C&(j^V))+M[0]+3614090360&4294967295,N=C+(A<<7&4294967295|A>>>25),A=V+(j^N&(C^j))+M[1]+3905402710&4294967295,V=N+(A<<12&4294967295|A>>>20),A=j+(C^V&(N^C))+M[2]+606105819&4294967295,j=V+(A<<17&4294967295|A>>>15),A=C+(N^j&(V^N))+M[3]+3250441966&4294967295,C=j+(A<<22&4294967295|A>>>10),A=N+(V^C&(j^V))+M[4]+4118548399&4294967295,N=C+(A<<7&4294967295|A>>>25),A=V+(j^N&(C^j))+M[5]+1200080426&4294967295,V=N+(A<<12&4294967295|A>>>20),A=j+(C^V&(N^C))+M[6]+2821735955&4294967295,j=V+(A<<17&4294967295|A>>>15),A=C+(N^j&(V^N))+M[7]+4249261313&4294967295,C=j+(A<<22&4294967295|A>>>10),A=N+(V^C&(j^V))+M[8]+1770035416&4294967295,N=C+(A<<7&4294967295|A>>>25),A=V+(j^N&(C^j))+M[9]+2336552879&4294967295,V=N+(A<<12&4294967295|A>>>20),A=j+(C^V&(N^C))+M[10]+4294925233&4294967295,j=V+(A<<17&4294967295|A>>>15),A=C+(N^j&(V^N))+M[11]+2304563134&4294967295,C=j+(A<<22&4294967295|A>>>10),A=N+(V^C&(j^V))+M[12]+1804603682&4294967295,N=C+(A<<7&4294967295|A>>>25),A=V+(j^N&(C^j))+M[13]+4254626195&4294967295,V=N+(A<<12&4294967295|A>>>20),A=j+(C^V&(N^C))+M[14]+2792965006&4294967295,j=V+(A<<17&4294967295|A>>>15),A=C+(N^j&(V^N))+M[15]+1236535329&4294967295,C=j+(A<<22&4294967295|A>>>10),A=N+(j^V&(C^j))+M[1]+4129170786&4294967295,N=C+(A<<5&4294967295|A>>>27),A=V+(C^j&(N^C))+M[6]+3225465664&4294967295,V=N+(A<<9&4294967295|A>>>23),A=j+(N^C&(V^N))+M[11]+643717713&4294967295,j=V+(A<<14&4294967295|A>>>18),A=C+(V^N&(j^V))+M[0]+3921069994&4294967295,C=j+(A<<20&4294967295|A>>>12),A=N+(j^V&(C^j))+M[5]+3593408605&4294967295,N=C+(A<<5&4294967295|A>>>27),A=V+(C^j&(N^C))+M[10]+38016083&4294967295,V=N+(A<<9&4294967295|A>>>23),A=j+(N^C&(V^N))+M[15]+3634488961&4294967295,j=V+(A<<14&4294967295|A>>>18),A=C+(V^N&(j^V))+M[4]+3889429448&4294967295,C=j+(A<<20&4294967295|A>>>12),A=N+(j^V&(C^j))+M[9]+568446438&4294967295,N=C+(A<<5&4294967295|A>>>27),A=V+(C^j&(N^C))+M[14]+3275163606&4294967295,V=N+(A<<9&4294967295|A>>>23),A=j+(N^C&(V^N))+M[3]+4107603335&4294967295,j=V+(A<<14&4294967295|A>>>18),A=C+(V^N&(j^V))+M[8]+1163531501&4294967295,C=j+(A<<20&4294967295|A>>>12),A=N+(j^V&(C^j))+M[13]+2850285829&4294967295,N=C+(A<<5&4294967295|A>>>27),A=V+(C^j&(N^C))+M[2]+4243563512&4294967295,V=N+(A<<9&4294967295|A>>>23),A=j+(N^C&(V^N))+M[7]+1735328473&4294967295,j=V+(A<<14&4294967295|A>>>18),A=C+(V^N&(j^V))+M[12]+2368359562&4294967295,C=j+(A<<20&4294967295|A>>>12),A=N+(C^j^V)+M[5]+4294588738&4294967295,N=C+(A<<4&4294967295|A>>>28),A=V+(N^C^j)+M[8]+2272392833&4294967295,V=N+(A<<11&4294967295|A>>>21),A=j+(V^N^C)+M[11]+1839030562&4294967295,j=V+(A<<16&4294967295|A>>>16),A=C+(j^V^N)+M[14]+4259657740&4294967295,C=j+(A<<23&4294967295|A>>>9),A=N+(C^j^V)+M[1]+2763975236&4294967295,N=C+(A<<4&4294967295|A>>>28),A=V+(N^C^j)+M[4]+1272893353&4294967295,V=N+(A<<11&4294967295|A>>>21),A=j+(V^N^C)+M[7]+4139469664&4294967295,j=V+(A<<16&4294967295|A>>>16),A=C+(j^V^N)+M[10]+3200236656&4294967295,C=j+(A<<23&4294967295|A>>>9),A=N+(C^j^V)+M[13]+681279174&4294967295,N=C+(A<<4&4294967295|A>>>28),A=V+(N^C^j)+M[0]+3936430074&4294967295,V=N+(A<<11&4294967295|A>>>21),A=j+(V^N^C)+M[3]+3572445317&4294967295,j=V+(A<<16&4294967295|A>>>16),A=C+(j^V^N)+M[6]+76029189&4294967295,C=j+(A<<23&4294967295|A>>>9),A=N+(C^j^V)+M[9]+3654602809&4294967295,N=C+(A<<4&4294967295|A>>>28),A=V+(N^C^j)+M[12]+3873151461&4294967295,V=N+(A<<11&4294967295|A>>>21),A=j+(V^N^C)+M[15]+530742520&4294967295,j=V+(A<<16&4294967295|A>>>16),A=C+(j^V^N)+M[2]+3299628645&4294967295,C=j+(A<<23&4294967295|A>>>9),A=N+(j^(C|~V))+M[0]+4096336452&4294967295,N=C+(A<<6&4294967295|A>>>26),A=V+(C^(N|~j))+M[7]+1126891415&4294967295,V=N+(A<<10&4294967295|A>>>22),A=j+(N^(V|~C))+M[14]+2878612391&4294967295,j=V+(A<<15&4294967295|A>>>17),A=C+(V^(j|~N))+M[5]+4237533241&4294967295,C=j+(A<<21&4294967295|A>>>11),A=N+(j^(C|~V))+M[12]+1700485571&4294967295,N=C+(A<<6&4294967295|A>>>26),A=V+(C^(N|~j))+M[3]+2399980690&4294967295,V=N+(A<<10&4294967295|A>>>22),A=j+(N^(V|~C))+M[10]+4293915773&4294967295,j=V+(A<<15&4294967295|A>>>17),A=C+(V^(j|~N))+M[1]+2240044497&4294967295,C=j+(A<<21&4294967295|A>>>11),A=N+(j^(C|~V))+M[8]+1873313359&4294967295,N=C+(A<<6&4294967295|A>>>26),A=V+(C^(N|~j))+M[15]+4264355552&4294967295,V=N+(A<<10&4294967295|A>>>22),A=j+(N^(V|~C))+M[6]+2734768916&4294967295,j=V+(A<<15&4294967295|A>>>17),A=C+(V^(j|~N))+M[13]+1309151649&4294967295,C=j+(A<<21&4294967295|A>>>11),A=N+(j^(C|~V))+M[4]+4149444226&4294967295,N=C+(A<<6&4294967295|A>>>26),A=V+(C^(N|~j))+M[11]+3174756917&4294967295,V=N+(A<<10&4294967295|A>>>22),A=j+(N^(V|~C))+M[2]+718787259&4294967295,j=V+(A<<15&4294967295|A>>>17),A=C+(V^(j|~N))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(j+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);const C=N-this.blockSize,M=this.C;let j=this.h,V=0;for(;V<N;){if(j==0)for(;V<=C;)o(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<N;)if(M[j++]=R.charCodeAt(V++),j==this.blockSize){o(this,M),j=0;break}}else for(;V<N;)if(M[j++]=R[V++],j==this.blockSize){o(this,M),j=0;break}}this.h=j,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[N++]=this.g[C]>>>M&255;return R};function c(R,N){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=N(R)}function h(R,N){this.h=N;const C=[];let M=!0;for(let j=R.length-1;j>=0;j--){const V=R[j]|0;M&&V==N||(C[j]=V,M=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?c(R,function(N){return new h([N|0],N<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return U(y(-R));const N=[];let C=1;for(let M=0;R>=C;M++)N[M]=R/C|0,C*=4294967296;return new h(N,0)}function x(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return U(x(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(N,8));let M=T;for(let V=0;V<R.length;V+=8){var j=Math.min(8,R.length-V);const A=parseInt(R.substring(V,V+j),N);j<8?(j=y(Math.pow(N,j)),M=M.j(j).add(y(A))):(M=M.j(C),M=M.add(y(A)))}return M}var T=g(0),S=g(1),L=g(16777216);s=h.prototype,s.m=function(){if(q(this))return-U(this).m();let R=0,N=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*N,N*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(q(this))return"-"+U(this).toString(R);const N=y(Math.pow(R,6));var C=this;let M="";for(;;){const j=ae(C,N).g;C=ne(C,j.j(N));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=j,O(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function q(R){return R.h==-1}s.l=function(R){return R=ne(this,R),q(R)?-1:O(R)?0:1};function U(R){const N=R.g.length,C=[];for(let M=0;M<N;M++)C[M]=~R.g[M];return new h(C,~R.h).add(S)}s.abs=function(){return q(this)?U(this):this},s.add=function(R){const N=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let j=0;j<=N;j++){let V=M+(this.i(j)&65535)+(R.i(j)&65535),A=(V>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);M=A>>>16,V&=65535,A&=65535,C[j]=A<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,N){return R.add(U(N))}s.j=function(R){if(O(this)||O(R))return T;if(q(this))return q(R)?U(this).j(U(R)):U(U(this).j(R));if(q(R))return U(this.j(U(R)));if(this.l(L)<0&&R.l(L)<0)return y(this.m()*R.m());const N=this.g.length+R.g.length,C=[];for(var M=0;M<2*N;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<R.g.length;j++){const V=this.i(M)>>>16,A=this.i(M)&65535,ve=R.i(j)>>>16,Le=R.i(j)&65535;C[2*M+2*j]+=A*Le,le(C,2*M+2*j),C[2*M+2*j+1]+=V*Le,le(C,2*M+2*j+1),C[2*M+2*j+1]+=A*ve,le(C,2*M+2*j+1),C[2*M+2*j+2]+=V*ve,le(C,2*M+2*j+2)}for(R=0;R<N;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=N;R<2*N;R++)C[R]=0;return new h(C,0)};function le(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function K(R,N){this.g=R,this.h=N}function ae(R,N){if(O(N))throw Error("division by zero");if(O(R))return new K(T,T);if(q(R))return N=ae(U(R),N),new K(U(N.g),U(N.h));if(q(N))return N=ae(R,U(N)),new K(U(N.g),N.h);if(R.g.length>30){if(q(R)||q(N))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=N;M.l(R)<=0;)C=me(C),M=me(M);var j=pe(C,1),V=pe(M,1);for(M=pe(M,2),C=pe(C,2);!O(M);){var A=V.add(M);A.l(R)<=0&&(j=j.add(C),V=A),M=pe(M,1),C=pe(C,1)}return N=ne(R,j.j(N)),new K(j,N)}for(j=T;R.l(N)>=0;){for(C=Math.max(1,Math.floor(R.m()/N.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(C),A=V.j(N);q(A)||A.l(R)>0;)C-=M,V=y(C),A=V.j(N);O(V)&&(V=S),j=j.add(V),R=ne(R,A)}return new K(j,R)}s.B=function(R){return ae(this,R).h},s.and=function(R){const N=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)&R.i(M);return new h(C,this.h&R.h)},s.or=function(R){const N=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)|R.i(M);return new h(C,this.h|R.h)},s.xor=function(R){const N=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)^R.i(M);return new h(C,this.h^R.h)};function me(R){const N=R.g.length+1,C=[];for(let M=0;M<N;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new h(C,R.h)}function pe(R,N){const C=N>>5;N%=32;const M=R.g.length-C,j=[];for(let V=0;V<M;V++)j[V]=N>0?R.i(V+C)>>>N|R.i(V+C+1)<<32-N:R.i(V+C);return new h(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,x1=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,Tr=h}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,Jl,T1,Th,hp,w1,S1,A1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var b=0;b<u.length;++b){var v=u[b];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,b){if(b)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var z=u[w];if(!(z in v))break e;v=v[z]}u=u[u.length-1],w=v[u],b=b(w),b!=w&&b!=null&&e(v,u,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(b){var v=[],w;for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&v.push([w,b[w]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function g(u,b,v){return u.call.apply(u.bind,arguments)}function y(u,b,v){return y=g,y.apply(null,arguments)}function x(u,b){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,b){function v(){}v.prototype=b.prototype,u.Z=b.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,z,Y){for(var ue=Array(arguments.length-2),He=2;He<arguments.length;He++)ue[He-2]=arguments[He];return b.prototype[z].apply(w,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const b=u.length;if(b>0){const v=Array(b);for(let w=0;w<b;w++)v[w]=u[w];return v}return[]}function O(u,b){for(let w=1;w<arguments.length;w++){const z=arguments[w];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const Y=z.length||0;u.length=v+Y;for(let ue=0;ue<Y;ue++)u[v+ue]=z[ue]}else u.push(z)}}class q{constructor(b,v){this.i=b,this.j=v,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function U(u){h.setTimeout(()=>{throw u},0)}function ne(){var u=R;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class le{constructor(){this.h=this.g=null}add(b,v){const w=K.get();w.set(b,v),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new q(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,v){this.h=b,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,pe=!1,R=new le,N=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(C)}};function C(){for(var u;u=ne();){try{u.h.call(u.g)}catch(v){U(v)}var b=K;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,b),h.removeEventListener("test",v,b)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function ve(u,b){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}T(ve,j),ve.prototype.init=function(u,b){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(v=="mouseover"?b=u.fromElement:v=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,b,v,w,z){this.listener=u,this.proxy=null,this.src=b,this.type=v,this.capture=!!w,this.ha=z,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,b,v){for(const w in u)b.call(v,u[w],w,u)}function Be(u,b){for(const v in u)b.call(void 0,u[v],v,u)}function k(u){const b={};for(const v in u)b[v]=u[v];return b}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,b){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)u[v]=w[v];for(let Y=0;Y<X.length;Y++)v=X[Y],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,b,v,w,z){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ue=Ne(u,b,w,z);return ue>-1?(b=u[ue],v||(b.fa=!1)):(b=new se(b,this.src,Y,!!w,z),b.fa=v,u.push(b)),b};function ye(u,b){const v=b.type;if(v in u.g){var w=u.g[v],z=Array.prototype.indexOf.call(w,b,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(w,z,1),Y&&(de(b),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,b,v,w){for(let z=0;z<u.length;++z){const Y=u[z];if(!Y.da&&Y.listener==b&&Y.capture==!!v&&Y.ha==w)return z}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),re={};function _e(u,b,v,w,z){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)_e(u,b[Y],v,w,z);return null}return v=$t(v),u&&u[Le]?u.J(b,v,p(w)?!!w.capture:!1,z):De(u,b,v,!1,w,z)}function De(u,b,v,w,z,Y){if(!b)throw Error("Invalid event type");const ue=p(z)?!!z.capture:!!z;let He=bt(u);if(He||(u[Ce]=He=new ce(u)),v=He.add(b,v,w,ue,Y),v.proxy)return v;if(w=he(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)V||(z=ue),z===void 0&&(z=!1),u.addEventListener(b.toString(),w,z);else if(u.attachEvent)u.attachEvent(be(b.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function he(){function u(v){return b.call(u.src,u.listener,v)}const b=pt;return u}function Ee(u,b,v,w,z){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)Ee(u,b[Y],v,w,z);else w=p(w)?!!w.capture:!!w,v=$t(v),u&&u[Le]?(u=u.i,Y=String(b).toString(),Y in u.g&&(b=u.g[Y],v=Ne(b,v,w,z),v>-1&&(de(b[v]),Array.prototype.splice.call(b,v,1),b.length==0&&(delete u.g[Y],u.h--)))):u&&(u=bt(u))&&(b=u.g[b.toString()],u=-1,b&&(u=Ne(b,v,w,z)),(v=u>-1?b[u]:null)&&Ue(v))}function Ue(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[Le])ye(b.i,u);else{var v=u.type,w=u.proxy;b.removeEventListener?b.removeEventListener(v,w,u.capture):b.detachEvent?b.detachEvent(be(v),w):b.addListener&&b.removeListener&&b.removeListener(w),(v=bt(b))?(ye(v,u),v.h==0&&(v.src=null,b[Ce]=null)):de(u)}}}function be(u){return u in re?re[u]:re[u]="on"+u}function pt(u,b){if(u.da)u=!0;else{b=new ve(b,this);const v=u.listener,w=u.ha||u.src;u.fa&&Ue(u),u=v.call(w,b)}return u}function bt(u){return u=u[Ce],u instanceof ce?u:null}var ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function $t(u){return typeof u=="function"?u:(u[ut]||(u[ut]=function(b){return u.handleEvent(b)}),u[ut])}function Et(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Et,M),Et.prototype[Le]=!0,Et.prototype.removeEventListener=function(u,b,v,w){Ee(this,u,b,v,w)};function rt(u,b){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=b.type||b,typeof b=="string")b=new j(b,u);else if(b instanceof j)b.target=b.target||u;else{var z=b;b=new j(w,u),oe(b,z)}z=!0;let Y,ue;if(v)for(ue=v.length-1;ue>=0;ue--)Y=b.g=v[ue],z=Ns(Y,w,!0,b)&&z;if(Y=b.g=u,z=Ns(Y,w,!0,b)&&z,z=Ns(Y,w,!1,b)&&z,v)for(ue=0;ue<v.length;ue++)Y=b.g=v[ue],z=Ns(Y,w,!1,b)&&z}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const v=u.g[b];for(let w=0;w<v.length;w++)de(v[w]);delete u.g[b],u.h--}}this.G=null},Et.prototype.J=function(u,b,v,w){return this.i.add(String(u),b,!1,v,w)},Et.prototype.K=function(u,b,v,w){return this.i.add(String(u),b,!0,v,w)};function Ns(u,b,v,w){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let z=!0;for(let Y=0;Y<b.length;++Y){const ue=b[Y];if(ue&&!ue.da&&ue.capture==v){const He=ue.listener,Dt=ue.ha||ue.src;ue.fa&&ye(u.i,ue),z=He.call(Dt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Vi(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(u,b||0)}function xe(u){u.g=Vi(()=>{u.g=null,u.i&&(u.i=!1,xe(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class Ye extends M{constructor(b,v){super(),this.m=b,this.l=v,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(u){M.call(this),this.h=u,this.g={}}T(yt,M);var Mn=[];function Vr(u){Oe(u.g,function(b,v){this.g.hasOwnProperty(v)&&Ue(b)},u),u.g={}}yt.prototype.N=function(){yt.Z.N.call(this),Vr(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=h.JSON.stringify,qo=h.JSON.parse,Vc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Lc(){}function Uc(){}var hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){j.call(this,"d")}T(sn,j);function $n(){j.call(this,"c")}T($n,j);var Ot={},Pc=null;function ja(){return Pc=Pc||new Et}Ot.Ia="serverreachability";function zc(u){j.call(this,Ot.Ia,u)}T(zc,j);function Rs(u){const b=ja();rt(b,new zc(b))}Ot.STAT_EVENT="statevent";function Lr(u,b){j.call(this,Ot.STAT_EVENT,u),this.stat=b}T(Lr,j);function Ut(u){const b=ja();rt(b,new Lr(b,u))}Ot.Ja="timingevent";function Cs(u,b){j.call(this,Ot.Ja,u),this.size=b}T(Cs,j);function Is(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},b)}function ds(){this.g=!0}ds.prototype.ua=function(){this.g=!1};function Od(u,b,v,w,z,Y){u.info(function(){if(u.g)if(Y){var ue="",He=Y.split("&");for(let st=0;st<He.length;st++){var Dt=He[st].split("=");if(Dt.length>1){const Tt=Dt[0];Dt=Dt[1];const Wn=Tt.split("_");ue=Wn.length>=2&&Wn[1]=="type"?ue+(Tt+"="+Dt+"&"):ue+(Tt+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+b+`
`+v+`
`+ue})}function Bc(u,b,v,w,z,Y,ue){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+b+`
`+v+`
`+Y+" "+ue})}function ks(u,b,v,w){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+Dd(u,v)+(w?" "+w:"")})}function Ur(u,b){u.info(function(){return"TIMEOUT: "+b})}ds.prototype.info=function(){};function Dd(u,b){if(!u.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var v=Y[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return Yn(Y)}catch{return b}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function zr(){}T(zr,Lc),zr.prototype.g=function(){return new XMLHttpRequest},Go=new zr;function li(u){return encodeURIComponent(String(u))}function Hc(u){var b=1;u=u.split(":");const v=[];for(;b>0&&u.length;)v.push(u.shift()),b--;return u.length&&v.push(u.join(":")),v}function fs(u,b,v,w){this.j=u,this.i=b,this.l=v,this.S=w||1,this.V=new yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ms}function ms(){this.i=null,this.g="",this.h=!1}var Pt={},Zt={};function js(u,b,v){u.M=1,u.A=Br(Bt(b)),u.u=v,u.R=!0,Oa(u,null)}function Oa(u,b){u.F=Date.now(),Os(u),u.B=Bt(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),La(v.i,"t",w),u.C=0,v=u.j.L,u.h=new ms,u.g=su(u.j,v?b:null,!u.u),u.P>0&&(u.O=new Ye(y(u.Y,u,u.g),u.P)),b=u.V,v=u.g,w=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Mn[0]=z.toString()),z=Mn);for(let Y=0;Y<z.length;Y++){const ue=_e(v,z[Y],w||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),Rs(),Od(u.i,u.v,u.B,u.l,u.S,u.u)}fs.prototype.ba=function(u){u=u.target;const b=this.O;b&&ys(u)==3?b.j():this.Y(u)},fs.prototype.Y=function(u){try{if(u==this.g)e:{const He=ys(this.g),Dt=this.g.ya(),st=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||He!=4||Dt==7||(Dt==8||st<=0?Rs(3):Rs(2)),Ds(this);var b=this.g.ca();this.X=b;var v=Md(this);if(this.o=b==200,Bc(this.i,this.v,this.B,this.l,this.S,He,b),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var Y=w;break t}}Y=null}if(u=Y)ks(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ms(this,u);else{this.o=!1,this.m=3,Ut(12),Vn(this),Qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=Fc(this,v),Tt==Zt){He==4&&(this.m=4,Ut(14),u=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,Ut(15),ks(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ks(this.i,this.l,Tt,null),Ms(this,Tt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)ks(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Qn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(ue),ue.P=!0,Ut(11))}}else ks(this.i,this.l,v,null),Ms(this,v);He==4&&Vn(this),this.o&&!this.K&&(He==4?Zc(this.j,this):(this.o=!1,Os(this)))}else ui(this.g),b==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Vn(this),Qn(this)}}}catch{}finally{}};function Md(u){if(!qc(u))return u.g.la();const b=rn(u.g);if(b==="")return"";let v="";const w=b.length,z=ys(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Qn(u),"";u.h.i=new h.TextDecoder}for(let Y=0;Y<w;Y++)u.h.h=!0,v+=u.h.i.decode(b[Y],{stream:!(z&&Y==w-1)});return b.length=0,u.h.g+=v,u.C=0,u.h.g}function qc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fc(u,b){var v=u.C,w=b.indexOf(`
`,v);return w==-1?Zt:(v=Number(b.substring(v,w)),isNaN(v)?Pt:(w+=1,w+v>b.length?Zt:(b=b.slice(w,w+v),u.C=w+v,b)))}fs.prototype.cancel=function(){this.K=!0,Vn(this)};function Os(u){u.T=Date.now()+u.H,Da(u,u.H)}function Da(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Is(y(u.aa,u),b)}function Ds(u){u.D&&(h.clearTimeout(u.D),u.D=null)}fs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ur(this.i,this.B),this.M!=2&&(Rs(),Ut(17)),Vn(this),this.m=2,Qn(this)):Da(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Zc(u.j,u)}function Vn(u){Ds(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,Vr(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function Ms(u,b){try{var v=u.j;if(v.I!=0&&(v.g==u||Ls(v.h,u))){if(!u.L&&Ls(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(b)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ha(v),Fi(v);else break e;$r(v),Ut(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Is(y(v.Va,v),6e3));Vs(v.h)<=1&&v.ta&&(v.ta=void 0)}else qs(v,11)}else if((u.L||v.g==u)&&Ha(v),!A(b))for(z=v.Ba.g.parse(b),b=0;b<z.length;b++){let st=z[b];const Tt=st[0];if(!(Tt<=v.K))if(v.K=Tt,st=st[1],v.I==2)if(st[0]=="c"){v.M=st[1],v.ba=st[2];const Wn=st[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const Fs=st[4];Fs!=null&&(v.za=Fs,v.j.info("SVER="+v.za));const bs=st[5];bs!=null&&typeof bs=="number"&&bs>0&&(w=1.5*bs,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const _s=u.g;if(_s){const Qr=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var Y=w.h;Y.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($o(Y,Y.h),Y.h=null))}if(w.G){const qa=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(w.wa=qa,ot(w.J,w.G,qa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ue=u;if(w.na=nu(w,w.L?w.ba:null,w.W),ue.L){Qo(w.h,ue);var He=ue,Dt=w.O;Dt&&(He.H=Dt),He.D&&(Ds(He),Os(He)),w.g=ue}else Jc(w);v.i.length>0&&Hs(v)}else st[0]!="stop"&&st[0]!="close"||qs(v,7);else v.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?qs(v,7):il(v):st[0]!="noop"&&v.l&&v.l.qa(st),v.A=0)}}Rs(4)}catch{}}var zt=class{constructor(u,b){this.g=u,this.map=b}};function Ko(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vs(u){return u.h?1:u.g?u.g.size:0}function Ls(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function $o(u,b){u.g?u.g.add(b):u.h=b}function Qo(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Ko.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const v of u.g.values())b=b.concat(v.G);return b}return L(u.i)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(u,b){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let z,Y=null;w>=0?(z=u[v].substring(0,w),Y=u[v].substring(w+1)):z=u[v],b(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ln(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof Ln?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Li(this,u.u),this.h=u.h,Jo(this,Qc(u.i)),this.m=u.m):u&&(b=String(u).match(Gc))?(this.l=!1,en(this,b[1]||"",!0),this.o=Us(b[2]||""),this.g=Us(b[3]||"",!0),Li(this,b[4]),this.h=Us(b[5]||"",!0),Jo(this,b[6]||"",!0),this.m=Us(b[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}Ln.prototype.toString=function(){const u=[];var b=this.j;b&&u.push(Hr(b,Va,!0),":");var v=this.g;return(v||b=="file")&&(u.push("//"),(b=this.o)&&u.push(Hr(b,Va,!0),"@"),u.push(li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Hr(v,v.charAt(0)=="/"?Wo:Kc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Hr(v,Yc)),u.join("")},Ln.prototype.resolve=function(u){const b=Bt(this);let v=!!u.j;v?en(b,u.j):v=!!u.o,v?b.o=u.o:v=!!u.g,v?b.g=u.g:v=u.u!=null;var w=u.h;if(v)Li(b,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=b.h.lastIndexOf("/");z!=-1&&(w=b.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ue=0;ue<z.length;){const He=z[ue++];He=="."?w&&ue==z.length&&Y.push(""):He==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&ue==z.length&&Y.push("")):(Y.push(He),w=!0)}w=Y.join("/")}else w=z}return v?b.h=w:v=u.i.toString()!=="",v?Jo(b,Qc(u.i)):v=!!u.m,v&&(b.m=u.m),b};function Bt(u){return new Ln(u)}function en(u,b,v){u.j=v?Us(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function Li(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function Jo(u,b,v){b instanceof Pi?(u.i=b,Ua(u.i,u.l)):(v||(b=Hr(b,Ui)),u.i=new Pi(b,u.l))}function ot(u,b,v){u.i.set(b,v)}function Br(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Us(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,b,v){return typeof u=="string"?(u=encodeURI(u).replace(b,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Va=/[#\/\?@]/g,Kc=/[#\?:]/g,Wo=/[#\?]/g,Ui=/[#\?@]/g,Yc=/#/g;function Pi(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ma(u.i,function(b,v){u.add(decodeURIComponent(b.replace(/\+/g," ")),v)}))}s=Pi.prototype,s.add=function(u,b){wn(this),this.i=null,u=zi(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(b),this.h+=1,this};function $c(u,b){wn(u),b=zi(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function Zo(u,b){return wn(u),b=zi(u,b),u.g.has(b)}s.forEach=function(u,b){wn(this),this.g.forEach(function(v,w){v.forEach(function(z){u.call(b,z,w,this)},this)},this)};function el(u,b){wn(u);let v=[];if(typeof b=="string")Zo(u,b)&&(v=v.concat(u.g.get(zi(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)v=v.concat(u[b]);return v}s.set=function(u,b){return wn(this),this.i=null,u=zi(this,u),Zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},s.get=function(u,b){return u?(u=el(this,u),u.length>0?String(u[0]):b):b};function La(u,b,v){$c(u,b),v.length>0&&(u.i=null,u.g.set(zi(u,b),L(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let w=0;w<b.length;w++){var v=b[w];const z=li(v);v=el(this,v);for(let Y=0;Y<v.length;Y++){let ue=z;v[Y]!==""&&(ue+="="+li(v[Y])),u.push(ue)}}return this.i=u.join("&")};function Qc(u){const b=new Pi;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function zi(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function Ua(u,b){b&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,w){const z=w.toLowerCase();w!=z&&($c(this,w),La(this,z,v))},u)),u.j=b}function ps(u,b){const v=new ds;if(h.Image){const w=new Image;w.onload=x(Xn,v,"TestLoadImage: loaded",!0,b,w),w.onerror=x(Xn,v,"TestLoadImage: error",!1,b,w),w.onabort=x(Xn,v,"TestLoadImage: abort",!1,b,w),w.ontimeout=x(Xn,v,"TestLoadImage: timeout",!1,b,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else b(!1)}function tl(u,b){const v=new ds,w=new AbortController,z=setTimeout(()=>{w.abort(),Xn(v,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:w.signal}).then(Y=>{clearTimeout(z),Y.ok?Xn(v,"TestPingServer: ok",!0,b):Xn(v,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(z),Xn(v,"TestPingServer: error",!1,b)})}function Xn(u,b,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Bi(){this.g=new Vc}function Ps(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Ps,Lc),Ps.prototype.g=function(){return new qr(this.i,this.h)};function qr(u,b){Et.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(qr,Et),s=qr.prototype,s.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,gs(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?Hi(this):gs(this),this.readyState==3&&Pa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Hi(this))},s.Na=function(u){this.g&&(this.response=u,Hi(this))},s.ga=function(){this.g&&Hi(this)};function Hi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gs(u)}s.setRequestHeader=function(u,b){this.A.append(u,b)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var v=b.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=b.next();return u.join(`\r
`)};function gs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let b="";return Oe(u,function(v,w){b+=w,b+=":",b+=v,b+=`\r
`}),b}function Fr(u,b,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Jn(v),typeof u=="string"?v!=null&&li(v):ot(u,b,v))}function ht(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ht,Et);var zs=/^https?$/i,nl=["POST","PUT"];s=ht.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,b,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(Y){Gr(this,Y);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(nl,b,void 0)>=0)||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of v)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Gr(this,Y)}};function Gr(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,sl(u),ci(u)}function sl(u){u.A||(u.A=!0,rt(u,"complete"),rt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,rt(this,"complete"),rt(this,"abort"),ci(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ht.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},s.Xa=function(){Kr(this)};function Kr(u){if(u.h&&typeof c<"u"){if(u.v&&ys(u)==4)setTimeout(u.Ca.bind(u),0);else if(rt(u,"readystatechange"),ys(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var v;if(!(v=b)){var w;if(w=Y===0){let ue=String(u.D).match(Gc)[1]||null;!ue&&h.self&&h.self.location&&(ue=h.self.location.protocol.slice(0,-1)),w=!zs.test(ue?ue.toLowerCase():"")}v=w}if(v)rt(u,"complete"),rt(u,"success");else{u.o=6;try{var z=ys(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",sl(u)}}finally{ci(u)}}}}function ci(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,b||rt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ys(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ys(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),qo(b)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ui(u){const b={};u=(u.g&&ys(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(A(u[w]))continue;var v=Hc(u[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=b[z]||[];b[z]=Y,Y.push(v)}Be(b,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(u,b,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||b}function qi(u){this.za=0,this.i=[],this.j=new ds,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bs("baseRetryDelayMs",5e3,u),this.Za=Bs("retryDelaySeedMs",1e4,u),this.Ta=Bs("forwardChannelMaxRetries",2,u),this.va=Bs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(u&&u.concurrentRequestLimit),this.Ba=new Bi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=qi.prototype,s.ka=8,s.I=1,s.connect=function(u,b,v,w){Ut(0),this.W=u,this.H=b||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=nu(this,null,this.W),Hs(this)};function il(u){if(za(u),u.I==3){var b=u.V++,v=Bt(u.J);if(ot(v,"SID",u.M),ot(v,"RID",b),ot(v,"TYPE","terminate"),Yr(u,v),b=new fs(u,u.j,b),b.M=2,b.A=Br(Bt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=b.A,v=!0),v||(b.g=su(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Os(b)}tu(u)}function Fi(u){u.g&&(al(u),u.g.cancel(),u.g=null)}function za(u){Fi(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Hs(u){if(!Yo(u.h)&&!u.m){u.m=!0;var b=u.Ea;me||N(),pe||(me(),pe=!0),R.add(b,u),u.D=0}}function Ba(u,b){return Vs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Is(y(u.Ea,u,b),eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new fs(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=k(Y),oe(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var b=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(b+=w,b>4096){b=v;break e}if(b===4096||v===this.i.length-1){b=v+1;break e}}b=1e3}else b=1e3;b=Xc(this,z,b),v=Bt(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),Yr(this,v),Y&&(this.R?b="headers="+li(Jn(Y))+"&"+b:this.u&&Fr(v,this.u,Y)),$o(this.h,z),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",b),ot(v,"SID","null"),z.U=!0,js(z,v,null)):js(z,v,b),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Yo(this.h)||rl(this))};function rl(u,b){var v;b?v=b.l:v=u.V++;const w=Bt(u.J);ot(w,"SID",u.M),ot(w,"RID",v),ot(w,"AID",u.K),Yr(u,w),u.u&&u.o&&Fr(w,u.u,u.o),v=new fs(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),b&&(u.i=b.G.concat(u.i)),b=Xc(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$o(u.h,v),js(v,w,b)}function Yr(u,b){u.H&&Oe(u.H,function(v,w){ot(b,w,v)}),u.l&&Oe({},function(v,w){ot(b,w,v)})}function Xc(u,b,v){v=Math.min(u.i.length,v);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var z=u.i;let He=-1;for(;;){const Dt=["count="+v];He==-1?v>0?(He=z[0].g,Dt.push("ofs="+He)):He=0:Dt.push("ofs="+He);let st=!0;for(let Tt=0;Tt<v;Tt++){var Y=z[Tt].g;const Wn=z[Tt].map;if(Y-=He,Y<0)He=Math.max(0,z[Tt].g-100),st=!1;else try{Y="req"+Y+"_"||"";try{var ue=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Fs,bs]of ue){let _s=bs;p(bs)&&(_s=Yn(bs)),Dt.push(Y+Fs+"="+encodeURIComponent(_s))}}catch(Fs){throw Dt.push(Y+"type="+encodeURIComponent("_badmap")),Fs}}catch{w&&w(Wn)}}if(st){ue=Dt.join("&");break e}}ue=void 0}return u=u.i.splice(0,v),b.G=u,ue}function Jc(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;me||N(),pe||(me(),pe=!0),R.add(b,u),u.A=0}}function $r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Is(y(u.Da,u),eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Is(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Fi(this),Wc(this))};function al(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Wc(u){u.g=new fs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=Bt(u.na);ot(b,"RID","rpc"),ot(b,"SID",u.M),ot(b,"AID",u.K),ot(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(b,"TO",u.ia),ot(b,"TYPE","xmlhttp"),Yr(u,b),u.u&&u.o&&Fr(b,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Br(Bt(b)),v.u=null,v.R=!0,Oa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Fi(this),$r(this),Ut(19))};function Ha(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zc(u,b){var v=null;if(u.g==b){Ha(u),al(u),u.g=null;var w=2}else if(Ls(u.h,b))v=b.G,Qo(u.h,b),w=1;else return;if(u.I!=0){if(b.o)if(w==1){v=b.u?b.u.length:0,b=Date.now()-b.F;var z=u.D;w=ja(),rt(w,new Cs(w,v)),Hs(u)}else Jc(u);else if(z=b.m,z==3||z==0&&b.X>0||!(w==1&&Ba(u,b)||w==2&&$r(u)))switch(v&&v.length>0&&(b=u.h,b.i=b.i.concat(v)),z){case 1:qs(u,5);break;case 4:qs(u,10);break;case 3:qs(u,6);break;default:qs(u,2)}}}function eu(u,b){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*b}function qs(u,b){if(u.j.info("Error code "+b),b==2){var v=y(u.bb,u),w=u.Ua;const z=!w;w=new Ln(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||en(w,"https"),Br(w),z?ps(w.toString(),v):tl(w.toString(),v)}else Ut(2);u.I=0,u.l&&u.l.pa(b),tu(u),za(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const b=Xo(u.h);(b.length!=0||u.i.length!=0)&&(O(u.ja,b),O(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function nu(u,b,v){var w=v instanceof Ln?Bt(v):new Ln(v);if(w.g!="")b&&(w.g=b+"."+w.g),Li(w,w.u);else{var z=h.location;w=z.protocol,b=b?b+"."+z.hostname:z.hostname,z=+z.port;const Y=new Ln(null);w&&en(Y,w),b&&(Y.g=b),z&&Li(Y,z),v&&(Y.h=v),w=Y}return v=u.G,b=u.wa,v&&b&&ot(w,v,b),ot(w,"VER",u.ka),Yr(u,w),w}function su(u,b,v){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new ht(new Ps({ab:v})):new ht(u.ma),b.Fa(u.L),b}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}s=iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Gi(){}Gi.prototype.g=function(u,b){return new vn(u,b)};function vn(u,b){Et.call(this),this.g=new qi(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!A(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!A(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new hi(this)}T(vn,Et),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){il(this.g)},vn.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Yn(u),u=v);b.i.push(new zt(b.Ya++,u)),b.I==3&&Hs(b)},vn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,vn.Z.N.call(this)};function ru(u){sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const v in b){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}T(ru,sn);function au(){$n.call(this),this.status=1}T(au,$n);function hi(u){this.g=u}T(hi,iu),hi.prototype.ra=function(){rt(this.g,"a")},hi.prototype.qa=function(u){rt(this.g,new ru(u))},hi.prototype.pa=function(u){rt(this.g,new au)},hi.prototype.oa=function(){rt(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,A1=function(){return new Gi},S1=function(){return ja()},w1=Ot,hp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Th=Pr,Fo.COMPLETE="complete",T1=Fo,Uc.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Jl=Uc,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,E1=ht}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.9.0";function GC(s){Uo=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Vp("@firebase/firestore");function vo(){return wa.logLevel}function fe(s,...e){if(wa.logLevel<=Xe.DEBUG){const n=e.map(Qp);wa.debug(`Firestore (${Uo}): ${s}`,...n)}}function Oi(s,...e){if(wa.logLevel<=Xe.ERROR){const n=e.map(Qp);wa.error(`Firestore (${Uo}): ${s}`,...n)}}function Sa(s,...e){if(wa.logLevel<=Xe.WARN){const n=e.map(Qp);wa.warn(`Firestore (${Uo}): ${s}`,...n)}}function Qp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,N1(s,r,n)}function N1(s,e,n){let r=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Oi(r),new Error(r)}function at(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||N1(e,o,r)}function ze(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $C{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ga,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ga)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new R1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class QC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=WC(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Je(s,e){return s<e?-1:s>e?1:0}function dp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return qm(o)===qm(c)?Je(o,c):qm(o)?1:-1}return Je(s.length,e.length)}const ZC=55296,eI=57343;function qm(s){const e=s.charCodeAt(0);return e>=ZC&&e<=eI}function ko(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class Xs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Xs.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Je(e.length,n.length)}static compareSegments(e,n){const r=Xs.isNumericId(e),o=Xs.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Xs.extractNumericId(e).compare(Xs.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class St extends Xs{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Xs{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new hn([W_])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(c(),o++)}if(c(),h)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(St.fromString(e))}static fromName(e){return new Ae(St.fromString(e).popFirst(5))}static empty(){return new Ae(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(s,e,n){if(!n)throw new we(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sI(s,e,n,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Z_(s){if(!Ae.isDocumentKey(s))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ke(12329,{type:typeof s})}function wr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(s);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ac(s,e){if(!C1(s))throw new we(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new we(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-62135596800,tv=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tv);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ev)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Yt("string",xt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new xt(0,0))}static max(){return new Me(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function iI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Ar(o,Ae.empty(),e)}function rI(s){return new Ar(s.readTime,s.key,hc)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(Me.min(),Ae.empty(),hc)}static max(){return new Ar(Me.max(),Ae.empty(),hc)}}function aI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(s.documentKey,e.documentKey),n!==0?n:Je(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==oI)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>r(g)))})),h=!0,c===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&r(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function cI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function fd(s){return s==null}function $h(s){return s===0&&1/s==-1/0}function uI(s){return typeof s=="number"&&Number.isInteger(s)&&!$h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="";function hI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nv(e)),e=dI(s.get(n),e);return nv(e)}function dI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case I1:n+="";break;default:n+=c}}return n}function nv(s){return s+I1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Dr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function k1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new un(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Wt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j1("Invalid base64 string: "+c):c}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const n=fI.exec(s);if(at(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="server_timestamp",D1="__type__",M1="__previous_value__",V1="__local_write_time__";function Zp(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[D1])==null?void 0:r.stringValue)===O1}function md(s){const e=s.mapValue.fields[M1];return Zp(e)?md(e):e}function dc(s){const e=Nr(s.mapValue.fields[V1].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,o,c,h,p,g,y,x,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=T}}const Qh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function pI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",gI="__max__",fh={mapValue:{}},U1="__vector__",Xh="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zp(s)?4:bI(s)?9007199254740991:yI(s)?10:11:ke(28295,{value:s})}function ii(s,e){if(s===e)return!0;const n=Cr(s);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Nr(o.timestampValue),p=Nr(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Lt(o.doubleValue),p=Lt(c.doubleValue);return h===p?$h(h)===$h(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return ko(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(sv(h)!==sv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!ii(h[g],p[g])))return!1;return!0})(s,e);default:return ke(52216,{left:s})}}function mc(s,e){return(s.values||[]).find((n=>ii(n,e)))!==void 0}function jo(s,e){if(s===e)return 0;const n=Cr(s),r=Cr(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Lt(c.integerValue||c.doubleValue),g=Lt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return rv(s.timestampValue,e.timestampValue);case 4:return rv(dc(s),dc(e));case 5:return dp(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=Rr(c),g=Rr(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Je(p[y],g[y]);if(x!==0)return x}return Je(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Je(Lt(c.latitude),Lt(h.latitude));return p!==0?p:Je(Lt(c.longitude),Lt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return av(s.arrayValue,e.arrayValue);case 10:return(function(c,h){var S,L,O,q;const p=c.fields||{},g=h.fields||{},y=(S=p[Xh])==null?void 0:S.arrayValue,x=(L=g[Xh])==null?void 0:L.arrayValue,T=Je(((O=y==null?void 0:y.values)==null?void 0:O.length)||0,((q=x==null?void 0:x.values)==null?void 0:q.length)||0);return T!==0?T:av(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===fh.mapValue&&h===fh.mapValue)return 0;if(c===fh.mapValue)return 1;if(h===fh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let T=0;T<g.length&&T<x.length;++T){const S=dp(g[T],x[T]);if(S!==0)return S;const L=jo(p[g[T]],y[x[T]]);if(L!==0)return L}return Je(g.length,x.length)})(s.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function rv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Je(s,e);const n=Nr(s),r=Nr(e),o=Je(n.seconds,r.seconds);return o!==0?o:Je(n.nanos,r.nanos)}function av(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=jo(n[o],r[o]);if(c)return c}return Je(n.length,r.length)}function Oo(s){return fp(s)}function fp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ae.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=fp(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${fp(n.fields[h])}`;return o+"}"})(s.mapValue):ke(61005,{value:s})}function wh(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(s);return e?16+wh(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+wh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Dr(r.fields,((c,h)=>{o+=c.length+wh(h)})),o})(s.mapValue);default:throw ke(13486,{value:s})}}function mp(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function ov(s){return!!s&&"nullValue"in s}function lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sh(s){return!!s&&"mapValue"in s}function yI(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[L1])==null?void 0:r.stringValue)===U1}function ic(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Dr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(s.arrayValue.values[n]);return e}return{...s}}function bI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=hn.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=ic(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Dr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(ic(this.value))}}function P1(s){const e=[];return Dr(s.fields,((n,r)=>{const o=new hn([n]);if(Sh(r)){const c=P1(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,o,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new yn(e,0,Me.min(),Me.min(),Me.min(),jn.empty(),0)}static newFoundDocument(e,n,r,o){return new yn(e,1,n,Me.min(),r,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Me.min(),Me.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Me.min(),Me.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function cv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],h=s.position[o];if(c.field.isKeyField()?r=Ae.comparator(Ae.fromName(h.referenceValue),n.key):r=jo(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function uv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ii(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _I(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class Xt extends z1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xI(e,n,r):n==="array-contains"?new wI(e,r):n==="in"?new SI(e,r):n==="not-in"?new AI(e,r):n==="array-contains-any"?new NI(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EI(e,r):new TI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends z1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return B1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(s){return s.op==="and"}function H1(s){return vI(s)&&B1(s)}function vI(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function pp(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+Oo(s.value);if(H1(s))return s.filters.map((e=>pp(e))).join(",");{const e=s.filters.map((n=>pp(n))).join(",");return`${s.op}(${e})`}}function q1(s,e){return s instanceof Xt?(function(r,o){return o instanceof Xt&&r.op===o.op&&r.field.isEqual(o.field)&&ii(r.value,o.value)})(s,e):s instanceof ri?(function(r,o){return o instanceof ri&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,p)=>c&&q1(h,o.filters[p])),!0):!1})(s,e):void ke(19439)}function F1(s){return s instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(s):s instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(F1).join(" ,")+"}"})(s):"Filter"}class xI extends Xt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class EI extends Xt{constructor(e,n){super(e,"in",n),this.keys=G1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TI extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=G1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G1(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ae.fromName(r.referenceValue)))}class wI extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eg(n)&&mc(n.arrayValue,this.value)}}class SI extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class AI extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class NI extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n=null,r=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function hv(s,e=null,n=[],r=[],o=null,c=null,h=null){return new RI(s,e,n,r,o,c,h)}function tg(s){const e=ze(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>pp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Oo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Oo(r))).join(",")),e.Te=n}return e.Te}function ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!_I(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!q1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uv(s.startAt,e.startAt)&&uv(s.endAt,e.endAt)}function gp(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n=null,r=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function CI(s,e,n,r,o,c,h,p){return new pd(s,e,n,r,o,c,h,p)}function sg(s){return new pd(s)}function dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function II(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function kI(s){return s.collectionGroup!==null}function rc(s){const e=ze(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Wt(hn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wh(c,r))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new Wh(hn.keyField(),r))}return e.Ie}function ei(s){const e=ze(s);return e.Ee||(e.Ee=jI(e,rc(s))),e.Ee}function jI(s,e){if(s.limitType==="F")return hv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wh(o.field,c)}));const n=s.endAt?new Jh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Jh(s.startAt.position,s.startAt.inclusive):null;return hv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function yp(s,e,n){return new pd(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function gd(s,e){return ng(ei(s),ei(e))&&s.limitType===e.limitType}function K1(s){return`${tg(ei(s))}|lt:${s.limitType}`}function xo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>F1(o))).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${r})`})(ei(s))}; limitType=${s.limitType})`}function yd(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ae.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of rc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const y=cv(h,p,g);return h.inclusive?y<=0:y<0})(r.startAt,rc(r),o)||r.endAt&&!(function(h,p,g){const y=cv(h,p,g);return h.inclusive?y>=0:y>0})(r.endAt,rc(r),o))})(s,e)}function OI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Y1(s){return(e,n)=>{let r=!1;for(const o of rc(s)){const c=DI(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function DI(s,e,n){const r=s.field.isKeyField()?Ae.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?jo(g,y):ke(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Rt(Ae.comparator);function Di(){return MI}const $1=new Rt(Ae.comparator);function Wl(...s){let e=$1;for(const n of s)e=e.insert(n.key,n);return e}function Q1(s){let e=$1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ma(){return ac()}function X1(){return ac()}function ac(){return new Ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const VI=new Rt(Ae.comparator),LI=new Wt(Ae.comparator);function We(...s){let e=LI;for(const n of s)e=e.add(n);return e}const UI=new Wt(Je);function PI(){return UI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function J1(s){return{integerValue:""+s}}function zI(s,e){return uI(e)?J1(e):ig(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._=void 0}}function BI(s,e,n){return s instanceof Zh?(function(o,c){const h={fields:{[D1]:{stringValue:O1},[V1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=md(c)),c&&(h.fields[M1]=c),{mapValue:h}})(n,e):s instanceof pc?Z1(s,e):s instanceof gc?eE(s,e):(function(o,c){const h=W1(o,c),p=fv(h)+fv(o.Ae);return mp(h)&&mp(o.Ae)?J1(p):ig(o.serializer,p)})(s,e)}function HI(s,e,n){return s instanceof pc?Z1(s,e):s instanceof gc?eE(s,e):n}function W1(s,e){return s instanceof ed?(function(r){return mp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Zh extends bd{}class pc extends bd{constructor(e){super(),this.elements=e}}function Z1(s,e){const n=tE(e);for(const r of s.elements)n.some((o=>ii(o,r)))||n.push(r);return{arrayValue:{values:n}}}class gc extends bd{constructor(e){super(),this.elements=e}}function eE(s,e){let n=tE(e);for(const r of s.elements)n=n.filter((o=>!ii(o,r)));return{arrayValue:{values:n}}}class ed extends bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fv(s){return Lt(s.integerValue||s.doubleValue)}function tE(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function qI(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof pc&&o instanceof pc||r instanceof gc&&o instanceof gc?ko(r.elements,o.elements,ii):r instanceof ed&&o instanceof ed?ii(r.Ae,o.Ae):r instanceof Zh&&o instanceof Zh})(s.transform,e.transform)}class FI{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class _d{}function nE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new iE(s.key,ti.none()):new Nc(s.key,s.data,ti.none());{const n=s.data,r=jn.empty();let o=new Wt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Mr(s.key,r,new Gn(o.toArray()),ti.none())}}function GI(s,e,n){s instanceof Nc?(function(o,c,h){const p=o.value.clone(),g=pv(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Mr?(function(o,c,h){if(!Ah(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=pv(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(sE(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function oc(s,e,n,r){return s instanceof Nc?(function(c,h,p,g){if(!Ah(c.precondition,h))return p;const y=c.value.clone(),x=gv(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Mr?(function(c,h,p,g){if(!Ah(c.precondition,h))return p;const y=gv(c.fieldTransforms,g,h),x=h.data;return x.setAll(sE(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(s,e,n,r):(function(c,h,p){return Ah(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function KI(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=W1(r.transform,o||null);c!=null&&(n===null&&(n=jn.empty()),n.set(r.field,c))}return n||null}function mv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ko(r,o,((c,h)=>qI(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Nc extends _d{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends _d{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function pv(s,e,n){const r=new Map;at(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],h=c.transform,p=e.data.field(c.field);r.set(c.field,HI(h,p,n[o]))}return r}function gv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,h=n.data.field(o.field);r.set(o.field,BI(c,h,e))}return r}class iE extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&GI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=nE(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,r)=>mv(n,r)))&&ko(this.baseMutations,e.baseMutations,((n,r)=>mv(n,r)))}}class rg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return VI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new rg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,et;function JI(s){switch(s){case ie.OK:return ke(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return ke(15467,{code:s})}}function rE(s){if(s===void 0)return Oi("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Kt.OK:return ie.OK;case Kt.CANCELLED:return ie.CANCELLED;case Kt.UNKNOWN:return ie.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ie.INTERNAL;case Kt.UNAVAILABLE:return ie.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ie.NOT_FOUND;case Kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Kt.ABORTED:return ie.ABORTED;case Kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Kt.DATA_LOSS:return ie.DATA_LOSS;default:return ke(39323,{code:s})}}(et=Kt||(Kt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Tr([4294967295,4294967295],0);function yv(s){const e=WI().encode(s),n=new x1;return n.update(e),new Uint8Array(n.digest())}function bv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([o,c],0)]}class ag{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Tr.fromNumber(r)));return o.compare(ZI)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yv(e),[r,o]=bv(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new ag(c,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=yv(e),[r,o]=bv(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vd(Me.min(),o,new Rt(Je),Di(),We())}}class Rc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class aE{constructor(e,n){this.targetId=e,this.Ce=n}}class oE{constructor(e,n,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ke(38017,{changeType:c})}})),new Rc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=vv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.He=mh(),this.Je=mh(),this.Ze=new Rt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(gp(c))if(r===0){const h=new Ae(c.path);this.et(n,h,yn.newNoDocument(h,Me.min()))}else at(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=Rr(r).toUint8Array()}catch(g){if(g instanceof j1)return Sa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ag(h,o,c)}catch(g){return Sa(g instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&gp(p.target)){const g=new Ae(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,yn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let r=We();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new vd(e,n,this.Ze,this.je,r);return this.je=Di(),this.He=mh(),this.Je=mh(),this.Ze=new Rt(Je),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new _v,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Wt(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Wt(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _v),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new Rt(Ae.comparator)}function vv(){return new Rt(Ae.comparator)}const t4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class i4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(s,e){return s.useProto3Json||fd(e)?e:{value:e}}function td(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function r4(s,e){return td(s,e.toTimestamp())}function ni(s){return at(!!s,49232),Me.fromTimestamp((function(n){const r=Nr(n);return new xt(r.seconds,r.nanos)})(s))}function og(s,e){return _p(s,e).canonicalString()}function _p(s,e){const n=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function cE(s){const e=St.fromString(s);return at(mE(e),10190,{key:e.toString()}),e}function vp(s,e){return og(s.databaseId,e.path)}function Fm(s,e){const n=cE(e);if(n.get(1)!==s.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ae(hE(n))}function uE(s,e){return og(s.databaseId,e)}function a4(s){const e=cE(s);return e.length===4?St.emptyPath():hE(e)}function xp(s){return new St(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hE(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,e,n){return{name:vp(s,e),fields:n.value.mapValue.fields}}function o4(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ke(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(at(x===void 0||typeof x=="string",58123),dn.fromBase64String(x||"")):(at(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),dn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?ie.UNKNOWN:rE(y.code);return new we(x,y.message||"")})(h);n=new oE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fm(s,r.document.name),c=ni(r.document.updateTime),h=r.document.createTime?ni(r.document.createTime):Me.min(),p=new jn({mapValue:{fields:r.document.fields}}),g=yn.newFoundDocument(o,c,h,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Nh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Fm(s,r.document),c=r.readTime?ni(r.readTime):Me.min(),h=yn.newNoDocument(o,c),p=r.removedTargetIds||[];n=new Nh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Fm(s,r.document),c=r.removedTargetIds||[];n=new Nh([],c,o,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new XI(o,c),p=r.targetId;n=new aE(p,h)}}return n}function l4(s,e){let n;if(e instanceof Nc)n={update:xv(s,e.key,e.value)};else if(e instanceof iE)n={delete:vp(s,e.key)};else if(e instanceof Mr)n={update:xv(s,e.key,e.data),updateMask:y4(e.fieldMask)};else{if(!(e instanceof YI))return ke(16599,{dt:e.type});n={verify:vp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof Zh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof pc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ed)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw ke(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:r4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ke(27497)})(s,e.precondition)),n}function c4(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((n=>(function(o,c){let h=o.updateTime?ni(o.updateTime):ni(c);return h.isEqual(Me.min())&&(h=ni(c)),new FI(h,o.transformResults||[])})(n,e)))):[]}function u4(s,e){return{documents:[uE(s,e.path)]}}function h4(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uE(s,o);const c=(function(y){if(y.length!==0)return fE(ri.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:Eo(S.field),direction:m4(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=bp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function d4(s){let e=a4(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){at(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(T){const S=dE(T);return S instanceof ri&&H1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(O){return new Wh(To(O.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let S;return S=typeof T=="object"?T.value:T,fd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,L=T.values||[];return new Jh(L,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const S=!T.before,L=T.values||[];return new Jh(L,S)})(n.endAt)),CI(e,o,h,c,p,"F",g,y)}function f4(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=To(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(n.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=To(n.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(n.unaryFilter.field);return Xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Xt.create(To(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((r=>dE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(s):ke(30097,{filter:s})}function m4(s){return t4[s]}function p4(s){return n4[s]}function g4(s){return s4[s]}function Eo(s){return{fieldPath:s.canonicalString()}}function To(s){return hn.fromServerFormat(s.fieldPath)}function fE(s){return s instanceof Xt?(function(n){if(n.op==="=="){if(lv(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(ov(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lv(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(ov(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:p4(n.op),value:n.value}}})(s):s instanceof ri?(function(n){const r=n.getFilters().map((o=>fE(o)));return r.length===1?r[0]:{compositeFilter:{op:g4(n.op),filters:r}}})(s):ke(54877,{filter:s})}function y4(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function pE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,o,c=Me.min(),h=Me.min(),p=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.yt=e}}function _4(s){const e=d4({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Sn=new x4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ar.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class x4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Wt(St.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Do(0)}static ar(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LruGarbageCollector",E4=1048576;function wv([s,e],[n,r]){const o=Je(s,n);return o===0?Je(e,r):o}class T4{constructor(e){this.Pr=e,this.buffer=new Wt(wv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(Tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?fe(Tv,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Ar(3e5)}))}}class S4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(dd.ce);const r=new T4(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Ev)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),vo()<=Xe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function A4(s,e){return new S4(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.changes=new Ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&oc(r.mutation,o,Gn.empty(),xt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const o=ma();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=Wl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ma();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let c=Di();const h=ac(),p=(function(){return ac()})();return n.forEach(((g,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Mr)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),oc(x.mutation,y,x.mutation.getFieldMask(),xt.now())):h.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new R4(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=ac();let o=new Rt(((h,p)=>h-p)),c=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Gn.empty();x=p.applyToLocalView(y,x),r.set(g,x);const T=(o.get(p.batchId)||We()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,T=X1();x.forEach((S=>{if(!c.has(S)){const L=nE(n.get(S),r.get(S));L!==null&&T.set(S,L),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return II(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ee.resolve(ma());let p=hc,g=c;return h.next((y=>ee.forEach(y,((x,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(x)?ee.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,We()))).next((x=>({batchId:p,changes:Q1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,c).next((p=>ee.forEach(p,(g=>{const y=(function(T,S){return new pd(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,yn.newInvalidDocument(x)))}));let p=Wl();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&oc(x.mutation,y,Gn.empty(),xt.now()),yd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:_4(o.bundledQuery),readTime:ni(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.overlays=new Rt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ma();return ee.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=ma(),c=n.length+1,h=new Ae(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new Rt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=ma(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ma(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return ee.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new QI(n,r));let c=this.Lr.get(n);c===void 0&&(c=We(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.kr=new Wt(nn.Kr),this.qr=new Wt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new nn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ae(new St([])),r=new nn(n,e),o=new nn(n,e+1),c=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new St([])),r=new nn(n,e),o=new nn(n,e+1);let c=We();return this.qr.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new nn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(nn.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $I(c,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new nn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Wp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Je);return n.forEach((o=>{const c=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{r=r.add(p.Hr)}))})),ee.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ae.isDocumentKey(c)||(c=c.child(""));const h=new nn(new Ae(c),0);let p=new Wt(Je);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),ee.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){at(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ee.forEach(n.mutations,(o=>{const c=new nn(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new nn(n,0),o=this.Jr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.ti=e,this.docs=(function(){return new Rt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Di();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Di();const h=n.path,p=new Ae(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||aI(rI(x),r)<=0||(o.has(x.key)||yd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,r,o){ke(9500)}ni(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new M4(this)}getSize(e){return ee.resolve(this.size)}}class M4 extends N4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.persistence=e,this.ri=new Ia((n=>tg(n)),ng),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=Do._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(c).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this._i={},this.overlays={},this.ai=new dd(0),this.ui=!1,this.ui=!0,this.ci=new j4,this.referenceDelegate=e(this),this.li=new V4(this),this.indexManager=new v4,this.remoteDocumentCache=(function(o){return new D4(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new b4(n),this.Pi=new I4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new O4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new L4(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ee.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class L4 extends lI{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new lg,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(r=>{const o=Ae.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.fi=new Ia((r=>hI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=A4(this,n)}static Vi(e,n){return new nd(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(r++,c.removeEntry(h,Me.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}wr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=We(),o=We();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ug(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iA()?8:cI(_n())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new U4;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(vo()<=Xe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(vo()<=Xe.DEBUG&&fe("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(vo()<=Xe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):ee.resolve())}gs(e,n){if(dv(n))return ee.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yp(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=We(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,yp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return dv(n)||o.isEqual(Me.min())?ee.resolve(null):this.fs.getDocuments(e,r).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,r,o)?ee.resolve(null):(vo()<=Xe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.Ds(e,h,n,iI(o,hc)).next((p=>p)))}))}bs(e,n){let r=new Wt(Y1(e));return n.forEach(((o,c)=>{yd(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return vo()<=Xe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",xo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ar.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",z4=3e8;class B4{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Rt(Je),this.Fs=new Ia((c=>tg(c)),ng),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function H4(s,e,n,r){return new B4(s,e,n,r)}async function bE(s,e){const n=ze(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let g=We();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function q4(s,e){const n=ze(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const T=y.batch,S=T.keys();let L=ee.resolve();return S.forEach((O=>{L=L.next((()=>x.getEntry(g,O))).next((q=>{const U=y.docVersions.get(O);at(U!==null,48541),q.version.compareTo(U)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),x.addEntry(q)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=We();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function _E(s){const e=ze(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function F4(s,e){const n=ze(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,T)=>{const S=o.get(T);if(!S)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,T).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,T))));let L=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):x.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(x.resumeToken,r)),o=o.insert(T,L),(function(q,U,ne){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=z4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,L,x)&&p.push(n.li.updateTargetData(c,L))}));let g=Di(),y=We();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(G4(c,h,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Me.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((T=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return ee.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function G4(s,e,n){let r=We(),o=We();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let h=Di();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):fe(hg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function K4(s,e){const n=ze(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y4(s,e){const n=ze(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,ee.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new vr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Ep(s,e,n){const r=ze(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zo(h))throw h;fe(hg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Sv(s,e,n){const r=ze(s);let o=Me.min(),c=We();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const T=ze(g),S=T.Fs.get(x);return S!==void 0?ee.resolve(T.vs.get(S)):T.li.getTargetData(y,x)})(r,h,ei(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Me.min(),n?c:We()))).next((p=>($4(r,OI(e),p),{documents:p,ks:c})))))}function $4(s,e,n){let r=s.Ms.get(e)||Me.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class Av{constructor(){this.activeTargetIds=PI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q4{constructor(){this.vo=new Av,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Av,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class Rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(Nv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(Nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Tp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",J4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class W4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const h=Tp(),p=this.Qo(e,n.toUriEncodedString());fe(Gm,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=jr(y);return this.zo(e,p,g,r,x).then((T=>(fe(Gm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Sa(Gm,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",r),T}))}jo(e,n,r,o,c,h){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=J4[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",Gl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class No extends W4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!No.c_){const e=S1();Gl(e,w1.STAT_EVENT,(n=>{n.stat===hp.PROXY?fe(mn,"STAT_EVENT: detected buffering proxy"):n.stat===hp.NOPROXY&&fe(mn,"STAT_EVENT: detected no buffering proxy")})),No.c_=!0}}zo(e,n,r,o,c){const h=Tp();return new Promise(((p,g)=>{const y=new E1;y.setWithCredentials(!0),y.listenOnce(T1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Th.NO_ERROR:const T=y.getResponseJson();fe(mn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Th.TIMEOUT:fe(mn,`RPC '${e}' ${h} timed out`),g(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const S=y.getStatus();if(fe(mn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const O=L==null?void 0:L.error;if(O&&O.status&&O.message){const q=(function(ne){const le=ne.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(le)>=0?le:ie.UNKNOWN})(O.status);g(new we(q,O.message))}else g(new we(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new we(ie.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(mn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);fe(mn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=Tp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=c.join("");fe(mn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=h.createWebChannel(y,p);this.I_(x);let T=!1,S=!1;const L=new Z4({Ho:O=>{S?fe(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(fe(mn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),T=!0),fe(mn,`RPC '${e}' stream ${o} sending:`,O),x.send(O))},Jo:()=>x.close()});return Gl(x,Jl.EventType.OPEN,(()=>{S||(fe(mn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Gl(x,Jl.EventType.CLOSE,(()=>{S||(S=!0,fe(mn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(x))})),Gl(x,Jl.EventType.ERROR,(O=>{S||(S=!0,Sa(mn,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),L.o_(new we(ie.UNAVAILABLE,"The operation could not be completed")))})),Gl(x,Jl.EventType.MESSAGE,(O=>{var q;if(!S){const U=O.data[0];at(!!U,16349);const ne=U,le=(ne==null?void 0:ne.error)||((q=ne[0])==null?void 0:q.error);if(le){fe(mn,`RPC '${e}' stream ${o} received error:`,le);const K=le.status;let ae=(function(R){const N=Kt[R];if(N!==void 0)return rE(N)})(K),me=le.message;K==="NOT_FOUND"&&me.includes("database")&&me.includes("does not exist")&&me.includes(this.databaseId.database)&&Sa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=ie.INTERNAL,me="Unknown error status: "+K+" with message "+le.message),S=!0,L.o_(new we(ae,me)),x.close()}else fe(mn,`RPC '${e}' stream ${o} received:`,U),L.__(U)}})),No.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return A1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(s){return new No(s)}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(s){return new i4(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No.c_=!1;class vE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class xE{constructor(e,n,r,o,c,h,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tk extends xE{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o4(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Me.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Me.min():h.readTime?ni(h.readTime):Me.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=gp(g)?{documents:u4(c,g)}:{query:h4(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=lE(c,h.resumeToken);const y=bp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Me.min())>0){p.readTime=td(c,h.snapshotVersion.toTimestamp());const y=bp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=f4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.K_(n)}}class nk extends xE{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c4(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>l4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{}class ik extends sk{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,_p(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ie.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,_p(n,r),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new we(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rk(s,e,n,r){return new ik(s,e,n,r)}class ak{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class ok{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{ka(this)&&(fe(Aa,"Restarting streams for network reachability change."),await(async function(g){const y=ze(g);y.Ea.add(4),await Cc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ed(y)})(this))}))})),this.Va=new ak(r,o)}}async function Ed(s){if(ka(s))for(const e of s.Ra)await e(!0)}async function Cc(s){for(const e of s.Ra)await e(!1)}function EE(s,e){const n=ze(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?mg(n):Bo(n).O_()&&fg(n,e))}function dg(s,e){const n=ze(s),r=Bo(n);n.Ia.delete(e),r.O_()&&TE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ka(n)&&n.Va.set("Unknown"))}function fg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(s).Z_(e)}function TE(s,e){s.da.$e(e),Bo(s).X_(e)}function mg(s){s.da=new e4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Bo(s).start(),s.Va.ua()}function pg(s){return ka(s)&&!Bo(s).x_()&&s.Ia.size>0}function ka(s){return ze(s).Ea.size===0}function wE(s){s.da=void 0}async function lk(s){s.Va.set("Online")}async function ck(s){s.Ia.forEach(((e,n)=>{fg(s,e)}))}async function uk(s,e){wE(s),pg(s)?(s.Va.ha(e),mg(s)):s.Va.set("Unknown")}async function hk(s,e,n){if(s.Va.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){fe(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sd(s,r)}else if(e instanceof Nh?s.da.Xe(e):e instanceof aE?s.da.st(e):s.da.tt(e),!n.isEqual(Me.min()))try{const r=await _E(s.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(dn.EMPTY_BYTE_STRING,x.snapshotVersion)),TE(c,g);const T=new vr(x.target,g,y,x.sequenceNumber);fg(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){fe(Aa,"Failed to raise snapshot:",r),await sd(s,r)}}async function sd(s,e,n){if(!zo(e))throw e;s.Ea.add(1),await Cc(s),s.Va.set("Offline"),n||(n=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Aa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ed(s)}))}function SE(s,e){return e().catch((n=>sd(s,n,e)))}async function Td(s){const e=ze(s),n=Ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;dk(e);)try{const o=await K4(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,fk(e,o)}catch(o){await sd(e,o)}AE(e)&&NE(e)}function dk(s){return ka(s)&&s.Ta.length<10}function fk(s,e){s.Ta.push(e);const n=Ir(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function AE(s){return ka(s)&&!Ir(s).x_()&&s.Ta.length>0}function NE(s){Ir(s).start()}async function mk(s){Ir(s).ra()}async function pk(s){const e=Ir(s);for(const n of s.Ta)e.ea(n.mutations)}async function gk(s,e,n){const r=s.Ta.shift(),o=rg.from(r,e,n);await SE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Td(s)}async function yk(s,e){e&&Ir(s).Y_&&await(async function(r,o){if((function(h){return JI(h)&&h!==ie.ABORTED})(o.code)){const c=r.Ta.shift();Ir(r).B_(),await SE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Td(r)}})(s,e),AE(s)&&NE(s)}async function Iv(s,e){const n=ze(s);n.asyncQueue.verifyOperationInProgress(),fe(Aa,"RemoteStore received new credentials");const r=ka(n);n.Ea.add(3),await Cc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ed(n)}async function bk(s,e){const n=ze(s);e?(n.Ea.delete(2),await Ed(n)):e||(n.Ea.add(2),await Cc(n),n.Va.set("Unknown"))}function Bo(s){return s.ma||(s.ma=(function(n,r,o){const c=ze(n);return c.sa(),new tk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:lk.bind(null,s),Yo:ck.bind(null,s),t_:uk.bind(null,s),J_:hk.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pg(s)?mg(s):s.Va.set("Unknown")):(await s.ma.stop(),wE(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(n,r,o){const c=ze(n);return c.sa(),new nk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mk.bind(null,s),t_:yk.bind(null,s),ta:pk.bind(null,s),na:gk.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Td(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,p=new gg(e,n,h,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),zo(s))return new we(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.ga=new Rt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mo{constructor(e,n,r,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Mo(e,n,Ro.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class vk{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=ze(n),c=o.queries;o.queries=jv(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function jv(){return new Ia((s=>K1(s)),gd)}async function xk(s,e){const n=ze(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new _k,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=yg(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&bg(n)}async function Ek(s,e){const n=ze(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tk(s,e){const n=ze(s);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(r=!0);h.wa=o}}r&&bg(n)}function wk(s,e,n){const r=ze(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function bg(s){s.Ca.forEach((e=>{e.next()}))}var wp,Ov;(Ov=wp||(wp={})).Ma="default",Ov.Cache="cache";class Sk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class Ak{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.eu=Y1(e),this.tu=new Ro(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new kv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const S=o.get(x),L=yd(this.query,T)?T:null,O=!!S&&this.mutatedKeys.has(S.key),q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;S&&L?S.data.isEqual(L.data)?O!==q&&(r.track({type:3,doc:L}),U=!0):this.su(S,L)||(r.track({type:2,doc:L}),U=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!S&&L?(r.track({type:0,doc:L}),U=!0):S&&!L&&(r.track({type:1,doc:S}),U=!0,(g||y)&&(p=!0)),U&&(L?(h=h.add(L),c=q?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:h,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,T)=>(function(L,O){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:U})}};return q(L)-q(O)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Mo(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new CE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new RE(r))})),n}cu(e){this.Za=e.ks,this.Ya=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class Nk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rk{constructor(e){this.key=e,this.hu=!1}}class Ck{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ia((p=>K1(p)),gd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Rt(Ae.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=Do.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ik(s,e,n=!0){const r=ME(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await IE(r,e,n,!0),o}async function kk(s,e){const n=ME(s);await IE(n,e,!0,!1)}async function IE(s,e,n,r){const o=await Y4(s.localStore,ei(e)),c=o.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await jk(s,e,c,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&EE(s.remoteStore,o),p}async function jk(s,e,n,r,o){s.pu=(T,S,L)=>(async function(q,U,ne,le){let K=U.view.ru(ne);K.Ss&&(K=await Sv(q.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,K))));const ae=le&&le.targetChanges.get(U.targetId),me=le&&le.targetMismatches.get(U.targetId)!=null,pe=U.view.applyChanges(K,q.isPrimaryClient,ae,me);return Mv(q,U.targetId,pe.au),pe.snapshot})(s,T,S,L);const c=await Sv(s.localStore,e,!0),h=new Ak(e,c.ks),p=h.ru(c.documents),g=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=h.applyChanges(p,s.isPrimaryClient,g);Mv(s,n,y.au);const x=new Nk(e,n,h);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function Ok(s,e,n){const r=ze(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!gd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&dg(r.remoteStore,o.targetId),Sp(r,o.targetId)})).catch(Po)):(Sp(r,o.targetId),await Ep(r.localStore,o.targetId,!0))}async function Dk(s,e){const n=ze(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dg(n.remoteStore,r.targetId))}async function Mk(s,e,n){const r=Hk(s);try{const o=await(function(h,p){const g=ze(h),y=xt.now(),x=p.reduce(((L,O)=>L.add(O.key)),We());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let O=Di(),q=We();return g.xs.getEntries(L,x).next((U=>{O=U,O.forEach(((ne,le)=>{le.isValidDocument()||(q=q.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,O))).next((U=>{T=U;const ne=[];for(const le of p){const K=KI(le,T.get(le.key).overlayedDocument);K!=null&&ne.push(new Mr(le.key,K,P1(K.value.mapValue),ti.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ne,p)})).next((U=>{S=U;const ne=U.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(L,U.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:Q1(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new Rt(Je)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(r,o.batchId,n),await Ic(r,o.changes),await Td(r.remoteStore)}catch(o){const c=yg(o,"Failed to persist write");n.reject(c)}}async function kE(s,e){const n=ze(s);try{const r=await F4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?at(h.hu,14607):o.removedDocuments.size>0&&(at(h.hu,42227),h.hu=!1))})),await Ic(n,r,e)}catch(r){await Po(r)}}function Dv(s,e,n){const r=ze(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=ze(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,T)=>{for(const S of T.ba)S.va(p)&&(y=!0)})),y&&bg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vk(s,e,n){const r=ze(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new Rt(Ae.comparator);h=h.insert(c,yn.newNoDocument(c,Me.min()));const p=We().add(c),g=new vd(Me.min(),new Map,new Rt(Je),h,p);await kE(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),vg(r)}else await Ep(r.localStore,e,!1).then((()=>Sp(r,e,n))).catch(Po)}async function Lk(s,e){const n=ze(s),r=e.batch.batchId;try{const o=await q4(n.localStore,e);OE(n,r,null),jE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,o)}catch(o){await Po(o)}}async function Uk(s,e,n){const r=ze(s);try{const o=await(function(h,p){const g=ze(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((T=>(at(T!==null,37113),x=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);OE(r,e,n),jE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,o)}catch(o){await Po(o)}}function jE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function OE(s,e,n){const r=ze(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||DE(s,r)}))}function DE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(dg(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),vg(s))}function Mv(s,e,n){for(const r of n)r instanceof RE?(s.Vu.addReference(r.key,e),Pk(s,r)):r instanceof CE?(fe(_g,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||DE(s,r.key)):ke(19791,{wu:r})}function Pk(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(fe(_g,"New document in limbo: "+n),s.Eu.add(r),vg(s))}function vg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ae(St.fromString(e)),r=s.fu.next();s.Au.set(r,new Rk(n)),s.Ru=s.Ru.insert(n,r),EE(s.remoteStore,new vr(ei(sg(n.path)),r,"TargetPurposeLimboResolution",dd.ce))}}async function Ic(s,e,n){const r=ze(s),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((y=>{var x;if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:(x=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:x.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=ug.Es(g.targetId,y);c.push(T)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(g,y){const x=ze(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(S=>ee.forEach(S.Ts,(L=>x.persistence.referenceDelegate.addReference(T,S.targetId,L))).next((()=>ee.forEach(S.Is,(L=>x.persistence.referenceDelegate.removeReference(T,S.targetId,L)))))))))}catch(T){if(!zo(T))throw T;fe(hg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const L=x.vs.get(S),O=L.snapshotVersion,q=L.withLastLimboFreeSnapshotVersion(O);x.vs=x.vs.insert(S,q)}}})(r.localStore,c))}async function zk(s,e){const n=ze(s);if(!n.currentUser.isEqual(e)){fe(_g,"User change. New user:",e.toKey());const r=await bE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new we(ie.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.Ns)}}function Bk(s,e){const n=ze(s),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let o=We();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function ME(s){const e=ze(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vk.bind(null,e),e.Pu.J_=Tk.bind(null,e.eventManager),e.Pu.yu=wk.bind(null,e.eventManager),e}function Hk(s){const e=ze(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H4(this.persistence,new P4,e.initialUser,this.serializer)}Cu(e){return new yE(cg.Vi,this.serializer)}Du(e){return new Q4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class qk extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof nd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new yE((r=>nd.Vi(r,n)),this.serializer)}}class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vk})()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=ek(e.databaseInfo);return rk(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,p){return new ok(r,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Dv(this.syncEngine,n,0)),(function(){return Rv.v()?new Rv:new X4})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,x){const T=new Ck(o,c,h,p,g,y);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=ze(o);fe(Aa,"RemoteStore shutting down."),c.Ea.add(5),await Cc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class Gk{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{fe(kr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(fe(kr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ym(s,e){s.asyncQueue.verifyOperationInProgress(),fe(kr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Vv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await Kk(s);fe(kr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Iv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Iv(e.remoteStore,o))),s._onlineComponents=e}async function Kk(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(kr,"Using user provided OfflineComponentProvider");try{await Ym(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Ym(s,new id)}}else fe(kr,"Using default OfflineComponentProvider"),await Ym(s,new qk(void 0));return s._offlineComponents}async function VE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(kr,"Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(fe(kr,"Using default OnlineComponentProvider"),await Vv(s,new Ap))),s._onlineComponents}function Yk(s){return VE(s).then((e=>e.syncEngine))}async function Lv(s){const e=await VE(s),n=e.eventManager;return n.onListen=Ik.bind(null,e.syncEngine),n.onUnlisten=Ok.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dk.bind(null,e.syncEngine),n}function $k(s,e,n,r){const o=new Fk(r),c=new Sk(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>xk(await Lv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Ek(await Lv(s),c)))}}function Qk(s,e){const n=new ga;return s.asyncQueue.enqueueAndForget((async()=>Mk(await Yk(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="ComponentProvider",Uv=new Map;function Jk(s,e,n,r,o){return new mI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,LE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",Pv=!0;class zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=Pv}else this.host=e.host,this.ssl=e.ssl??Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E4)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KC;switch(r.type){case"firstParty":return new XC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Uv.get(n);r&&(fe(Xk,"Removing Datastore"),Uv.delete(n),r.terminate())})(this),Promise.resolve()}}function Wk(s,e,n,r={}){var y;s=wr(s,xg);const o=jr(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(Dp(`https://${p}`),Mp("Firestore",!0)),c.host!==UE&&c.host!==p&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!va(g,h)&&(s._setSettings(g),r.mockUserToken)){let x,T;if(typeof r.mockUserToken=="string")x=r.mockUserToken,T=pn.MOCK_USER;else{x=Vx(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(S)}s._authCredentials=new YC(new R1(x,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ac(n,Jt._jsonSchema))return new Jt(e,r||null,new Ae(St.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:Yt("string",Jt._jsonSchemaVersion),referencePath:Yt("string")};class yc extends wd{constructor(e,n,r){super(e,n,sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Ae(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function Bv(s,e,...n){if(s=Nt(s),arguments.length===1&&(e=Xp.newId()),nI("doc","path",e),s instanceof xg){const r=St.fromString(e,...n);return Z_(r),new Jt(s,null,new Ae(r))}{if(!(s instanceof Jt||s instanceof yc))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(St.fromString(e,...n));return Z_(r),new Jt(s.firestore,s instanceof yc?s.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const r=Km();r&&fe(Hv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;fe(Hv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",Fv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class bc extends xg{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function Zk(s,e){const n=typeof s=="object"?s:Up(),r=typeof s=="string"?s:Qh,o=ld(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Ox("firestore");c&&Wk(o,...c)}return o}function PE(s){if(s._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ej(s),s._firestoreClient}function ej(s){var r,o,c,h;const e=s._freezeSettings(),n=Jk(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Gk(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cs(dn.fromBase64String(e))}catch(n){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cs(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,cs._jsonSchema))return cs.fromBase64String(e.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:Yt("string",cs._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Yt("string",si._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new we(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Yt("string",Ss._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=/^__.*__$/;class nj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class zE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{dataSource:s})}}class wg{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BE(this.dataSource)&&tj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}createContext(e,n,r,o=!1){return new wg({dataSource:e,methodName:n,targetDoc:r,path:hn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(s){const e=s._freezeSettings(),n=xd(s._databaseId);return new sj(s._databaseId,!!e.ignoreUndefinedProperties,n)}function ij(s,e,n,r,o,c={}){const h=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Sg("Data must be an object, but it was:",h,r);const p=qE(r,h);let g,y;if(c.merge)g=new Gn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const S=_c(e,T,n);if(!h.contains(S))throw new we(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);KE(x,S)||x.push(S)}g=new Gn(x),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new nj(new jn(p),g,y)}class Sd extends Tg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}function rj(s,e,n,r){const o=s.createContext(1,e,n);Sg("Data must be an object, but it was:",o,r);const c=[],h=jn.empty();Dr(r,((g,y)=>{const x=GE(e,g,n);y=Nt(y);const T=o.childContextForFieldPath(x);if(y instanceof Sd)c.push(x);else{const S=Ad(y,T);S!=null&&(c.push(x),h.set(x,S))}}));const p=new Gn(c);return new zE(h,p,o.fieldTransforms)}function aj(s,e,n,r,o,c){const h=s.createContext(1,e,n),p=[_c(e,r,n)],g=[o];if(c.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(_c(e,c[S])),g.push(c[S+1]);const y=[],x=jn.empty();for(let S=p.length-1;S>=0;--S)if(!KE(y,p[S])){const L=p[S];let O=g[S];O=Nt(O);const q=h.childContextForFieldPath(L);if(O instanceof Sd)y.push(L);else{const U=Ad(O,q);U!=null&&(y.push(L),x.set(L,U))}}const T=new Gn(y);return new zE(x,T,h.fieldTransforms)}function Ad(s,e){if(FE(s=Nt(s)))return Sg("Unsupported field value:",e,s),qE(s,e);if(s instanceof Tg)return(function(r,o){if(!BE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const p of r){let g=Ad(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=xt.fromDate(r);return{timestampValue:td(o.serializer,c)}}if(r instanceof xt){const c=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:td(o.serializer,c)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cs)return{bytesValue:lE(o.serializer,r._byteString)};if(r instanceof Jt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ss)return(function(h,p){const g=h instanceof Ss?h.toArray():h;return{mapValue:{fields:{[L1]:{stringValue:U1},[Xh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return ig(p.serializer,x)}))}}}}}})(r,o);if(pE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jp(r)}`)})(s,e)}function qE(s,e){const n={};return k1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(s,((r,o)=>{const c=Ad(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof xt||s instanceof si||s instanceof cs||s instanceof Jt||s instanceof Tg||s instanceof Ss||pE(s))}function Sg(s,e,n){if(!FE(n)||!C1(n)){const r=Jp(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function _c(s,e,n){if((e=Nt(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return GE(s,e);throw rd("Field path arguments must be of type string or ",s,!1,void 0,n)}const oj=new RegExp("[~\\*/\\[\\]]");function GE(s,e,n){if(e.search(oj)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function rd(s,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new we(ie.INVALID_ARGUMENT,p+s+g)}function KE(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,o,c;const n=(c=(o=(r=e.fields)==null?void 0:r[Xh].arrayValue)==null?void 0:o.values)==null?void 0:c.map((h=>Lt(h.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new si(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Nr(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);at(mE(r),9688,{name:e});const o=new fc(r.get(1),r.get(3)),c=new Ae(r.popFirst(5));return o.isEqual(n)||Oi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends lj{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}const Gv="@firebase/firestore",Kv="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(_c("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cj extends $E{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function hj(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends $E{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_c("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Yt("string",ya._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Rh extends ya{data(e={}){return super.data(e)}}class Co{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rh(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ec(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Rh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ec(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:dj(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dj(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Yt("string",Co._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};function fj(s,e,n){s=wr(s,Jt);const r=wr(s.firestore,bc),o=hj(s.converter,e),c=HE(r);return QE(r,[ij(c,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ti.none())])}function mj(s,e,n,...r){s=wr(s,Jt);const o=wr(s.firestore,bc),c=HE(o);let h;return h=typeof(e=Nt(e))=="string"||e instanceof Eg?aj(c,"updateDoc",s._key,e,n,r):rj(c,"updateDoc",s._key,e),QE(o,[h.toMutation(s._key,ti.exists(!0))])}function pj(s,...e){var y,x,T;s=Nt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Yv(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Yv(e[r])){const S=e[r];e[r]=(y=S.next)==null?void 0:y.bind(S),e[r+1]=(x=S.error)==null?void 0:x.bind(S),e[r+2]=(T=S.complete)==null?void 0:T.bind(S)}let c,h,p;if(s instanceof Jt)h=wr(s.firestore,bc),p=sg(s._key.path),c={next:S=>{e[r]&&e[r](gj(h,s,S))},error:e[r+1],complete:e[r+2]};else{const S=wr(s,wd);h=wr(S.firestore,bc),p=S._query;const L=new YE(h);c={next:O=>{e[r]&&e[r](new Co(h,L,S,O))},error:e[r+1],complete:e[r+2]},uj(s._query)}const g=PE(h);return $k(g,p,o,c)}function QE(s,e){const n=PE(s);return Qk(n,e)}function gj(s,e,n){const r=n.docs.get(e._key),o=new YE(s);return new ya(s,o,e._key,r,new ec(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){GC(Ca),xa(new Sr("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new bc(new $C(r.getProvider("auth-internal")),new JC(h,r.getProvider("app-check-internal")),pI(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(Gv,Kv,e),Ws(Gv,Kv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebasestorage.googleapis.com",JE="storageBucket",yj=120*1e3,bj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends ai{constructor(e,n,r=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function $m(s){return"storage/"+s}function Ag(){const s="An unknown error occurred, please check the error payload for server response.";return new jt(kt.UNKNOWN,s)}function _j(s){return new jt(kt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function vj(s){return new jt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xj(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt(kt.UNAUTHENTICATED,s)}function Ej(){return new jt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tj(s){return new jt(kt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function wj(){return new jt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sj(){return new jt(kt.CANCELED,"User canceled the upload/download.")}function Aj(s){return new jt(kt.INVALID_URL,"Invalid URL '"+s+"'.")}function Nj(s){return new jt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Rj(){return new jt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JE+"' property when initializing the app?")}function Cj(){return new jt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ij(){return new jt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kj(s){return new jt(kt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Np(s){return new jt(kt.INVALID_ARGUMENT,s)}function WE(){return new jt(kt.APP_DELETED,"The Firebase app was deleted.")}function jj(s){return new jt(kt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lc(s,e){return new jt(kt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Kl(s){throw new jt(kt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(r.path==="")return r;throw Nj(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const x="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",L=new RegExp(`^https?://${T}/${x}/b/${o}/o${S}`,"i"),O={bucket:1,path:3},q=n===XE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",ne=new RegExp(`^https?://${q}/${o}/${U}`,"i"),K=[{regex:p,indices:g,postModify:c},{regex:L,indices:O,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<K.length;ae++){const me=K[ae],pe=me.regex.exec(e);if(pe){const R=pe[me.indices.bucket];let N=pe[me.indices.path];N||(N=""),r=new Kn(R,N),me.postModify(r);break}}if(r==null)throw Aj(e);return r}}class Oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(s,e,n){let r=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function x(...U){y||(y=!0,e.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,s(L,g())},U)}function S(){c&&clearTimeout(c)}function L(U,...ne){if(y){S();return}if(U){S(),x.call(null,U,...ne);return}if(g()||h){S(),x.call(null,U,...ne);return}r<64&&(r*=2);let K;p===1?(p=2,K=0):K=(r+Math.random())*1e3,T(K)}let O=!1;function q(U){O||(O=!0,S(),!y&&(o!==null?(U||(p=2),clearTimeout(o),T(0)):U||(p=1)))}return T(0),c=setTimeout(()=>{h=!0,q(!0)},n),q}function Mj(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(s){return s!==void 0}function Lj(s){return typeof s=="object"&&!Array.isArray(s)}function Ng(s){return typeof s=="string"||s instanceof String}function $v(s){return Rg()&&s instanceof Blob}function Rg(){return typeof Blob<"u"}function Qv(s,e,n,r){if(r<e)throw Np(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Np(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function ZE(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ba;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ba||(ba={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,o,c,h,p,g,y,x,T,S=!0,L=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,q)=>{this.resolve_=O,this.reject_=q,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new gh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===ba.NO_ERROR,g=c.getStatus();if(!p||Uj(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===ba.ABORT;r(!1,new gh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new gh(y,c))})},n=(r,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Vj(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=Ag();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?WE():Sj();h(g)}else{const g=wj();h(g)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=Dj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zj(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function Bj(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hj(s,e){e&&(s["X-Firebase-GMPID"]=e)}function qj(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Fj(s,e,n,r,o,c,h=!0,p=!1){const g=ZE(s.urlParams),y=s.url+g,x=Object.assign({},s.headers);return Hj(x,e),zj(x,n),Bj(x,c),qj(x,r),new Pj(y,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kj(...s){const e=Gj();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Rg())return new Blob(s);throw new jt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yj(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(s){if(typeof atob>"u")throw kj("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qm{constructor(e,n){this.data=e,this.contentType=n||null}}function Qj(s,e){switch(s){case Js.RAW:return new Qm(eT(e));case Js.BASE64:case Js.BASE64URL:return new Qm(tT(s,e));case Js.DATA_URL:return new Qm(Jj(e),Wj(e))}throw Ag()}function eT(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=r,h=s.charCodeAt(++n);r=65536|(c&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xj(s){let e;try{e=decodeURIComponent(s)}catch{throw lc(Js.DATA_URL,"Malformed data URL.")}return eT(e)}function tT(s,e){switch(s){case Js.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw lc(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw lc(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$j(e)}catch(o){throw o.message.includes("polyfill")?o:lc(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class nT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lc(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Zj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jj(s){const e=new nT(s);return e.base64?tT(Js.BASE64,e.rest):Xj(e.rest)}function Wj(s){return new nT(s).contentType}function Zj(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){let r=0,o="";$v(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if($v(this.data_)){const r=this.data_,o=Yj(r,e,n);return o===null?null:new _r(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _r(r,!0)}}static getBlob(...e){if(Rg()){const n=e.map(r=>r instanceof _r?r.data_:r);return new _r(Kj.apply(null,n))}else{const n=e.map(h=>Ng(h)?Qj(Js.RAW,h).data:h.data_);let r=0;n.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let c=0;return n.forEach(h=>{for(let p=0;p<h.length;p++)o[c++]=h[p]}),new _r(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(s){let e;try{e=JSON.parse(s)}catch{return null}return Lj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function tO(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function iT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(s,e){return e}class En{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||nO}}let yh=null;function sO(s){return!Ng(s)||s.length<2?s:iT(s)}function rT(){if(yh)return yh;const s=[];s.push(new En("bucket")),s.push(new En("generation")),s.push(new En("metageneration")),s.push(new En("name","fullPath",!0));function e(c,h){return sO(h)}const n=new En("name");n.xform=e,s.push(n);function r(c,h){return h!==void 0?Number(h):h}const o=new En("size");return o.xform=r,s.push(o),s.push(new En("timeCreated")),s.push(new En("updated")),s.push(new En("md5Hash",null,!0)),s.push(new En("cacheControl",null,!0)),s.push(new En("contentDisposition",null,!0)),s.push(new En("contentEncoding",null,!0)),s.push(new En("contentLanguage",null,!0)),s.push(new En("contentType",null,!0)),s.push(new En("metadata","customMetadata",!0)),yh=s,yh}function iO(s,e){function n(){const r=s.bucket,o=s.fullPath,c=new Kn(r,o);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function rO(s,e,n){const r={};r.type="file";const o=n.length;for(let c=0;c<o;c++){const h=n[c];r[h.local]=h.xform(r,e[h.server])}return iO(r,s),r}function aT(s,e,n){const r=sT(e);return r===null?null:rO(s,r,n)}function aO(s,e,n,r){const o=sT(e);if(o===null||!Ng(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const x=s.bucket,T=s.fullPath,S="/b/"+h(x)+"/o/"+h(T),L=Cg(S,n,r),O=ZE({alt:"media",token:y});return L+O})[0]}function oO(s,e){const n={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class oT{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(s){if(!s)throw Ag()}function lO(s,e){function n(r,o){const c=aT(s,o,e);return lT(c!==null),c}return n}function cO(s,e){function n(r,o){const c=aT(s,o,e);return lT(c!==null),aO(c,o,s.host,s._protocol)}return n}function cT(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Ej():o=xj():n.getStatus()===402?o=vj(s.bucket):n.getStatus()===403?o=Tj(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function uO(s){const e=cT(s);function n(r,o){let c=e(r,o);return r.getStatus()===404&&(c=_j(s.path)),c.serverResponse=o.serverResponse,c}return n}function hO(s,e,n){const r=e.fullServerUrl(),o=Cg(r,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,p=new oT(o,c,cO(s,n),h);return p.errorHandler=uO(e),p}function dO(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function fO(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=dO(null,e)),r}function mO(s,e,n,r,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let K="";for(let ae=0;ae<2;ae++)K=K+Math.random().toString().slice(2);return K}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const y=fO(e,r,o),x=oO(y,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+g+"--",L=_r.getBlob(T,r,S);if(L===null)throw Cj();const O={name:y.fullPath},q=Cg(c,s.host,s._protocol),U="POST",ne=s.maxUploadRetryTime,le=new oT(q,U,lO(s,n),ne);return le.urlParams=O,le.headers=h,le.body=L.uploadData(),le.errorHandler=cT(e),le}class pO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,c){if(this.sent_)throw Kl("cannot .send() more than once");if(jr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gO extends pO{initXhr(){this.xhr_.responseType="text"}}function uT(){return new gO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Na(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iT(this._location.path)}get storage(){return this._service}get parent(){const e=eO(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new Na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw jj(e)}}function yO(s,e,n){s._throwIfRoot("uploadBytes");const r=mO(s.storage,s._location,rT(),new _r(e,!0),n);return s.storage.makeRequestWithTokens(r,uT).then(o=>({metadata:o,ref:s}))}function bO(s){s._throwIfRoot("getDownloadURL");const e=hO(s.storage,s._location,rT());return s.storage.makeRequestWithTokens(e,uT).then(n=>{if(n===null)throw Ij();return n})}function _O(s,e){const n=tO(s._location.path,e),r=new Kn(s._location.bucket,n);return new Na(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(s){return/^[A-Za-z]+:\/\//.test(s)}function xO(s,e){return new Na(s,e)}function hT(s,e){if(s instanceof Ig){const n=s;if(n._bucket==null)throw Rj();const r=new Na(n,n._bucket);return e!=null?hT(r,e):r}else return e!==void 0?_O(s,e):s}function EO(s,e){if(e&&vO(e)){if(s instanceof Ig)return xO(s,e);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}else return hT(s,e)}function Xv(s,e){const n=e==null?void 0:e[JE];return n==null?null:Kn.makeFromBucketSpec(n,s)}function TO(s,e,n,r={}){s.host=`${e}:${n}`;const o=jr(e);o&&(Dp(`https://${s.host}/b`),Mp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:Vx(c,s.app.options.projectId))}class Ig{constructor(e,n,r,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=XE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yj,this._maxUploadRetryTime=bj,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=Xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=Xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Na(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new Oj(WE());{const h=Fj(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Jv="@firebase/storage",Wv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="storage";function wO(s,e,n){return s=Nt(s),yO(s,e,n)}function SO(s){return s=Nt(s),bO(s)}function AO(s,e){return s=Nt(s),EO(s,e)}function NO(s=Up(),e){s=Nt(s);const r=ld(s,dT).getImmediate({identifier:e}),o=Ox("storage");return o&&RO(r,...o),r}function RO(s,e,n,r={}){TO(s,e,n,r)}function CO(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Ig(n,r,o,e,Ca)}function IO(){xa(new Sr(dT,CO,"PUBLIC").setMultipleInstances(!0)),Ws(Jv,Wv,""),Ws(Jv,Wv,"esm2020")}IO();const kO={apiKey:"AIzaSyD3Gx8mwehiwlTJnvy02QkJPjNWurB3ODk",authDomain:"costpilot-bb6c5.firebaseapp.com",projectId:"costpilot-bb6c5",storageBucket:"costpilot-bb6c5.firebasestorage.app",messagingSenderId:"889340925770",appId:"1:889340925770:web:dd24afebe3f6e0515f93b3"},kg=Px(kO),Yl=BC(kg),Zv=Zk(kg),jO=NO(kg),fT=te.createContext({}),Nd=()=>te.useContext(fT),OO=({children:s})=>{const[e,n]=te.useState(null),[r,o]=te.useState(!0);te.useEffect(()=>CR(Yl,T=>{n(T),o(!1)}),[]);const c=(x,T)=>TR(Yl,x,T),h=(x,T)=>ER(Yl,x,T),p=()=>{const x=new Ni;return XR(Yl,x)},g=()=>IR(Yl),y=x=>wR(x);return f.jsx(fT.Provider,{value:{user:e,loading:r,signIn:c,signUp:h,signInWithGoogle:p,logout:g,sendVerificationEmail:y},children:s})},DO=({currentView:s,setView:e,userProfile:n})=>{const{theme:r,toggleTheme:o}=Rx(),{logout:c}=Nd(),h=[{label:"Dashboard",value:gn.DASHBOARD},{label:"Wealth+",value:gn.WEALTH_PLUS},{label:"Optimization",value:gn.OPTIMIZATION},{label:"Optimization2",value:gn.OPTIMIZATION2},{label:"Settings",value:gn.SETTINGS}];return f.jsx("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-50 transition-colors duration-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e(gn.DASHBOARD),children:[f.jsx("img",{src:"/favicon1.png",alt:"CostPilot Logo",className:"h-12 w-auto"}),f.jsx("span",{className:"text-2xl font-medium font-logo text-slate-900 dark:text-white",children:"CostPilot"})]}),f.jsx("div",{className:"hidden md:flex space-x-1",children:h.map(p=>f.jsx("button",{onClick:()=>e(p.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${s===p.value?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:p.label},p.value))}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:o,className:"p-2 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",title:"Toggle Theme",children:r==="light"?f.jsx(Tx,{size:20}):f.jsx(Sx,{size:20})}),f.jsx("div",{className:"h-8 w-8 rounded-full bg-orange-100 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 flex items-center justify-center text-orange-600 dark:text-orange-400 cursor-pointer overflow-hidden",onClick:()=>e(gn.SETTINGS),title:"Settings",children:n!=null&&n.photoUrl?f.jsx("img",{src:n.photoUrl,alt:"Profile",className:"h-full w-full object-cover"}):f.jsx(ep,{size:16})}),f.jsx("button",{onClick:c,className:"p-2 rounded-full text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Log Out",children:f.jsx(oS,{size:20})})]})]})})})};function mT(s,e){return function(){return s.apply(e,arguments)}}const{toString:MO}=Object.prototype,{getPrototypeOf:jg}=Object,{iterator:Rd,toStringTag:pT}=Symbol,Cd=(s=>e=>{const n=MO.call(e);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),As=s=>(s=s.toLowerCase(),e=>Cd(e)===s),Id=s=>e=>typeof e===s,{isArray:Ho}=Array,Vo=Id("undefined");function kc(s){return s!==null&&!Vo(s)&&s.constructor!==null&&!Vo(s.constructor)&&On(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const gT=As("ArrayBuffer");function VO(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&gT(s.buffer),e}const LO=Id("string"),On=Id("function"),yT=Id("number"),jc=s=>s!==null&&typeof s=="object",UO=s=>s===!0||s===!1,Ch=s=>{if(Cd(s)!=="object")return!1;const e=jg(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pT in s)&&!(Rd in s)},PO=s=>{if(!jc(s)||kc(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},zO=As("Date"),BO=As("File"),HO=As("Blob"),qO=As("FileList"),FO=s=>jc(s)&&On(s.pipe),GO=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||On(s.append)&&((e=Cd(s))==="formdata"||e==="object"&&On(s.toString)&&s.toString()==="[object FormData]"))},KO=As("URLSearchParams"),[YO,$O,QO,XO]=["ReadableStream","Request","Response","Headers"].map(As),JO=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oc(s,e,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let r,o;if(typeof s!="object"&&(s=[s]),Ho(s))for(r=0,o=s.length;r<o;r++)e.call(null,s[r],r,s);else{if(kc(s))return;const c=n?Object.getOwnPropertyNames(s):Object.keys(s),h=c.length;let p;for(r=0;r<h;r++)p=c[r],e.call(null,s[p],p,s)}}function bT(s,e){if(kc(s))return null;e=e.toLowerCase();const n=Object.keys(s);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_T=s=>!Vo(s)&&s!==pa;function Rp(){const{caseless:s,skipUndefined:e}=_T(this)&&this||{},n={},r=(o,c)=>{if(c==="__proto__"||c==="constructor"||c==="prototype")return;const h=s&&bT(n,c)||c;Ch(n[h])&&Ch(o)?n[h]=Rp(n[h],o):Ch(o)?n[h]=Rp({},o):Ho(o)?n[h]=o.slice():(!e||!Vo(o))&&(n[h]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Oc(arguments[o],r);return n}const WO=(s,e,n,{allOwnKeys:r}={})=>(Oc(e,(o,c)=>{n&&On(o)?Object.defineProperty(s,c,{value:mT(o,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,c,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),s),ZO=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),e3=(s,e,n,r)=>{s.prototype=Object.create(e.prototype,r),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:e.prototype}),n&&Object.assign(s.prototype,n)},t3=(s,e,n,r)=>{let o,c,h;const p={};if(e=e||{},s==null)return e;do{for(o=Object.getOwnPropertyNames(s),c=o.length;c-- >0;)h=o[c],(!r||r(h,s,e))&&!p[h]&&(e[h]=s[h],p[h]=!0);s=n!==!1&&jg(s)}while(s&&(!n||n(s,e))&&s!==Object.prototype);return e},n3=(s,e,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=e.length;const r=s.indexOf(e,n);return r!==-1&&r===n},s3=s=>{if(!s)return null;if(Ho(s))return s;let e=s.length;if(!yT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=s[e];return n},i3=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&jg(Uint8Array)),r3=(s,e)=>{const r=(s&&s[Rd]).call(s);let o;for(;(o=r.next())&&!o.done;){const c=o.value;e.call(s,c[0],c[1])}},a3=(s,e)=>{let n;const r=[];for(;(n=s.exec(e))!==null;)r.push(n);return r},o3=As("HTMLFormElement"),l3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ex=(({hasOwnProperty:s})=>(e,n)=>s.call(e,n))(Object.prototype),c3=As("RegExp"),vT=(s,e)=>{const n=Object.getOwnPropertyDescriptors(s),r={};Oc(n,(o,c)=>{let h;(h=e(o,c,s))!==!1&&(r[c]=h||o)}),Object.defineProperties(s,r)},u3=s=>{vT(s,(e,n)=>{if(On(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=s[n];if(On(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},h3=(s,e)=>{const n={},r=o=>{o.forEach(c=>{n[c]=!0})};return Ho(s)?r(s):r(String(s).split(e)),n},d3=()=>{},f3=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function m3(s){return!!(s&&On(s.append)&&s[pT]==="FormData"&&s[Rd])}const p3=s=>{const e=new Array(10),n=(r,o)=>{if(jc(r)){if(e.indexOf(r)>=0)return;if(kc(r))return r;if(!("toJSON"in r)){e[o]=r;const c=Ho(r)?[]:{};return Oc(r,(h,p)=>{const g=n(h,o+1);!Vo(g)&&(c[p]=g)}),e[o]=void 0,c}}return r};return n(s,0)},g3=As("AsyncFunction"),y3=s=>s&&(jc(s)||On(s))&&On(s.then)&&On(s.catch),xT=((s,e)=>s?setImmediate:e?((n,r)=>(pa.addEventListener("message",({source:o,data:c})=>{o===pa&&c===n&&r.length&&r.shift()()},!1),o=>{r.push(o),pa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",On(pa.postMessage)),b3=typeof queueMicrotask<"u"?queueMicrotask.bind(pa):typeof process<"u"&&process.nextTick||xT,_3=s=>s!=null&&On(s[Rd]),$={isArray:Ho,isArrayBuffer:gT,isBuffer:kc,isFormData:GO,isArrayBufferView:VO,isString:LO,isNumber:yT,isBoolean:UO,isObject:jc,isPlainObject:Ch,isEmptyObject:PO,isReadableStream:YO,isRequest:$O,isResponse:QO,isHeaders:XO,isUndefined:Vo,isDate:zO,isFile:BO,isBlob:HO,isRegExp:c3,isFunction:On,isStream:FO,isURLSearchParams:KO,isTypedArray:i3,isFileList:qO,forEach:Oc,merge:Rp,extend:WO,trim:JO,stripBOM:ZO,inherits:e3,toFlatObject:t3,kindOf:Cd,kindOfTest:As,endsWith:n3,toArray:s3,forEachEntry:r3,matchAll:a3,isHTMLForm:o3,hasOwnProperty:ex,hasOwnProp:ex,reduceDescriptors:vT,freezeMethods:u3,toObjectSet:h3,toCamelCase:l3,noop:d3,toFiniteNumber:f3,findKey:bT,global:pa,isContextDefined:_T,isSpecCompliantForm:m3,toJSONObject:p3,isAsyncFn:g3,isThenable:y3,setImmediate:xT,asap:b3,isIterable:_3};let je=class ET extends Error{static from(e,n,r,o,c,h){const p=new ET(e.message,n||e.code,r,o,c);return p.cause=e,p.name=e.name,h&&Object.assign(p,h),p}constructor(e,n,r,o,c){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),o&&(this.request=o),c&&(this.response=c,this.status=c.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}};je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";je.ERR_BAD_OPTION="ERR_BAD_OPTION";je.ECONNABORTED="ECONNABORTED";je.ETIMEDOUT="ETIMEDOUT";je.ERR_NETWORK="ERR_NETWORK";je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";je.ERR_DEPRECATED="ERR_DEPRECATED";je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";je.ERR_CANCELED="ERR_CANCELED";je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";je.ERR_INVALID_URL="ERR_INVALID_URL";const v3=null;function Cp(s){return $.isPlainObject(s)||$.isArray(s)}function TT(s){return $.endsWith(s,"[]")?s.slice(0,-2):s}function tx(s,e,n){return s?s.concat(e).map(function(o,c){return o=TT(o),!n&&c?"["+o+"]":o}).join(n?".":""):e}function x3(s){return $.isArray(s)&&!s.some(Cp)}const E3=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function kd(s,e,n){if(!$.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,U){return!$.isUndefined(U[q])});const r=n.metaTokens,o=n.visitor||x,c=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function y(O){if(O===null)return"";if($.isDate(O))return O.toISOString();if($.isBoolean(O))return O.toString();if(!g&&$.isBlob(O))throw new je("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(O)||$.isTypedArray(O)?g&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function x(O,q,U){let ne=O;if(O&&!U&&typeof O=="object"){if($.endsWith(q,"{}"))q=r?q:q.slice(0,-2),O=JSON.stringify(O);else if($.isArray(O)&&x3(O)||($.isFileList(O)||$.endsWith(q,"[]"))&&(ne=$.toArray(O)))return q=TT(q),ne.forEach(function(K,ae){!($.isUndefined(K)||K===null)&&e.append(h===!0?tx([q],ae,c):h===null?q:q+"[]",y(K))}),!1}return Cp(O)?!0:(e.append(tx(U,q,c),y(O)),!1)}const T=[],S=Object.assign(E3,{defaultVisitor:x,convertValue:y,isVisitable:Cp});function L(O,q){if(!$.isUndefined(O)){if(T.indexOf(O)!==-1)throw Error("Circular reference detected in "+q.join("."));T.push(O),$.forEach(O,function(ne,le){(!($.isUndefined(ne)||ne===null)&&o.call(e,ne,$.isString(le)?le.trim():le,q,S))===!0&&L(ne,q?q.concat(le):[le])}),T.pop()}}if(!$.isObject(s))throw new TypeError("data must be an object");return L(s),e}function nx(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Og(s,e){this._pairs=[],s&&kd(s,this,e)}const wT=Og.prototype;wT.append=function(e,n){this._pairs.push([e,n])};wT.toString=function(e){const n=e?function(r){return e.call(this,r,nx)}:nx;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function T3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ST(s,e,n){if(!e)return s;const r=n&&n.encode||T3,o=$.isFunction(n)?{serialize:n}:n,c=o&&o.serialize;let h;if(c?h=c(e,o):h=$.isURLSearchParams(e)?e.toString():new Og(e,o).toString(r),h){const p=s.indexOf("#");p!==-1&&(s=s.slice(0,p)),s+=(s.indexOf("?")===-1?"?":"&")+h}return s}class sx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Dg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},w3=typeof URLSearchParams<"u"?URLSearchParams:Og,S3=typeof FormData<"u"?FormData:null,A3=typeof Blob<"u"?Blob:null,N3={isBrowser:!0,classes:{URLSearchParams:w3,FormData:S3,Blob:A3},protocols:["http","https","file","blob","url","data"]},Mg=typeof window<"u"&&typeof document<"u",Ip=typeof navigator=="object"&&navigator||void 0,R3=Mg&&(!Ip||["ReactNative","NativeScript","NS"].indexOf(Ip.product)<0),C3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I3=Mg&&window.location.href||"http://localhost",k3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mg,hasStandardBrowserEnv:R3,hasStandardBrowserWebWorkerEnv:C3,navigator:Ip,origin:I3},Symbol.toStringTag,{value:"Module"})),bn={...k3,...N3};function j3(s,e){return kd(s,new bn.classes.URLSearchParams,{visitor:function(n,r,o,c){return bn.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function O3(s){return $.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D3(s){const e={},n=Object.keys(s);let r;const o=n.length;let c;for(r=0;r<o;r++)c=n[r],e[c]=s[c];return e}function AT(s){function e(n,r,o,c){let h=n[c++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),g=c>=n.length;return h=!h&&$.isArray(o)?o.length:h,g?($.hasOwnProp(o,h)?o[h]=[o[h],r]:o[h]=r,!p):((!o[h]||!$.isObject(o[h]))&&(o[h]=[]),e(n,r,o[h],c)&&$.isArray(o[h])&&(o[h]=D3(o[h])),!p)}if($.isFormData(s)&&$.isFunction(s.entries)){const n={};return $.forEachEntry(s,(r,o)=>{e(O3(r),o,n,0)}),n}return null}function M3(s,e,n){if($.isString(s))try{return(e||JSON.parse)(s),$.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(s)}const Dc={transitional:Dg,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,c=$.isObject(e);if(c&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o?JSON.stringify(AT(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j3(e,this.formSerializer).toString();if((p=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return kd(p?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||o?(n.setContentType("application/json",!1),M3(e)):e}],transformResponse:[function(e){const n=this.transitional||Dc.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?je.from(p,je.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],s=>{Dc.headers[s]={}});const V3=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L3=s=>{const e={};let n,r,o;return s&&s.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),r=h.substring(o+1).trim(),!(!n||e[n]&&V3[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ix=Symbol("internals");function $l(s){return s&&String(s).trim().toLowerCase()}function Ih(s){return s===!1||s==null?s:$.isArray(s)?s.map(Ih):String(s)}function U3(s){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(s);)e[r[1]]=r[2];return e}const P3=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Xm(s,e,n,r,o){if($.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function z3(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function B3(s,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+n,{value:function(o,c,h){return this[r].call(this,e,o,c,h)},configurable:!0})})}let Dn=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function c(p,g,y){const x=$l(g);if(!x)throw new Error("header name must be a non-empty string");const T=$.findKey(o,x);(!T||o[T]===void 0||y===!0||y===void 0&&o[T]!==!1)&&(o[T||g]=Ih(p))}const h=(p,g)=>$.forEach(p,(y,x)=>c(y,x,g));if($.isPlainObject(e)||e instanceof this.constructor)h(e,n);else if($.isString(e)&&(e=e.trim())&&!P3(e))h(L3(e),n);else if($.isObject(e)&&$.isIterable(e)){let p={},g,y;for(const x of e){if(!$.isArray(x))throw TypeError("Object iterator must return a key-value pair");p[y=x[0]]=(g=p[y])?$.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}h(p,n)}else e!=null&&c(n,e,r);return this}get(e,n){if(e=$l(e),e){const r=$.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return U3(o);if($.isFunction(n))return n.call(this,o,r);if($.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$l(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Xm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function c(h){if(h=$l(h),h){const p=$.findKey(r,h);p&&(!n||Xm(r,r[p],p,n))&&(delete r[p],o=!0)}}return $.isArray(e)?e.forEach(c):c(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const c=n[r];(!e||Xm(this,this[c],c,e,!0))&&(delete this[c],o=!0)}return o}normalize(e){const n=this,r={};return $.forEach(this,(o,c)=>{const h=$.findKey(r,c);if(h){n[h]=Ih(o),delete n[c];return}const p=e?z3(c):String(c).trim();p!==c&&delete n[c],n[p]=Ih(o),r[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[ix]=this[ix]={accessors:{}}).accessors,o=this.prototype;function c(h){const p=$l(h);r[p]||(B3(o,h),r[p]=!0)}return $.isArray(e)?e.forEach(c):c(e),this}};Dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Dn.prototype,({value:s},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(r){this[n]=r}}});$.freezeMethods(Dn);function Jm(s,e){const n=this||Dc,r=e||n,o=Dn.from(r.headers);let c=r.data;return $.forEach(s,function(p){c=p.call(n,c,o.normalize(),e?e.status:void 0)}),o.normalize(),c}function NT(s){return!!(s&&s.__CANCEL__)}let Mc=class extends je{constructor(e,n,r){super(e??"canceled",je.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function RT(s,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?s(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function H3(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function q3(s,e){s=s||10;const n=new Array(s),r=new Array(s);let o=0,c=0,h;return e=e!==void 0?e:1e3,function(g){const y=Date.now(),x=r[c];h||(h=y),n[o]=g,r[o]=y;let T=c,S=0;for(;T!==o;)S+=n[T++],T=T%s;if(o=(o+1)%s,o===c&&(c=(c+1)%s),y-h<e)return;const L=x&&y-x;return L?Math.round(S*1e3/L):void 0}}function F3(s,e){let n=0,r=1e3/e,o,c;const h=(y,x=Date.now())=>{n=x,o=null,c&&(clearTimeout(c),c=null),s(...y)};return[(...y)=>{const x=Date.now(),T=x-n;T>=r?h(y,x):(o=y,c||(c=setTimeout(()=>{c=null,h(o)},r-T)))},()=>o&&h(o)]}const ad=(s,e,n=3)=>{let r=0;const o=q3(50,250);return F3(c=>{const h=c.loaded,p=c.lengthComputable?c.total:void 0,g=h-r,y=o(g),x=h<=p;r=h;const T={loaded:h,total:p,progress:p?h/p:void 0,bytes:g,rate:y||void 0,estimated:y&&p&&x?(p-h)/y:void 0,event:c,lengthComputable:p!=null,[e?"download":"upload"]:!0};s(T)},n)},rx=(s,e)=>{const n=s!=null;return[r=>e[0]({lengthComputable:n,total:s,loaded:r}),e[1]]},ax=s=>(...e)=>$.asap(()=>s(...e)),G3=bn.hasStandardBrowserEnv?((s,e)=>n=>(n=new URL(n,bn.origin),s.protocol===n.protocol&&s.host===n.host&&(e||s.port===n.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,K3=bn.hasStandardBrowserEnv?{write(s,e,n,r,o,c,h){if(typeof document>"u")return;const p=[`${s}=${encodeURIComponent(e)}`];$.isNumber(n)&&p.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&p.push(`path=${r}`),$.isString(o)&&p.push(`domain=${o}`),c===!0&&p.push("secure"),$.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(s){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Y3(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function $3(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function CT(s,e,n){let r=!Y3(e);return s&&(r||n==!1)?$3(s,e):e}const ox=s=>s instanceof Dn?{...s}:s;function Ra(s,e){e=e||{};const n={};function r(y,x,T,S){return $.isPlainObject(y)&&$.isPlainObject(x)?$.merge.call({caseless:S},y,x):$.isPlainObject(x)?$.merge({},x):$.isArray(x)?x.slice():x}function o(y,x,T,S){if($.isUndefined(x)){if(!$.isUndefined(y))return r(void 0,y,T,S)}else return r(y,x,T,S)}function c(y,x){if(!$.isUndefined(x))return r(void 0,x)}function h(y,x){if($.isUndefined(x)){if(!$.isUndefined(y))return r(void 0,y)}else return r(void 0,x)}function p(y,x,T){if(T in e)return r(y,x);if(T in s)return r(void 0,y)}const g={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(y,x,T)=>o(ox(y),ox(x),T,!0)};return $.forEach(Object.keys({...s,...e}),function(x){if(x==="__proto__"||x==="constructor"||x==="prototype")return;const T=$.hasOwnProp(g,x)?g[x]:o,S=T(s[x],e[x],x);$.isUndefined(S)&&T!==p||(n[x]=S)}),n}const IT=s=>{const e=Ra({},s);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:c,headers:h,auth:p}=e;if(e.headers=h=Dn.from(h),e.url=ST(CT(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),$.isFormData(n)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if($.isFunction(n.getHeaders)){const g=n.getHeaders(),y=["content-type","content-length"];Object.entries(g).forEach(([x,T])=>{y.includes(x.toLowerCase())&&h.set(x,T)})}}if(bn.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&G3(e.url))){const g=o&&c&&K3.read(c);g&&h.set(o,g)}return e},Q3=typeof XMLHttpRequest<"u",X3=Q3&&function(s){return new Promise(function(n,r){const o=IT(s);let c=o.data;const h=Dn.from(o.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:y}=o,x,T,S,L,O;function q(){L&&L(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let U=new XMLHttpRequest;U.open(o.method.toUpperCase(),o.url,!0),U.timeout=o.timeout;function ne(){if(!U)return;const K=Dn.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),me={data:!p||p==="text"||p==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:K,config:s,request:U};RT(function(R){n(R),q()},function(R){r(R),q()},me),U=null}"onloadend"in U?U.onloadend=ne:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(ne)},U.onabort=function(){U&&(r(new je("Request aborted",je.ECONNABORTED,s,U)),U=null)},U.onerror=function(ae){const me=ae&&ae.message?ae.message:"Network Error",pe=new je(me,je.ERR_NETWORK,s,U);pe.event=ae||null,r(pe),U=null},U.ontimeout=function(){let ae=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const me=o.transitional||Dg;o.timeoutErrorMessage&&(ae=o.timeoutErrorMessage),r(new je(ae,me.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,s,U)),U=null},c===void 0&&h.setContentType(null),"setRequestHeader"in U&&$.forEach(h.toJSON(),function(ae,me){U.setRequestHeader(me,ae)}),$.isUndefined(o.withCredentials)||(U.withCredentials=!!o.withCredentials),p&&p!=="json"&&(U.responseType=o.responseType),y&&([S,O]=ad(y,!0),U.addEventListener("progress",S)),g&&U.upload&&([T,L]=ad(g),U.upload.addEventListener("progress",T),U.upload.addEventListener("loadend",L)),(o.cancelToken||o.signal)&&(x=K=>{U&&(r(!K||K.type?new Mc(null,s,U):K),U.abort(),U=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const le=H3(o.url);if(le&&bn.protocols.indexOf(le)===-1){r(new je("Unsupported protocol "+le+":",je.ERR_BAD_REQUEST,s));return}U.send(c||null)})},J3=(s,e)=>{const{length:n}=s=s?s.filter(Boolean):[];if(e||n){let r=new AbortController,o;const c=function(y){if(!o){o=!0,p();const x=y instanceof Error?y:this.reason;r.abort(x instanceof je?x:new Mc(x instanceof Error?x.message:x))}};let h=e&&setTimeout(()=>{h=null,c(new je(`timeout of ${e}ms exceeded`,je.ETIMEDOUT))},e);const p=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(y=>{y.unsubscribe?y.unsubscribe(c):y.removeEventListener("abort",c)}),s=null)};s.forEach(y=>y.addEventListener("abort",c));const{signal:g}=r;return g.unsubscribe=()=>$.asap(p),g}},W3=function*(s,e){let n=s.byteLength;if(n<e){yield s;return}let r=0,o;for(;r<n;)o=r+e,yield s.slice(r,o),r=o},Z3=async function*(s,e){for await(const n of eD(s))yield*W3(n,e)},eD=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},lx=(s,e,n,r)=>{const o=Z3(s,e);let c=0,h,p=g=>{h||(h=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:y,value:x}=await o.next();if(y){p(),g.close();return}let T=x.byteLength;if(n){let S=c+=T;n(S)}g.enqueue(new Uint8Array(x))}catch(y){throw p(y),y}},cancel(g){return p(g),o.return()}},{highWaterMark:2})},cx=64*1024,{isFunction:bh}=$,tD=(({Request:s,Response:e})=>({Request:s,Response:e}))($.global),{ReadableStream:ux,TextEncoder:hx}=$.global,dx=(s,...e)=>{try{return!!s(...e)}catch{return!1}},nD=s=>{s=$.merge.call({skipUndefined:!0},tD,s);const{fetch:e,Request:n,Response:r}=s,o=e?bh(e):typeof fetch=="function",c=bh(n),h=bh(r);if(!o)return!1;const p=o&&bh(ux),g=o&&(typeof hx=="function"?(O=>q=>O.encode(q))(new hx):async O=>new Uint8Array(await new n(O).arrayBuffer())),y=c&&p&&dx(()=>{let O=!1;const q=new n(bn.origin,{body:new ux,method:"POST",get duplex(){return O=!0,"half"}}).headers.has("Content-Type");return O&&!q}),x=h&&p&&dx(()=>$.isReadableStream(new r("").body)),T={stream:x&&(O=>O.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!T[O]&&(T[O]=(q,U)=>{let ne=q&&q[O];if(ne)return ne.call(q);throw new je(`Response type '${O}' is not supported`,je.ERR_NOT_SUPPORT,U)})});const S=async O=>{if(O==null)return 0;if($.isBlob(O))return O.size;if($.isSpecCompliantForm(O))return(await new n(bn.origin,{method:"POST",body:O}).arrayBuffer()).byteLength;if($.isArrayBufferView(O)||$.isArrayBuffer(O))return O.byteLength;if($.isURLSearchParams(O)&&(O=O+""),$.isString(O))return(await g(O)).byteLength},L=async(O,q)=>{const U=$.toFiniteNumber(O.getContentLength());return U??S(q)};return async O=>{let{url:q,method:U,data:ne,signal:le,cancelToken:K,timeout:ae,onDownloadProgress:me,onUploadProgress:pe,responseType:R,headers:N,withCredentials:C="same-origin",fetchOptions:M}=IT(O),j=e||fetch;R=R?(R+"").toLowerCase():"text";let V=J3([le,K&&K.toAbortSignal()],ae),A=null;const ve=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let Le;try{if(pe&&y&&U!=="get"&&U!=="head"&&(Le=await L(N,ne))!==0){let k=new n(q,{method:"POST",body:ne,duplex:"half"}),X;if($.isFormData(ne)&&(X=k.headers.get("content-type"))&&N.setContentType(X),k.body){const[oe,ce]=rx(Le,ad(ax(pe)));ne=lx(k.body,cx,oe,ce)}}$.isString(C)||(C=C?"include":"omit");const F=c&&"credentials"in n.prototype,se={...M,signal:V,method:U.toUpperCase(),headers:N.normalize().toJSON(),body:ne,duplex:"half",credentials:F?C:void 0};A=c&&new n(q,se);let de=await(c?j(A,M):j(q,se));const Oe=x&&(R==="stream"||R==="response");if(x&&(me||Oe&&ve)){const k={};["status","statusText","headers"].forEach(ye=>{k[ye]=de[ye]});const X=$.toFiniteNumber(de.headers.get("content-length")),[oe,ce]=me&&rx(X,ad(ax(me),!0))||[];de=new r(lx(de.body,cx,oe,()=>{ce&&ce(),ve&&ve()}),k)}R=R||"text";let Be=await T[$.findKey(T,R)||"text"](de,O);return!Oe&&ve&&ve(),await new Promise((k,X)=>{RT(k,X,{data:Be,headers:Dn.from(de.headers),status:de.status,statusText:de.statusText,config:O,request:A})})}catch(F){throw ve&&ve(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,O,A,F&&F.response),{cause:F.cause||F}):je.from(F,F&&F.code,O,A,F&&F.response)}}},sD=new Map,kT=s=>{let e=s&&s.env||{};const{fetch:n,Request:r,Response:o}=e,c=[r,o,n];let h=c.length,p=h,g,y,x=sD;for(;p--;)g=c[p],y=x.get(g),y===void 0&&x.set(g,y=p?new Map:nD(e)),x=y;return y};kT();const Vg={http:v3,xhr:X3,fetch:{get:kT}};$.forEach(Vg,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const fx=s=>`- ${s}`,iD=s=>$.isFunction(s)||s===null||s===!1;function rD(s,e){s=$.isArray(s)?s:[s];const{length:n}=s;let r,o;const c={};for(let h=0;h<n;h++){r=s[h];let p;if(o=r,!iD(r)&&(o=Vg[(p=String(r)).toLowerCase()],o===void 0))throw new je(`Unknown adapter '${p}'`);if(o&&($.isFunction(o)||(o=o.get(e))))break;c[p||"#"+h]=o}if(!o){const h=Object.entries(c).map(([g,y])=>`adapter ${g} `+(y===!1?"is not supported by the environment":"is not available in the build"));let p=n?h.length>1?`since :
`+h.map(fx).join(`
`):" "+fx(h[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o}const jT={getAdapter:rD,adapters:Vg};function Wm(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Mc(null,s)}function mx(s){return Wm(s),s.headers=Dn.from(s.headers),s.data=Jm.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),jT.getAdapter(s.adapter||Dc.adapter,s)(s).then(function(r){return Wm(s),r.data=Jm.call(s,s.transformResponse,r),r.headers=Dn.from(r.headers),r},function(r){return NT(r)||(Wm(s),r&&r.response&&(r.response.data=Jm.call(s,s.transformResponse,r.response),r.response.headers=Dn.from(r.response.headers))),Promise.reject(r)})}const OT="1.13.5",jd={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{jd[s]=function(r){return typeof r===s||"a"+(e<1?"n ":" ")+s}});const px={};jd.transitional=function(e,n,r){function o(c,h){return"[Axios v"+OT+"] Transitional option '"+c+"'"+h+(r?". "+r:"")}return(c,h,p)=>{if(e===!1)throw new je(o(h," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!px[h]&&(px[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,h,p):!0}};jd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function aD(s,e,n){if(typeof s!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let o=r.length;for(;o-- >0;){const c=r[o],h=e[c];if(h){const p=s[c],g=p===void 0||h(p,c,s);if(g!==!0)throw new je("option "+c+" must be "+g,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+c,je.ERR_BAD_OPTION)}}const kh={assertOptions:aD,validators:jd},os=kh.validators;let _a=class{constructor(e){this.defaults=e||{},this.interceptors={request:new sx,response:new sx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ra(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:c}=n;r!==void 0&&kh.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean),legacyInterceptorReqResOrdering:os.transitional(os.boolean)},!1),o!=null&&($.isFunction(o)?n.paramsSerializer={serialize:o}:kh.assertOptions(o,{encode:os.function,serialize:os.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),kh.assertOptions(n,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=c&&$.merge(c.common,c[n.method]);c&&$.forEach(["delete","get","head","post","put","patch","common"],O=>{delete c[O]}),n.headers=Dn.concat(h,c);const p=[];let g=!0;this.interceptors.request.forEach(function(q){if(typeof q.runWhen=="function"&&q.runWhen(n)===!1)return;g=g&&q.synchronous;const U=n.transitional||Dg;U&&U.legacyInterceptorReqResOrdering?p.unshift(q.fulfilled,q.rejected):p.push(q.fulfilled,q.rejected)});const y=[];this.interceptors.response.forEach(function(q){y.push(q.fulfilled,q.rejected)});let x,T=0,S;if(!g){const O=[mx.bind(this),void 0];for(O.unshift(...p),O.push(...y),S=O.length,x=Promise.resolve(n);T<S;)x=x.then(O[T++],O[T++]);return x}S=p.length;let L=n;for(;T<S;){const O=p[T++],q=p[T++];try{L=O(L)}catch(U){q.call(this,U);break}}try{x=mx.call(this,L)}catch(O){return Promise.reject(O)}for(T=0,S=y.length;T<S;)x=x.then(y[T++],y[T++]);return x}getUri(e){e=Ra(this.defaults,e);const n=CT(e.baseURL,e.url,e.allowAbsoluteUrls);return ST(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){_a.prototype[e]=function(n,r){return this.request(Ra(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(c,h,p){return this.request(Ra(p||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}_a.prototype[e]=n(),_a.prototype[e+"Form"]=n(!0)});let oD=class DT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(o=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](o);r._listeners=null}),this.promise.then=o=>{let c;const h=new Promise(p=>{r.subscribe(p),c=p}).then(o);return h.cancel=function(){r.unsubscribe(c)},h},e(function(c,h,p){r.reason||(r.reason=new Mc(c,h,p),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new DT(function(o){e=o}),cancel:e}}};function lD(s){return function(n){return s.apply(null,n)}}function cD(s){return $.isObject(s)&&s.isAxiosError===!0}const kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kp).forEach(([s,e])=>{kp[e]=s});function MT(s){const e=new _a(s),n=mT(_a.prototype.request,e);return $.extend(n,_a.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return MT(Ra(s,o))},n}const At=MT(Dc);At.Axios=_a;At.CanceledError=Mc;At.CancelToken=oD;At.isCancel=NT;At.VERSION=OT;At.toFormData=kd;At.AxiosError=je;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=lD;At.isAxiosError=cD;At.mergeConfig=Ra;At.AxiosHeaders=Dn;At.formToJSON=s=>AT($.isHTMLForm(s)?new FormData(s):s);At.getAdapter=jT.getAdapter;At.HttpStatusCode=kp;At.default=At;const{Axios:CD,AxiosError:ID,CanceledError:kD,isCancel:jD,CancelToken:OD,VERSION:DD,all:MD,Cancel:VD,isAxiosError:LD,spread:UD,toFormData:PD,AxiosHeaders:zD,HttpStatusCode:BD,formToJSON:HD,getAdapter:qD,mergeConfig:FD}=At,Qs="http://localhost:3001";fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"api.ts:3",message:"API_URL configured",data:{apiUrl:Qs,envVar:void 0},timestamp:Date.now(),runId:"run1",hypothesisId:"C"})}).catch(()=>{});const tc={async simulateScenario(s,e){const n=await fetch(`${Qs}/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base:s,changes:e})});if(!n.ok)throw new Error("Failed to simulate scenario");return n.json()},async getExplanation(s,e){const n=await fetch(`${Qs}/explain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,facts:e})});if(!n.ok)throw new Error("Failed to get explanation");return n.json()},optimizeProfile:async s=>(await At.post(`${Qs}/optimize`,s)).data,matchSubsidies:async s=>(await At.post(`${Qs}/subsidies/match`,s)).data,getAnalysis:async s=>{var e,n,r,o;console.log("[DEBUG] getAnalysis called",{apiUrl:`${Qs}/analysis`,hasInputs:!!s}),fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"api.ts:138",message:"getAnalysis called",data:{apiUrl:`${Qs}/analysis`,hasInputs:!!s},timestamp:Date.now(),runId:"run1",hypothesisId:"A,B,C"})}).catch(()=>{});try{const c=await At.post(`${Qs}/analysis`,s);return console.log("[DEBUG] getAnalysis success",{status:c.status,hasData:!!c.data}),fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"api.ts:141",message:"getAnalysis success",data:{status:c.status,hasData:!!c.data},timestamp:Date.now(),runId:"run1",hypothesisId:"A,B,C,D"})}).catch(()=>{}),c.data}catch(c){throw console.error("[DEBUG] getAnalysis error",{errorCode:c.code,errorMessage:c.message,hasResponse:!!c.response,responseStatus:(e=c.response)==null?void 0:e.status,hasRequest:!!c.request,errorType:c.constructor.name}),fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"api.ts:144",message:"getAnalysis error caught",data:{errorCode:c.code,errorMessage:c.message,hasResponse:!!c.response,responseStatus:(n=c.response)==null?void 0:n.status,hasRequest:!!c.request,errorType:c.constructor.name},timestamp:Date.now(),runId:"run1",hypothesisId:"A,B,C,D,E"})}).catch(()=>{}),c.code==="ECONNREFUSED"||(r=c.message)!=null&&r.includes("Network Error")?new Error(`Cannot connect to backend server at ${Qs}. Make sure the backend is running with 'npm run dev:backend' or 'npm run dev'.`):c.response?new Error(((o=c.response.data)==null?void 0:o.error)||`Server error: ${c.response.status}`):c.request?new Error(`No response from server at ${Qs}. Check if the backend is running.`):c}}},uD=({type:s})=>{let e="bg-slate-200 text-slate-600",n="OPT";switch(s){case"housing":e="bg-blue-100 text-blue-600",n="";break;case"transport":e="bg-indigo-100 text-indigo-600",n="";break;case"debt":e="bg-red-100 text-red-600",n="";break;case"lifestyle":e="bg-pink-100 text-pink-600",n="";break;default:e="bg-emerald-100 text-emerald-600",n=""}return f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-lg ${e}`,children:n})},hD=({rec:s,index:e,onSimulate:n,onInsight:r,onAccept:o,simulating:c,simulationResult:h,insightLoading:p,insights:g,accepting:y})=>{var x,T,S,L,O;try{if(!s||!s.simulationResult)return null;const q=y==null?void 0:y[e];return f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden mb-4 hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsx(uD,{type:s.type}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:s.title}),f.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider mt-1",children:[s.type," OPTIMIZATION"]})]})]}),f.jsx("div",{className:"flex flex-col items-end gap-2",children:f.jsxs("span",{className:"bg-emerald-100 text-emerald-800 text-sm font-bold px-3 py-1 rounded-full",children:["Save RM",s.potentialSavings.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2}),"/mo"]})})]}),f.jsxs("div",{className:"p-5",children:[f.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-100 dark:border-slate-800",children:s.reason}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl",children:[f.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:"Current Stress"}),f.jsx("div",{className:"text-2xl font-black text-slate-700 dark:text-slate-200",children:((x=s.simulationResult.base)==null?void 0:x.stressScore)??"-"})]}),f.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-xl",children:[f.jsx("span",{className:"text-xs text-emerald-600 uppercase font-bold",children:"Projected Stress"}),f.jsxs("div",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:[((T=s.simulationResult.after)==null?void 0:T.stressScore)??"-",((S=s.simulationResult.delta)==null?void 0:S.stressScore)!==0&&f.jsxs("span",{className:"text-sm font-normal ml-2 text-emerald-500",children:["(",s.simulationResult.delta.stressScore.toFixed(2),")"]})]})]})]}),h&&h.delta.monthlyBalance===s.potentialSavings&&f.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-800 text-sm font-medium flex items-center gap-2",children:f.jsxs("span",{children:[" Impact Verified: +RM",h.delta.monthlyBalance.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})," balance"]})}),f.jsxs("div",{className:"flex gap-3 justify-end items-center",children:[f.jsx("button",{onClick:()=>o(e,s),disabled:q,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold text-sm shadow-sm transition-colors flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",title:"Apply this recommendation to your profile",children:q?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}),"Accepting..."]}):f.jsx(f.Fragment,{children:"Accept"})}),!g[e]&&f.jsx("button",{onClick:U=>r(e,s,U),disabled:p[e],className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg font-bold text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800",children:p[e]?"...":"AI Insight"})]}),g[e]&&f.jsxs("div",{className:"mt-6 bg-white dark:bg-slate-800 rounded-2xl border border-blue-100 dark:border-blue-900 p-6 relative shadow-sm animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{className:"border-l-4 border-blue-600 pl-3",children:[f.jsx("h4",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 uppercase tracking-widest",children:"Impact Analysis"}),f.jsxs("div",{className:"flex gap-1 mt-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200 dark:bg-slate-700"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200 dark:bg-slate-700"})]})]}),f.jsx("div",{className:"text-4xl opacity-20 hover:opacity-100 transition-opacity cursor-help",title:"AI Generated",children:""})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h5",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider mb-3",children:"Context"}),f.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed space-y-2",children:(L=g[e].context)==null?void 0:L.split("*").map((U,ne)=>ne%2===1?f.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:U},ne):U)}),g[e].highlight_box&&f.jsxs("div",{className:"mt-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-800/50",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:"text-indigo-600 text-lg",children:""}),f.jsx("span",{className:"text-xs font-bold text-indigo-900 dark:text-indigo-100 uppercase tracking-wide",children:g[e].highlight_box.title})]}),g[e].highlight_box.tags&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g[e].highlight_box.tags.map((U,ne)=>f.jsx("span",{className:"px-2.5 py-1 bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 text-xs font-bold rounded-md",children:U},ne))}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:g[e].highlight_box.description})]})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider mb-3",children:"Outcome"}),g[e].outcome_headline&&f.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-4 text-base",children:g[e].outcome_headline}),f.jsx("ul",{className:"space-y-3",children:(O=g[e].outcome_bullets)==null?void 0:O.map((U,ne)=>f.jsxs("li",{className:"flex gap-3 items-start",children:[f.jsx("div",{className:"mt-0.5 min-w-[16px] text-emerald-500",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M20 6L9 17l-5-5",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:U})]},ne))})]})]}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700/50",children:[f.jsx("span",{className:"inline-block px-2.5 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-bold rounded-md mb-2",children:"Trade-off"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:g[e].tradeoff})]})]})]})]})}catch{return f.jsx("div",{className:"p-4 bg-red-50 text-red-700 border border-red-200 rounded",children:"Error rendering recommendation"})}},dD=({signals:s,baseStress:e})=>{var n;try{const r=((n=s==null?void 0:s.numbers)==null?void 0:n.monthlyBalance)??0,o=(s==null?void 0:s.overspending)||{},c=(s==null?void 0:s.riskFlags)||{},h=(e==null?void 0:e.pressureSources)||[],p={lowBuffer:"Low Savings Buffer",highDebt:"High Debt Ratio",expensesOverIncome:"Living Beyond Means"},g=Array.isArray(c)?c:Object.keys(c).filter(y=>c[y]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 rounded-2xl p-6 text-white shadow-xl",children:[f.jsx("h3",{className:"text-slate-400 text-sm font-bold uppercase tracking-wider mb-1",children:"Financial Health"}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-3xl font-bold",children:["RM",r.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})]}),f.jsx("div",{className:"text-sm text-slate-400",children:"Est. Monthly Balance"})]}),f.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${r>=0?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:r>=0?"SURPLUS":"DEFICIT"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm p-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:" Risk Factors"}),f.jsxs("div",{className:"mb-4 pb-3 border-b border-slate-100 dark:border-slate-700 flex flex-wrap gap-3 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300 dark:bg-slate-600"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Low"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Medium"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"High"})]})]}),f.jsxs("ul",{className:"space-y-2",children:[g.map((y,x)=>f.jsxs("li",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium flex gap-2 items-center",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"}),f.jsx("span",{children:p[y]||y})]},x)),(e==null?void 0:e.stressScore)>=33&&h.map((y,x)=>f.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex gap-2 items-center",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 flex-shrink-0"}),f.jsxs("span",{children:["Pressure from ",y]})]},`p-${x}`)),g.length===0&&((e==null?void 0:e.stressScore)<33||h.length===0)&&f.jsxs("li",{className:"text-sm text-slate-400 italic flex gap-2 items-center",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300 dark:bg-slate-600 flex-shrink-0"}),f.jsx("span",{children:"No major risks detected."})]})]})]})]})}catch{return f.jsx("div",{className:"p-4 bg-red-50 text-red-700 rounded",children:"Error loading stats"})}},fD=({userProfile:s,updateProfile:e,setView:n})=>{var _e,De;const[r,o]=te.useState(!0),[c,h]=te.useState(null),[p,g]=te.useState([]),[y,x]=te.useState([]),[T,S]=te.useState([]),[L,O]=te.useState(0),[q,U]=te.useState(null),[ne,le]=te.useState(!1),[K,ae]=te.useState(null),[me,pe]=te.useState(null),[R,N]=te.useState(null),[C,M]=te.useState({}),[j,V]=te.useState({}),[A,ve]=te.useState(null),[Le,F]=te.useState(!1),se=async()=>{F(!0);try{const he={income:s.income,householdSize:s.householdSize,subsidies:y,notEligible:T},Ee=await tc.getExplanation("subsidy",he);ve(Ee)}catch(he){console.error(he)}finally{F(!1)}},de=te.useCallback(async()=>{var he,Ee,Ue,be,pt,bt,ut;o(!0),h(null),U(null),ve(null);try{const Et={...{incomeMonthly:s.income||0,rentMonthly:s.rent||0,utilitiesMonthly:s.utilities||0,transportMonthly:s.transportCost||0,foodMonthly:s.food||0,debtMonthly:s.debt||0,subscriptionsMonthly:s.subscriptions||0,savingsBalance:s.savings||0},...s},rt=await tc.getAnalysis(Et);if(!rt)throw new Error("No data returned");g(((he=rt.optimization)==null?void 0:he.recommendations)||[]),O(((Ee=rt.optimization)==null?void 0:Ee.totalSavings)||0),pe(((be=(Ue=rt.optimization)==null?void 0:Ue.base)==null?void 0:be.stress)||null),x(((pt=rt.subsidies)==null?void 0:pt.matches)||[]),S(((bt=rt.subsidies)==null?void 0:bt.notEligible)||[]),ae(((ut=rt.financials)==null?void 0:ut.signals)||null),N(rt.locationContext||null)}catch($t){console.error("View Error",$t),h($t.message||"Failed to load analysis.")}finally{o(!1)}},[s]);te.useEffect(()=>{de()},[de]);const Oe=async he=>{le(!0),U(null);try{const Ee={incomeMonthly:s.income||0,rentMonthly:s.rent||0,utilitiesMonthly:s.utilities||0,transportMonthly:s.transportCost||0,foodMonthly:s.food||0,debtMonthly:s.debt||0,subscriptionsMonthly:s.subscriptions||0,savingsBalance:s.savings||0},Ue=await tc.simulateScenario(Ee,he.changes);U(Ue)}catch(Ee){console.error("Simulation failed",Ee)}finally{le(!1)}},Be=async()=>{if(p.length===0)return;const he=p.reduce((be,pt)=>({...be,...pt.changes}),{}),Ee={};he.rentMonthly!==void 0&&(Ee.rent=he.rentMonthly),he.utilitiesMonthly!==void 0&&(Ee.utilities=he.utilitiesMonthly),he.transportMonthly!==void 0&&(Ee.transportCost=he.transportMonthly),he.foodMonthly!==void 0&&(Ee.food=he.foodMonthly),he.debtMonthly!==void 0&&(Ee.debt=he.debtMonthly),he.subscriptionsMonthly!==void 0&&(Ee.subscriptions=he.subscriptionsMonthly),he.savingsBalance!==void 0&&(Ee.savings=he.savingsBalance);const Ue=new Set([...X,...p.map(be=>be.type)]);Ee.optimizedCategories=Array.from(Ue);try{await e(Ee),n(gn.DASHBOARD)}catch(be){console.error("Failed to apply changes",be)}},k=async(he,Ee,Ue)=>{Ue.stopPropagation(),V(be=>({...be,[he]:!0}));try{if(!Ee.simulationResult)return;const be={base:Ee.simulationResult.base,after:Ee.simulationResult.after,delta:Ee.simulationResult.delta,changes:Ee.changes,title:Ee.title,reason:Ee.reason,profile:{income:s.income},location:R},pt=await tc.getExplanation("optimize",be);M(bt=>({...bt,[he]:pt}))}catch(be){console.error("Failed to get insight",be)}finally{V(be=>({...be,[he]:!1}))}},[X,oe]=te.useState(()=>new Set(s.optimizedCategories||[])),[ce,ye]=te.useState({});te.useEffect(()=>{oe(new Set(s.optimizedCategories||[]))},[s.optimizedCategories]);const Ne=async(he,Ee)=>{ye(Ue=>({...Ue,[he]:!0}));try{const Ue={},be=Ee.changes;be.rentMonthly!==void 0&&(Ue.rent=be.rentMonthly),be.utilitiesMonthly!==void 0&&(Ue.utilities=be.utilitiesMonthly),be.transportMonthly!==void 0&&(Ue.transportCost=be.transportMonthly),be.foodMonthly!==void 0&&(Ue.food=be.foodMonthly),be.debtMonthly!==void 0&&(Ue.debt=be.debtMonthly),be.subscriptionsMonthly!==void 0&&(Ue.subscriptions=be.subscriptionsMonthly),be.savingsBalance!==void 0&&(Ue.savings=be.savingsBalance);const pt=new Set(X);pt.add(Ee.type),Ue.optimizedCategories=Array.from(pt),await e(Ue),oe(pt)}catch(Ue){console.error("Failed to accept recommendation",Ue),h("Failed to apply changes. Please try again.")}finally{setTimeout(()=>{ye(Ue=>({...Ue,[he]:!1}))},500)}},Ce=p.filter(he=>!X.has(he.type)),re=Ce.reduce((he,Ee)=>he+Ee.potentialSavings,0);return r?f.jsx("div",{className:"p-10 text-center animate-pulse",children:"Loading Analysis..."}):c?f.jsxs("div",{className:"p-10 text-red-500 font-bold text-center",children:["Connection Error: ",c," ",f.jsx("button",{onClick:de,className:"ml-4 underline",children:"Retry"})]}):f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-200 dark:border-slate-700 pb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Optimization Plan"}),f.jsx("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-100 text-emerald-800 text-sm font-bold",children:f.jsxs("span",{children:["Found RM",re.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2}),"/mo in potential savings"]})})]}),f.jsx("button",{className:"bg-white hover:bg-slate-50 text-slate-700 border border-slate-300 px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors",onClick:de,children:"Refresh Data"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2 space-y-6",children:Ce.length>0?Ce.map((he,Ee)=>f.jsx(hD,{rec:he,index:Ee,onSimulate:Oe,onInsight:k,onAccept:Ne,accepting:ce,simulating:ne,simulationResult:q,insightLoading:j,insights:C},Ee)):f.jsxs("div",{className:"p-12 text-center bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No optimization opportunities found right now."}),f.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Check back as your income or expenses change."})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(dD,{signals:K,baseStress:me}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm p-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Available Subsidies"}),f.jsxs("div",{className:"space-y-4",children:[y.map((he,Ee)=>f.jsxs("div",{className:"p-3 border border-emerald-100 dark:border-emerald-800/30 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-lg",children:[f.jsx("h4",{className:"text-sm font-bold text-emerald-800 dark:text-emerald-300",children:he.name}),f.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:he.benefitText}),he.link&&f.jsx("a",{href:he.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-[10px] font-bold text-blue-600 dark:text-blue-400 hover:underline uppercase tracking-wide",children:"Apply Now"})]},Ee)),y.length===0&&f.jsx("p",{className:"text-sm text-slate-500 italic",children:"No eligible subsidies found."}),f.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700",children:[!A&&!Le&&f.jsxs("button",{onClick:se,className:"w-full py-2 text-xs font-bold text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors flex items-center justify-center gap-2",children:[f.jsx("span",{children:""})," Why do I qualify?"]}),Le&&f.jsx("div",{className:"text-center text-xs text-slate-400 animate-pulse",children:"Analyzing eligibility rules..."}),A&&f.jsxs("div",{className:"mt-3 text-xs bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg animate-fade-in text-indigo-800 dark:text-indigo-300",children:[f.jsx("div",{className:"font-bold mb-1",children:"Eligibility Analysis:"}),f.jsx("ul",{className:"list-disc pl-4 space-y-1 mb-2",children:(_e=A.eligible)==null?void 0:_e.map((he,Ee)=>f.jsxs("li",{children:[f.jsx("b",{children:he.name}),": ",he.why_eligible]},Ee))}),((De=A.not_eligible)==null?void 0:De.length)>0&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-bold mt-2 mb-1 text-slate-600 dark:text-slate-400",children:"Missed Opportunities:"}),f.jsx("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 dark:text-slate-400",children:A.not_eligible.map((he,Ee)=>f.jsxs("li",{children:[he.name,": ",he.reason]},Ee))})]})]})]})]})]}),f.jsxs("div",{className:"bg-teal-700 dark:bg-teal-800 rounded-2xl p-6 text-white shadow-lg",children:[f.jsx("h3",{className:"text-teal-100 text-sm font-bold uppercase tracking-wide mb-2",children:"Ready to optimize?"}),f.jsx("p",{className:"text-teal-50 text-sm mb-6",children:"Apply all recommended changes to your profile budget."}),f.jsx("button",{onClick:Be,disabled:Ce.length===0,className:"w-full bg-white text-teal-800 font-black py-4 rounded-xl hover:bg-teal-50 transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:"Apply All Changes"})]})]})]})]})},mD=({userProfile:s})=>{const[e,n]=te.useState("transport"),r=[{id:"transport",label:"TRANSPORTATION",status:"ACTIVE",glow:!0},{id:"accommodation",label:"ACCOMMODATION",status:"TUNED",glow:!0},{id:"subsidies",label:"SUBSIDIES",status:"MANUAL",glow:!1},{id:"lifestyle",label:"LIFESTYLE",status:"OPTIMAL",glow:!0}],o=[{id:"transport",label:"Transport",icon:Oh},{id:"accommodation",label:"Accommodation",icon:Mh},{id:"subsidies",label:"Subsidies",icon:Uh},{id:"lifestyle",label:"Lifestyle",icon:Q2}];return f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-10 animate-fade-in font-sans text-white",children:[f.jsxs("div",{className:"mb-10",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white mb-2 tracking-tight",children:"Optimization Engine"}),f.jsx("p",{className:"text-blue-400 font-medium tracking-wide",children:"Real-time financial performance tuning via AI protocols"})]}),f.jsxs("div",{className:"mb-10",children:[f.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[f.jsx(bS,{size:24})," Engine Control Panel"]}),f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:r.map(c=>f.jsxs("div",{className:"bg-[#111827] border border-slate-800 rounded-3xl p-6 flex flex-col items-center justify-center relative overflow-hidden group shadow-lg",children:[f.jsx("span",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase mb-6 z-10",children:c.label}),f.jsxs("div",{className:`w-14 h-24 rounded-full border-2 p-1.5 flex flex-col relative z-10 transition-colors duration-500 ${c.glow?"border-blue-500/50 bg-[#131b2f]":"border-slate-800 bg-slate-900"}`,children:[f.jsxs("div",{className:`w-full h-10 rounded-full flex items-center justify-center transition-all duration-500 ${c.glow?"bg-blue-500 translate-y-0 shadow-[0_0_20px_rgba(59,130,246,0.6)]":"bg-slate-700 translate-y-10"}`,children:[c.glow&&f.jsx("div",{className:"w-2 h-2 rounded-full bg-white shadow-[0_0_10px_white]"}),!c.glow&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"})]}),f.jsx("span",{className:`absolute bottom-3 left-0 right-0 text-center text-[8px] font-black tracking-widest uppercase ${c.glow?"text-blue-300":"text-slate-500"}`,children:c.status})]}),c.glow&&f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-blue-600/20 blur-[40px] rounded-full pointer-events-none transition-opacity group-hover:bg-blue-600/30"})]},c.id))})]}),f.jsx("div",{className:"flex overflow-x-auto border-b border-slate-800 mb-8 scrollbar-hide",children:o.map(c=>{const h=c.icon,p=e===c.id;return f.jsxs("button",{onClick:()=>n(c.id),className:`flex items-center gap-2 px-6 py-4 font-bold transition-colors whitespace-nowrap ${p?"text-blue-400 border-b-2 border-blue-500":"text-slate-500 hover:text-slate-300"}`,children:[f.jsx(h,{size:18})," ",c.label]},c.id)})}),e==="transport"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-slide-up",children:[f.jsxs("div",{className:"bg-[#111827] border border-slate-800 rounded-3xl p-7 flex flex-col relative overflow-hidden group hover:shadow-[0_0_30px_rgba(59,130,246,0.1)] transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-300 group-hover:text-blue-400 transition-colors",children:f.jsx(Oh,{size:20})}),f.jsx("span",{className:"text-[9px] font-black tracking-widest uppercase px-3 py-1 rounded bg-slate-800 text-slate-300",children:"High Impact"})]}),f.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Switch to EV Membership"}),f.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-8 flex-1",children:"Replace current gas-based commuting with a premium EV subscription service. AI predicts significant savings based on your route variables."}),f.jsxs("div",{className:"flex justify-between items-end mb-6",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold text-slate-500",children:"Monthly Savings"}),f.jsx("span",{className:"text-2xl font-black text-white px-2 py-1 bg-slate-800/50 rounded-lg shadow-inner",children:"+RM340"})]}),f.jsx("button",{className:"w-full py-3.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-black tracking-wider uppercase rounded-xl transition-colors shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:shadow-[0_0_25px_rgba(59,130,246,0.5)]",children:"Enable Optimization"})]}),f.jsxs("div",{className:"bg-[#111827] border border-slate-800 rounded-3xl p-7 flex flex-col relative overflow-hidden group hover:shadow-[0_0_30px_rgba(59,130,246,0.1)] transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-300 group-hover:text-amber-400 transition-colors",children:f.jsx(IS,{size:20})}),f.jsx("span",{className:"text-[9px] font-black tracking-widest uppercase px-3 py-1 rounded bg-slate-800 text-slate-300",children:"Refinance"})]}),f.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Refine Auto Loan"}),f.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-6 flex-1",children:"Market rates have dipped. Your current 5.4% APR can be optimized to a custom 3.8% through our trusted partner network."}),f.jsxs("div",{className:"mb-6 space-y-2",children:[f.jsxs("div",{className:"w-full h-2 rounded-full bg-slate-800 flex overflow-hidden",children:[f.jsx("div",{className:"h-full bg-blue-500 w-[60%]"}),f.jsx("div",{className:"h-full bg-slate-700 w-[40%]"})]}),f.jsxs("div",{className:"flex justify-between text-[10px] font-bold tracking-widest uppercase flex-1",children:[f.jsx("span",{className:"text-slate-500",children:"Current: 5.4%"}),f.jsx("span",{className:"text-blue-400 text-right",children:"Target: 3.8%"})]})]}),f.jsx("button",{className:"w-full py-3.5 bg-transparent border-2 border-slate-700 hover:border-blue-500 text-white hover:text-blue-400 text-xs font-black tracking-wider uppercase rounded-xl transition-colors",children:"Start Application"})]}),f.jsxs("div",{className:"bg-[#111827] border border-slate-800 rounded-3xl p-7 flex flex-col relative overflow-hidden group hover:shadow-[0_0_30px_rgba(59,130,246,0.1)] transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-300 group-hover:text-emerald-400 transition-colors",children:f.jsx(Z2,{size:20})}),f.jsx("span",{className:"text-[9px] font-black tracking-widest uppercase px-3 py-1 rounded bg-slate-800 text-slate-300",children:"Tax Benefit"})]}),f.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Commuter Pre-Tax Benefits"}),f.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-6 flex-1",children:"Enroll in employer-sponsored pre-tax transit account. Reduces your taxable income while covering public transit costs seamlessly."}),f.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 flex justify-between items-center mb-6",children:[f.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Estimated Tax Shield"}),f.jsx("span",{className:"text-base font-black text-white",children:"RM1200 / yr"})]}),f.jsx("button",{className:"w-full py-3.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-black tracking-wider uppercase rounded-xl transition-colors shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:shadow-[0_0_25px_rgba(59,130,246,0.5)]",children:"Apply Now"})]})]}),e!=="transport"&&f.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-slate-500 text-center animate-fade-in border border-dashed border-slate-800 rounded-3xl",children:[f.jsx(vx,{size:48,className:"mb-4 opacity-50 text-slate-400"}),f.jsx("p",{className:"text-lg font-bold",children:"Optimization models initializing..."}),f.jsxs("p",{className:"text-sm mt-2",children:["Checking parameters for ",e]})]})]})},pD=({userProfile:s,updateProfile:e,setView:n})=>{var Ce;const[r,o]=te.useState(!0),[c,h]=te.useState(null),[p,g]=te.useState(null),[y,x]=te.useState(0),[T,S]=te.useState(null),[L,O]=te.useState(null),[q,U]=te.useState(!1),[ne,le]=te.useState(null),[K,ae]=te.useState({name:"",targetAmount:0,deadlineMonths:12,category:"General"}),me=[{name:"Car/Vehicle",icon:Oh},{name:"Emergency",icon:Op},{name:"House",icon:Mh},{name:"Vacation",icon:wx},{name:"Education",icon:Ex},{name:"Investment",icon:jh},{name:"General",icon:da}],pe=s.smartGoals||[],R=pe.reduce((re,_e)=>re+_e.targetAmount/_e.deadlineMonths,0),N=s.rent+(s.subscriptions||0),C=s.income-N,M=async()=>{if(!(!K.name||K.targetAmount<=0||K.deadlineMonths<=0||!e)){if(ne){const re=pe.map(_e=>_e.id===ne?{..._e,name:K.name,targetAmount:K.targetAmount,deadlineMonths:K.deadlineMonths,category:K.category}:_e);await e({smartGoals:re}),le(null)}else{const re={id:Date.now().toString(),name:K.name,targetAmount:K.targetAmount,deadlineMonths:K.deadlineMonths,category:K.category,createdAt:Date.now()};await e({smartGoals:[...pe,re]})}U(!1),ae({name:"",targetAmount:0,deadlineMonths:12,category:"General"})}},j=re=>{ae({name:re.name,targetAmount:re.targetAmount,deadlineMonths:re.deadlineMonths,category:re.category||"General"}),le(re.id),U(!0)},V=()=>{U(!1),le(null),ae({name:"",targetAmount:0,deadlineMonths:12,category:"General"})},A=async re=>{e&&await e({smartGoals:pe.filter(_e=>_e.id!==re)})},ve=re=>{const _e=re.targetAmount/re.deadlineMonths,De=C-R+_e;return _e>C*.5?{status:"Danger",text:"Highly aggressive. Uses over 50% of your free income.",color:"text-red-400",bg:"bg-red-500/10 border-red-500/30"}:De<0?{status:"Unrealistic",text:"Requires more free income than possible.",color:"text-red-400",bg:"bg-red-500/10 border-red-500/30"}:_e>C*.3?{status:"Challenging",text:"Requires strict discipline.",color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/30"}:{status:"Realistic",text:"Healthy progression. Very achievable.",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/30"}},Le=async()=>{var re,_e,De,he,Ee,Ue;fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"DashboardView.tsx:13",message:"fetchData called",data:{hasUserProfile:!!s},timestamp:Date.now(),runId:"run1",hypothesisId:"A"})}).catch(()=>{}),o(!0),S(null);try{const pt={...{incomeMonthly:s.income,rentMonthly:s.rent,utilitiesMonthly:s.utilities||0,transportMonthly:s.transportCost||0,foodMonthly:s.food||0,debtMonthly:s.debt||0,subscriptionsMonthly:s.subscriptions||0,savingsBalance:s.savings||0},...s},bt=await tc.getAnalysis(pt);h(bt.financials.stress),g(bt.financials.signals),x(bt.subsidies.matches.length),S(null)}catch(be){fetch("http://127.0.0.1:7851/ingest/b113cee4-9fd7-4c43-84f5-997eb73d90d2",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"9cfd23"},body:JSON.stringify({sessionId:"9cfd23",location:"DashboardView.tsx:36",message:"fetchData error caught",data:{errorMessage:be.message,errorCode:be.code,hasResponse:!!be.response,responseStatus:(re=be.response)==null?void 0:re.status},timestamp:Date.now(),runId:"run1",hypothesisId:"A,B,C,D,E"})}).catch(()=>{}),be.code==="ECONNREFUSED"||(_e=be.message)!=null&&_e.includes("Network Error")||(De=be.message)!=null&&De.includes("Failed to fetch")?S("Backend server is not running. Please start it with 'npm run dev:backend' or 'npm run dev'."):((he=be.response)==null?void 0:he.status)===500?S("Server error occurred. Please check the backend logs."):((Ee=be.response)==null?void 0:Ee.status)===400?S(((Ue=be.response.data)==null?void 0:Ue.error)||"Invalid request. Please check your profile data."):S(be.message||"Failed to connect to the analysis engine. Please check your internet connection and try again.")}finally{o(!1)}};if(te.useEffect(()=>{Le()},[s]),r)return f.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center space-y-6 animate-fade-in text-white relative",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500/20 rounded-full blur-[100px] pointer-events-none animate-pulse"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"h-20 w-20 rounded-full border border-white/20 bg-white/5 backdrop-blur-md"}),f.jsx("div",{className:"absolute top-0 left-0 h-20 w-20 rounded-full border-t-2 border-r-2 border-blue-500 animate-spin"}),f.jsx(Ph,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-blue-500 animate-pulse",size:24})]}),f.jsx("div",{className:"flex flex-col items-center space-y-2",children:f.jsx("p",{className:"text-xl font-bold tracking-tight",children:"Loading Dashboard..."})})]});if(!r&&T&&!c&&!p)return f.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center space-y-6 text-center p-6 text-white relative",children:f.jsxs("div",{className:"bg-[#151c2c] p-10 rounded-3xl border border-slate-800 shadow-2xl max-w-lg w-full",children:[f.jsx(Dh,{className:"text-red-500 w-12 h-12 mx-auto mb-4"}),f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Connection Interrupted"}),f.jsx("p",{className:"text-slate-400 mb-8",children:T}),f.jsxs("button",{onClick:Le,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:[f.jsx(Lh,{size:18})," Retry"]})]})});const F=pe.map((re,_e)=>({label:re.name.toUpperCase(),value:re.targetAmount/re.deadlineMonths,color:["#14b8a6","#06b6d4","#0891b2"][_e%3]})),se=(s.rent||0)+(s.utilities||0)+(s.transportCost||0)+(s.food||0)+(s.debt||0)+(s.subscriptions||0)+(s.savings||0)+R,Be=[{label:"BALANCE LEFT",value:Math.max(0,s.income-se),color:"#3b82f6"},...F,{label:"GENERAL SAVINGS",value:s.savings||0,color:"#ec4899"},{label:"HOUSING",value:s.rent||0,color:"#f97316"},{label:"TRANSPORT",value:s.transportCost||0,color:"#10b981"},{label:"FOOD",value:s.food||0,color:"#eab308"},{label:"UTILITIES",value:s.utilities||0,color:"#8b5cf6"},{label:"DEBT",value:s.debt||0,color:"#ef4444"},{label:"SUBSCRIPTIONS",value:s.subscriptions||0,color:"#6366f1"}].filter(re=>re.value>0),k=Be.reduce((re,_e)=>re+_e.value,0),X=94,oe=20,ce=2*Math.PI*X,ye=12;let Ne=0;return f.jsxs("div",{className:"max-w-[1240px] mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in font-sans",style:{color:"#f8fafc"},children:[f.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-8 mt-2",children:[f.jsxs("div",{className:"bg-[#101726] rounded-[2rem] p-8 border border-white/5 flex flex-col md:flex-row gap-10 items-center justify-center xl:justify-start flex-1 shadow-lg min-h-[380px]",children:[f.jsxs("div",{className:"relative w-64 h-64 shrink-0 flex items-center justify-center mt-2 group",children:[f.jsx("svg",{className:"absolute inset-0 w-full h-full transform -rotate-90",viewBox:"0 0 240 240",children:Be.map((re,_e)=>{const he=(k>0?re.value/k:0)*ce,Ee=Math.max(0,he-ye),Ue=-Ne;return Ne+=he,f.jsx("circle",{cx:"120",cy:"120",r:X,fill:"transparent",stroke:re.color,strokeWidth:oe,strokeDasharray:`${Ee} ${ce}`,strokeDashoffset:Ue,strokeLinecap:"round",className:"transition-all duration-300 ease-out hover:opacity-100 opacity-80",style:{cursor:"pointer"},onMouseEnter:()=>O(re),onMouseLeave:()=>O(null)},re.label)})}),f.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center pointer-events-none px-4",children:L?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[10px] font-bold tracking-wider uppercase mb-1 drop-shadow-sm transition-colors duration-300",style:{color:L.color},children:L.label}),f.jsxs("span",{className:"text-xl md:text-2xl font-bold text-white drop-shadow-md transition-all duration-300 transform scale-105",children:["RM",L.value.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[10px] font-bold text-[#64748b] tracking-wider uppercase mb-1 drop-shadow-sm transition-colors duration-300",children:"Total Income"}),f.jsxs("span",{className:"text-xl md:text-2xl font-bold text-white drop-shadow-md transition-all duration-300",children:["RM",s.income.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})]})]})})]}),f.jsxs("div",{className:"flex-1 w-full flex flex-col justify-center",children:[f.jsxs("h2",{className:"text-4xl md:text-5xl font-bold tracking-tight text-white leading-none mb-2",children:["RM",s.income.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})]}),f.jsx("p",{className:"text-[#64748b] text-base mb-8 font-medium",children:"Total Monthly Income"}),f.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-5",children:Be.map(re=>f.jsxs("div",{className:"flex items-start gap-2.5 hover:opacity-80 transition-opacity",children:[f.jsx("div",{className:"w-2.5 h-2.5 rounded-full mt-1.5 shrink-0 shadow-sm",style:{backgroundColor:re.color}}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-[#64748b] uppercase tracking-widest leading-none mb-1.5",children:re.label}),f.jsxs("p",{className:"text-[15px] font-bold text-white leading-none",children:["RM",re.value.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})]})]})]},re.label))})]})]}),f.jsxs("div",{className:"flex flex-col gap-6 w-full xl:w-[360px] shrink-0",children:[f.jsxs("div",{className:"bg-[#101726] rounded-[2rem] p-8 border border-[#1e293b] flex justify-between items-center shadow-lg h-full relative overflow-hidden",children:[f.jsxs("div",{className:"flex flex-col justify-center relative z-10",children:[f.jsxs("h3",{className:"text-4xl md:text-5xl font-extrabold text-white mb-3 tracking-tight",children:[(c==null?void 0:c.stressScore)??25.1,"%"]}),f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded shadow-sm ${(c==null?void 0:c.riskLevel)==="Low"||!c?"bg-[#10b981] text-white":(c==null?void 0:c.riskLevel)==="Moderate"?"bg-[#f59e0b] text-white":"bg-[#ef4444] text-white"}`,children:((Ce=c==null?void 0:c.riskLevel)==null?void 0:Ce.toUpperCase())??"LOW"}),f.jsx("span",{className:"text-[#64748b] text-xs sm:text-sm font-medium",children:"Financial Stress score"})]})]}),f.jsx("div",{className:"w-12 h-12 rounded-full border border-emerald-500/30 flex items-center justify-center text-emerald-500 relative z-10 shrink-0",children:f.jsx(Dh,{size:22,strokeWidth:2})})]}),f.jsxs("div",{className:"bg-[#101726] rounded-[2rem] p-8 border border-[#1e293b] flex justify-between items-center shadow-lg h-full relative overflow-hidden",children:[f.jsxs("div",{className:"flex flex-col justify-center relative z-10",children:[f.jsx("h3",{className:"text-4xl md:text-5xl font-extrabold text-white mb-3 tracking-tight",children:y||2}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[11px] font-bold text-[#10b981] uppercase tracking-wider",children:"SUBSIDIES"}),f.jsx("span",{className:"text-[#64748b] text-xs sm:text-sm font-medium",children:"Qualified"})]})]}),f.jsx("div",{className:"w-12 h-12 rounded-full border border-emerald-500/30 flex items-center justify-center text-emerald-500 relative z-10 shrink-0",children:f.jsx(Zm,{size:24,strokeWidth:2})})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-[#f43f5e] to-[#ef4444] rounded-[2rem] p-7 sm:p-8 flex flex-col sm:flex-row items-start sm:items-center justify-between cursor-pointer group shadow-[0_12px_40px_-10px_rgba(244,63,94,0.5)] hover:shadow-[0_20px_40px_-10px_rgba(244,63,94,0.7)] hover:-translate-y-1 transition-all duration-300 gap-6",onClick:()=>n(gn.OPTIMIZATION),children:[f.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-[60px] -mr-20 -mt-20 group-hover:bg-white/20 transition-colors pointer-events-none"}),f.jsxs("div",{className:"flex items-center gap-5 sm:gap-6 relative z-10 w-full sm:w-auto",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-[20px] flex items-center justify-center shadow-sm backdrop-blur-md shrink-0",children:f.jsx(J2,{className:"text-white",size:32,strokeWidth:2})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight mb-1",children:"Your optimization plan is ready"}),f.jsx("p",{className:"text-white/80 text-sm sm:text-base font-medium",children:"View your optimization plan to help boost your financial health"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white font-bold opacity-90 group-hover:opacity-100 group-hover:pr-2 transition-all relative z-10 self-end sm:self-auto shrink-0 w-full sm:w-auto justify-end sm:justify-start text-lg",children:["View Plan ",f.jsx(ls,{size:22,strokeWidth:2.5,className:"group-hover:translate-x-1 transition-transform"})]})]}),f.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-[#7c3aed] to-[#6366f1] rounded-[2rem] p-7 sm:p-8 flex flex-col sm:flex-row items-start sm:items-center justify-between cursor-pointer group shadow-[0_12px_40px_-10px_rgba(124,58,237,0.5)] hover:shadow-[0_20px_40px_-10px_rgba(124,58,237,0.7)] hover:-translate-y-1 transition-all duration-300 gap-6 mb-10",onClick:()=>n("WEALTH_PLUS"),children:[f.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-[60px] -mr-20 -mt-20 group-hover:bg-white/20 transition-colors pointer-events-none"}),f.jsxs("div",{className:"flex items-center gap-5 sm:gap-6 relative z-10 w-full sm:w-auto",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-[20px] flex items-center justify-center shadow-sm backdrop-blur-md shrink-0",children:f.jsx(Ax,{className:"text-white",size:32,strokeWidth:2})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight mb-1",children:"Wealth+"}),f.jsx("p",{className:"text-white/80 text-sm sm:text-base font-medium",children:"Unlock your potential with short & long term growth strategies"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white font-bold opacity-90 group-hover:opacity-100 group-hover:pr-2 transition-all relative z-10 self-end sm:self-auto shrink-0 w-full sm:w-auto justify-end sm:justify-start text-lg",children:["Explore ",f.jsx(ls,{size:22,strokeWidth:2.5,className:"group-hover:translate-x-1 transition-transform"})]})]}),f.jsxs("div",{className:"mt-8 mb-4",children:[f.jsx("div",{className:"flex items-center justify-between mb-6",children:f.jsxs("h3",{className:"text-2xl font-semibold text-white tracking-tight flex items-center gap-3",children:[f.jsx(da,{className:"text-blue-500",size:28})," Smart Goals"]})}),f.jsxs("div",{className:"flex flex-col gap-6",children:[pe.map(re=>{var Ee;const _e=ve(re),De=re.targetAmount/re.deadlineMonths,he=((Ee=me.find(Ue=>Ue.name===re.category))==null?void 0:Ee.icon)||da;return f.jsxs("div",{className:"relative overflow-hidden bg-white/5 border border-white/10 backdrop-blur-xl rounded-[2rem] p-6 sm:p-7 shadow-2xl flex flex-col sm:flex-row items-center justify-between group transition-all duration-300 hover:bg-white/10 hover:-translate-y-1 gap-6",children:[f.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-blue-500/10 rounded-full blur-[60px] -mr-20 -mt-20 group-hover:bg-blue-500/20 transition-colors pointer-events-none"}),f.jsxs("div",{className:"flex items-center gap-5 sm:gap-6 relative z-10 w-full sm:w-auto flex-1",children:[f.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-white/10 border border-white/10 text-white rounded-[20px] flex items-center justify-center shadow-inner backdrop-blur-md shrink-0",children:f.jsx(he,{size:28,strokeWidth:2})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[f.jsx("h3",{className:"text-xl font-semibold text-white tracking-tight leading-tight",children:re.name}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest bg-white/5 px-2 py-0.5 rounded border border-white/10",children:re.category})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-1",children:[f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Savings Goal"}),f.jsxs("span",{className:"text-xl font-bold text-white tracking-tight",children:["RM",re.targetAmount.toString()]})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(P2,{size:14,className:"text-slate-500"}),f.jsxs("span",{className:"text-sm font-medium text-slate-400",children:[re.deadlineMonths," Mo"]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 border-l border-white/10 pl-4 sm:pl-6 ml-0",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Monthly:"}),f.jsxs("span",{className:"text-lg font-bold text-blue-400",children:["RM",De.toLocaleString(void 0,{useGrouping:!1,maximumFractionDigits:0}),"/mo"]})]})]})]})]}),f.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 relative z-10 transition-colors border backdrop-blur-md sm:min-w-[280px] w-full sm:w-auto ${_e.bg}`,children:[f.jsx("div",{className:"shrink-0",children:_e.status==="Realistic"?f.jsx(Zm,{size:18,className:_e.color,strokeWidth:2.5}):f.jsx(OS,{size:18,className:_e.color,strokeWidth:2.5})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:`text-[11px] font-bold ${_e.color} uppercase tracking-wide leading-none mb-1`,children:_e.status}),f.jsx("p",{className:`text-[12px] ${_e.color} font-medium opacity-90 leading-tight truncate`,children:_e.text})]})]}),f.jsxs("div",{className:"flex items-center gap-3 relative z-20",children:[f.jsxs("button",{onClick:()=>j(re),className:"text-slate-500 hover:text-blue-400 transition-colors p-2.5 hover:bg-blue-500/10 rounded-full shrink-0",children:[f.jsx(Vh,{size:18,className:"rotate-45"})," "]}),f.jsx("button",{onClick:()=>A(re.id),className:"text-slate-500 hover:text-red-400 transition-colors p-2.5 hover:bg-red-500/10 rounded-full shrink-0",children:f.jsx(RS,{size:18})})]})]},re.id)}),q?f.jsxs("div",{className:"relative overflow-hidden bg-[#131b2f] border border-blue-500/50 backdrop-blur-xl rounded-[2rem] p-8 shadow-[0_0_40px_rgba(59,130,246,0.2)] flex flex-col mt-8 animate-fade-in ring-1 ring-blue-500/20 w-full",children:[f.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-blue-500/20 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"}),f.jsxs("div",{className:"flex items-center justify-between mb-8 relative z-10",children:[f.jsxs("h3",{className:"text-xl font-medium text-white tracking-tight flex items-center gap-2 pr-4",children:[f.jsx(da,{size:20,className:"text-blue-500"})," ",ne?"Edit Smart Goal":"Configure Smart Goal"]}),f.jsx("button",{onClick:V,className:"text-slate-400 hover:text-white transition-colors bg-white/5 border border-white/10 backdrop-blur-md p-2 rounded-full hover:bg-white/10",children:f.jsx(tp,{size:18,strokeWidth:2.5})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Goal Category"}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-4 gap-3",children:me.map(re=>{const _e=re.icon,De=K.category===re.name;return f.jsxs("button",{onClick:()=>ae({...K,category:re.name}),className:`flex flex-col items-center justify-center p-3 rounded-2xl border transition-all ${De?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-[#0b101b] border-slate-800 text-slate-500 hover:border-slate-600"}`,title:re.name,children:[f.jsx(_e,{size:20,className:"mb-1"}),f.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter truncate w-full text-center",children:re.name.split("/")[0]})]},re.name)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Goal Name"}),f.jsx("input",{type:"text",value:K.name,onChange:re=>ae({...K,name:re.target.value}),placeholder:"e.g. Dream Car Deposit",className:"w-full bg-[#0b101b] text-white px-5 py-4 rounded-xl border border-slate-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all font-bold text-base shadow-inner placeholder-slate-600"})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Target Amount (RM)"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-500 font-bold",children:"RM"}),f.jsx("input",{type:"number",value:K.targetAmount||"",onChange:re=>ae({...K,targetAmount:Number(re.target.value)}),placeholder:"10000",className:"w-full bg-[#0b101b] text-white px-5 py-4 pl-14 rounded-xl border border-slate-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all font-bold text-base shadow-inner placeholder-slate-600"})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Timeframe (Months)"}),f.jsxs("span",{className:"text-blue-400 font-bold text-base bg-blue-500/10 px-4 py-1 rounded-full border border-blue-500/20",children:[K.deadlineMonths," Months"]})]}),f.jsxs("div",{className:"relative pt-2 pb-2",children:[f.jsx("input",{type:"range",min:"1",max:"60",step:"1",value:K.deadlineMonths,onChange:re=>ae({...K,deadlineMonths:Number(re.target.value)}),className:"w-full h-2 bg-[#0b101b] rounded-lg appearance-none cursor-pointer accent-blue-500 border border-slate-800"}),f.jsxs("div",{className:"flex justify-between mt-2 text-[11px] font-bold text-slate-600 uppercase tracking-widest",children:[f.jsx("span",{children:"1 Month"}),f.jsx("span",{children:"60 Months"})]})]})]}),f.jsx("div",{className:"pt-2",children:f.jsxs("button",{onClick:M,disabled:!K.name||K.targetAmount<=0||K.deadlineMonths<=0,className:"w-full py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold text-lg transition-all flex justify-center items-center gap-2 disabled:bg-blue-900/50 disabled:text-blue-400 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(37,99,235,0.4)]",children:[ne?"Update Goal":"Activate Goal"," ",f.jsx(ls,{size:18,strokeWidth:3})]})})]})]})]}):f.jsxs("div",{onClick:()=>U(!0),className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 rounded-[2rem] p-7 sm:p-8 flex flex-col sm:flex-row items-start sm:items-center justify-between cursor-pointer group shadow-[0_12px_40px_-10px_rgba(37,99,235,0.5)] hover:shadow-[0_20px_40px_-10px_rgba(37,99,235,0.7)] hover:-translate-y-1 transition-all duration-300 gap-6 mt-8",children:[f.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-[60px] -mr-20 -mt-20 group-hover:bg-white/20 transition-colors pointer-events-none"}),f.jsxs("div",{className:"flex items-center gap-5 sm:gap-6 relative z-10 w-full sm:w-auto",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-[20px] flex items-center justify-center shadow-sm backdrop-blur-md shrink-0",children:f.jsx(Vh,{className:"text-white",size:32,strokeWidth:2.5})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white tracking-tight mb-1",children:"Add a new financial goal"}),f.jsx("p",{className:"text-white/80 text-sm sm:text-base font-medium",children:"Define your next milestone and track your progress towards financial freedom"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white font-semibold opacity-90 group-hover:opacity-100 group-hover:pr-2 transition-all relative z-10 self-end sm:self-auto shrink-0 w-full sm:w-auto justify-end sm:justify-start text-lg",children:["Set New Goal ",f.jsx(ls,{size:22,strokeWidth:2.5,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})]})]})},gD=(s,e,n,r)=>{let o={savings_percent:100,dividend_percent:0,etf_percent:0,growth_percent:0};n==="conservative"?o={savings_percent:70,dividend_percent:20,etf_percent:10,growth_percent:0}:n==="moderate"?o={savings_percent:40,dividend_percent:30,etf_percent:20,growth_percent:10}:o={savings_percent:15,dividend_percent:15,etf_percent:40,growth_percent:30},r&&n!=="conservative"&&(o.savings_percent+=30,o.etf_percent=Math.max(0,o.etf_percent-15),o.growth_percent=Math.max(0,o.growth_percent-15));const c=o.savings_percent+o.dividend_percent+o.etf_percent+o.growth_percent;o.savings_percent=Math.round(o.savings_percent/c*100),o.dividend_percent=Math.round(o.dividend_percent/c*100),o.etf_percent=Math.round(o.etf_percent/c*100),o.growth_percent=100-(o.savings_percent+o.dividend_percent+o.etf_percent);const p=s/e<5e3;return{allocation:o,identified_instruments:[{category:"Savings / Cash",examples:["GXBank Savings (Digital Bank)","Maybank Fixed Deposit","KDI Save (Money Market)"]},{category:"Dividend Stocks",examples:["MAYBANK (Finance)","TENAGA (Utilities)","AXIATA (Telecom)"]},{category:"ETFs / Growth",examples:["Principal FTSE ASEAN 40 ETF","StashAway Risk-Adjusted Portfolios"]}],return_assumptions:{savings_range:[2,4],dividend_range:[5,8],etf_range:[7,12],growth_range:[10,15]},analysis:{strategy_summary:`For your ${n} profile over ${e} months, this allocation balances immediate liquidity needs with calculated growth exposure.`,risk_explanation:n==="aggressive"?"Higher equity exposure increases volatility but targets maximum capital appreciation.":"Heavy weighting in guaranteed returns minimizes drawdown risk.",liquidity_commentary:r?"Prioritized highly liquid assets (like digital banks) to ensure funds are available soon.":"Locked-in a portion of funds in longer-tenure instruments to capture term premiums.",goal_feasibility:p?"Target is highly realistic based on standard income ratios.":"Target is ambitious. May require high monthly contributions.",adjustment_suggestion:"Consider extending timeline if the monthly required contribution is too stressful."},disclaimer:"This allocation is a simulation for educational purposes and does not constitute financial advice. Examples of instruments commonly used for this strategy are illustrative only. Never guarantee returns."}},yD=({userProfile:s,updateProfile:e})=>{const[n,r]=te.useState("selection"),[o,c]=te.useState(null),[h,p]=te.useState(500),[g,y]=te.useState(15),[x,T]=te.useState("moderate"),[S,L]=te.useState(null),O=o==="short",q=O?g:g*12,U=()=>{n==="selection"&&o?(r("config"),y(o==="short"?12:10),p(500)):n==="config"&&(L(gD(h,q,x,O)),r("strategy"))},ne=()=>{n==="config"?r("selection"):n==="strategy"&&r("config")},le=A=>`RM${A.toLocaleString(void 0,{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2})}`,K=q>0?Math.round(h/q):0;let ae=K,me=0;if(S){const A=S.return_assumptions,ve=S.allocation;me=(ve.savings_percent/100*((A.savings_range[0]+A.savings_range[1])/2)+ve.dividend_percent/100*((A.dividend_range[0]+A.dividend_range[1])/2)+ve.etf_percent/100*((A.etf_range[0]+A.etf_range[1])/2)+ve.growth_percent/100*((A.growth_range[0]+A.growth_range[1])/2))/100;const Le=me/12;Le>0&&q>0&&(ae=Math.round(h*(Le/(Math.pow(1+Le,q)-1))))}const pe=(g*7+Math.round(h))%5+1,R=O?24:40,N=g+pe>R?R-g:pe,C=N>0?N:1,M=O?g+C:(g+C)*12,j=M>0?Math.round(h/M):0,V=K-j;return f.jsx("div",{className:"min-h-screen bg-[#05080f] text-white",children:f.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-10 animate-fade-in font-sans relative",children:[n!=="selection"&&f.jsxs("button",{onClick:ne,className:"mb-8 flex items-center gap-2 px-4 py-2 bg-[#0f1423] border border-[#1e2738] rounded-xl text-slate-400 hover:text-white hover:bg-[#151c2c] transition-all shadow-sm group w-max",children:[f.jsx(pr,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),f.jsx("span",{className:"font-bold text-sm",children:"Back to Previous"})]}),n==="selection"&&f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] text-center max-w-3xl mx-auto",children:[f.jsx("h1",{className:"text-[32px] md:text-4xl font-bold mb-3 tracking-tight",children:"Select Your Financial Goal"}),f.jsx("p",{className:"text-slate-400 text-base mb-10 max-w-[500px] leading-relaxed mx-auto",children:"Let's start by defining your horizon. We'll tailor your investment strategy based on your timeline."}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full mb-10 px-4 md:px-0",children:[f.jsxs("div",{onClick:()=>c("short"),className:`group relative p-8 rounded-2xl transition-all cursor-pointer text-left overflow-hidden border ${o==="short"?"bg-[#1a2333] border-[#29364f]":"bg-[#0f1423] border-transparent hover:bg-[#111827]"}`,children:[f.jsx("div",{className:"absolute -top-2 -right-2 opacity-[0.03]",children:f.jsx(p_,{size:120})}),f.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 text-emerald-500 flex items-center justify-center mb-5",children:f.jsx(p_,{size:20})}),f.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Short-Term Goal"}),f.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed relative z-10",children:["Ideal for immediate needs like emergency funds, travel, or small purchases ",f.jsx("span",{className:"text-white font-semibold",children:"(0-2 years)"}),"."]})]}),f.jsxs("div",{onClick:()=>c("long"),className:`group relative p-8 rounded-2xl transition-all cursor-pointer text-left overflow-hidden border ${o==="long"?"bg-[#1a2333] border-[#29364f]":"bg-[#0f1423] border-transparent hover:bg-[#111827]"}`,children:[f.jsx("div",{className:"absolute -top-2 -right-2 opacity-[0.03]",children:f.jsx(b_,{size:120})}),f.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 text-emerald-500 flex items-center justify-center mb-5",children:f.jsx(b_,{size:20})}),f.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Long-Term Goal"}),f.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed relative z-10",children:["Perfect for major life milestones like retirement, education, or buying a home ",f.jsx("span",{className:"text-white font-semibold",children:"(2+ years)"}),"."]})]})]}),f.jsx("button",{disabled:!o,onClick:U,className:"bg-emerald-500 hover:bg-emerald-400 disabled:bg-slate-800 disabled:text-slate-500 text-[#05080f] px-8 py-3.5 min-w-[320px] rounded-xl text-base font-semibold transition-all shadow-[0_0_24px_rgba(16,185,129,0.3)] disabled:shadow-none active:scale-95 flex items-center justify-center",children:"Continue to Portfolio"})]}),n==="config"&&f.jsxs("div",{className:"animate-slide-up max-w-[1100px] mx-auto",children:[f.jsx("div",{className:"mb-10",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-[32px] md:text-4xl font-bold mb-3 tracking-tight",children:"Configure your Wealth+ Strategy"}),f.jsx("p",{className:"text-slate-400 text-base",children:"Define your financial goals and risk tolerance to calculate your optimal strategy."})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-8",children:[f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{className:"bg-[#0f1423] border border-[#1e2738] rounded-2xl p-8 space-y-10",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-xs font-bold text-slate-400 tracking-wider uppercase",children:"Wealth Target (RM)"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 flex items-center",children:f.jsx("span",{className:"text-slate-400 font-semibold text-lg",children:"RM"})}),f.jsx("input",{type:"text",value:h.toString(),onChange:A=>{const ve=A.target.value.replace(/,/g,"");!isNaN(Number(ve))&&ve!==""?p(Number(ve)):ve===""&&p(0)},className:"w-full bg-[#151c2c] border border-[#29364f] p-4 pl-14 rounded-xl text-xl font-bold text-white outline-none focus:border-emerald-500 transition-colors"})]}),f.jsxs("p",{className:"text-slate-500 text-xs",children:["Set a realistic target for your ",o==="long"?"long-term retirement or savings":"short-term needs"," goal."]})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("label",{className:"text-xs font-bold text-slate-400 tracking-wider uppercase",children:"Duration"}),f.jsxs("div",{className:"flex items-center gap-2 bg-[#151c2c] border border-[#29364f] p-1.5 rounded-lg focus-within:border-emerald-500 transition-colors",children:[f.jsx("input",{type:"number",min:o==="short"?0:2,max:o==="short"?24:40,value:g,onChange:A=>{let ve=parseInt(A.target.value);if(isNaN(ve)){y(0);return}const Le=o==="short"?24:40;ve<0&&(ve=0),ve>Le&&(ve=Le),y(ve)},className:"bg-transparent text-white font-bold text-sm w-12 text-right outline-none"}),f.jsx("span",{className:"text-slate-400 text-sm font-semibold pr-2",children:o==="short"?"Months":"Years"})]})]}),f.jsx("div",{className:"pt-2",children:f.jsx("input",{type:"range",min:o==="short"?"0":"2",max:o==="short"?"24":"40",value:g,onChange:A=>y(Number(A.target.value)),className:"w-full h-1.5 bg-[#1e2738] rounded-full appearance-none cursor-pointer accent-emerald-500 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-emerald-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-[#0f1423]"})}),o==="short"?f.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[f.jsx("span",{children:"0 Months"}),f.jsx("span",{children:"24 Months"})]}):f.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[f.jsx("span",{children:"2 Years"}),f.jsx("span",{children:"40 Years"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-xs font-bold text-slate-400 tracking-wider uppercase",children:"Risk Appetite"}),f.jsx("div",{className:"flex bg-[#151c2c] p-1.5 rounded-xl border border-[#29364f]",children:["conservative","moderate","aggressive"].map(A=>f.jsx("button",{onClick:()=>T(A),className:`flex-1 py-3 px-4 rounded-lg text-sm font-semibold capitalize transition-all ${x===A?"bg-[#3b4c6b] text-white shadow-sm":"text-slate-400 hover:text-slate-300"}`,children:A},A))}),f.jsxs("div",{className:"bg-[#051811] border border-emerald-900/50 rounded-xl p-4 flex gap-3 items-start mt-4",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center text-[#051811] shrink-0 mt-0.5",children:f.jsx(g_,{size:14,className:"text-[#05080f]"})}),f.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:[x==="moderate"&&"Moderate risk typically involves a balanced portfolio of 60% equities and 40% fixed income for steady growth.",x==="conservative"&&"Conservative risk focuses on capital preservation and steady, low-yield instruments like FDs and savings units.",x==="aggressive"&&"Aggressive risk targets high growth through 90%+ equity allocation, favoring high-performance stocks and ETFs."]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#0f1423] border border-[#1e2738] rounded-2xl p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-sm bg-emerald-500/20 flex items-center justify-center text-emerald-500",children:f.jsx(Uh,{size:10})}),f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 tracking-widest uppercase",children:"Financial Snapshot"})]}),f.jsx("div",{className:"space-y-5",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Monthly Income"}),f.jsx("h4",{className:"text-2xl font-bold text-white mb-1.5",children:le(s.income)}),f.jsxs("span",{className:"text-[10px] font-bold text-emerald-500 flex items-center gap-1",children:[f.jsx(Ax,{size:12})," Verified"]})]})}),f.jsxs("div",{className:"mt-6 p-5 bg-[#151c2c] rounded-xl space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-xs text-slate-400",children:"Projected Savings Needed"}),f.jsxs("p",{className:"text-sm font-bold text-emerald-500",children:[le(K),"/mo"]})]}),f.jsx("div",{className:"h-1.5 bg-[#1e2738] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-emerald-500 w-[65%] rounded-full shadow-[0_0_8px_rgba(16,185,129,0.5)]"})}),f.jsxs("p",{className:"text-[10px] text-slate-500 leading-relaxed font-medium",children:["Based on your current ",g,"-",O?"month":"year"," goal and ",x," risk appetite."]})]})]}),f.jsxs("div",{className:"bg-[#062118] border border-[#0d3427] rounded-2xl p-6 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute -bottom-4 -right-4 text-emerald-500/10 group-hover:scale-110 transition-all duration-500",children:f.jsx(Ph,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h4",{className:"text-base font-bold text-white mb-2",children:"Pro Tip"}),f.jsx("p",{className:"text-sm text-[#94b3a6] leading-relaxed",children:g<R?f.jsxs(f.Fragment,{children:["Increasing your duration by just ",f.jsxs("span",{className:"text-white font-bold",children:[C," ",O?"months":"years"]})," could reduce your monthly savings requirement by ",f.jsx("span",{className:"text-emerald-400 font-bold",children:le(V)}),"."]}):f.jsxs(f.Fragment,{children:["You've chosen the maximum duration! This brings your monthly requirement down to just ",f.jsx("span",{className:"text-emerald-400 font-bold",children:le(K)}),"."]})})]})]}),f.jsxs("div",{className:"bg-[#0f1423] border border-[#1e2738] rounded-2xl p-5 flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#151c2c] flex items-center justify-center text-emerald-500 shrink-0",children:f.jsx(Op,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-base font-bold text-white mb-0.5",children:"Bank-Grade Security"}),f.jsx("p",{className:"text-xs text-slate-500 leading-tight",children:"Your data is encrypted with 256-bit AES protocols."})]})]})]})]}),f.jsx("div",{className:"flex items-center justify-end pt-8 pb-4",children:f.jsxs("button",{onClick:U,className:"bg-emerald-500 hover:bg-emerald-400 text-[#05080f] px-6 py-3 rounded-xl font-bold text-base transition-all shadow-[0_0_24px_rgba(16,185,129,0.3)] active:scale-95 flex items-center gap-2 min-w-[200px] justify-center",children:["Calculate Strategy ",f.jsx(F2,{size:18})]})})]}),n==="strategy"&&S&&f.jsxs("div",{className:"animate-slide-up space-y-8 max-w-[1100px] mx-auto",children:[f.jsxs("div",{className:"bg-[#111827] border border-slate-800 rounded-[2.5rem] p-10 flex flex-col md:flex-row justify-between items-center gap-8 relative overflow-hidden shadow-2xl",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px] -mr-32 -mt-32 pointer-events-none"}),f.jsx("div",{className:"relative z-10 flex items-start w-full md:w-auto",children:f.jsxs("div",{children:[f.jsxs("span",{className:"text-[11px] font-bold text-blue-400 tracking-[0.2em] uppercase flex items-center gap-2",children:[f.jsx(Ph,{size:14})," Gemini Intelligence Engine"]}),f.jsxs("h1",{className:"text-4xl lg:text-5xl font-extrabold text-white mt-2 tracking-tight",children:[le(h)," in ",g," ",O?g>1?"months":"month":g>1?"years":"year"]}),f.jsx("p",{className:"text-slate-400 font-medium mt-3 text-sm",children:"Based on your profile, AI has compiled an illustrative allocation strategy."})]})}),f.jsxs("div",{className:"bg-[#0f1423] border border-blue-900/50 rounded-3xl p-6 relative z-10 w-full md:w-[350px]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Base Requirement"}),f.jsxs("span",{className:"text-slate-400 line-through text-sm",children:[le(K),"/mo"]})]}),f.jsxs("div",{className:"flex justify-between items-center border-t border-slate-800 pt-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-widest",children:"AI Optimized Target"}),f.jsxs("h4",{className:"text-3xl font-black text-white",children:[le(ae),f.jsx("span",{className:"text-sm font-medium text-slate-500",children:"/mo"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Proj. Growth"}),f.jsxs("p",{className:"text-emerald-400 font-bold",children:["~",(me*100).toFixed(1),"% p.a."]})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"bg-[#0f1423] border border-[#1e2738] rounded-3xl p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-400",children:f.jsx(vx,{size:18})}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Strategy Analysis"})]}),f.jsx("p",{className:"text-sm text-slate-300 leading-relaxed font-medium",children:S.analysis.strategy_summary}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-[#151c2c] p-4 rounded-2xl",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1.5",children:"Risk & Volatility"}),f.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:S.analysis.risk_explanation})]}),f.jsxs("div",{className:"bg-[#151c2c] p-4 rounded-2xl",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1.5",children:"Liquidity Profile"}),f.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:S.analysis.liquidity_commentary})]})]}),f.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-2xl flex gap-3 items-start",children:[f.jsx(Zm,{size:16,className:"text-emerald-500 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-emerald-400 mb-1",children:"Feasibility Check"}),f.jsxs("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:[S.analysis.goal_feasibility," ",S.analysis.adjustment_suggestion]})]})]})]}),f.jsxs("div",{className:"bg-[#151c2c] border border-[#1e2738] rounded-3xl p-6 flex gap-4 items-start",children:[f.jsx(g_,{size:20,className:"text-slate-500 shrink-0"}),f.jsx("p",{className:"text-[11px] text-slate-500 font-medium leading-relaxed italic",children:S.disclaimer})]})]}),f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{className:"bg-[#0f1423] border border-[#1e2738] rounded-3xl p-8 space-y-8",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-xl bg-purple-500/10 flex items-center justify-center text-purple-400",children:f.jsx(da,{size:18})}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Target Allocation"})]}),f.jsx("span",{className:"text-xs font-bold text-slate-500 bg-[#151c2c] px-3 py-1 rounded-full",children:"Illustrative"})]}),f.jsxs("div",{className:"space-y-4",children:[S.allocation.savings_percent>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[f.jsx("span",{className:"text-slate-300",children:"Savings & Cash Equivalent"}),f.jsxs("span",{className:"text-emerald-400",children:[S.allocation.savings_percent,"%"]})]}),f.jsx("div",{className:"h-2 bg-[#151c2c] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${S.allocation.savings_percent}%`}})})]}),S.allocation.dividend_percent>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[f.jsx("span",{className:"text-slate-300",children:"Dividend Equities"}),f.jsxs("span",{className:"text-blue-400",children:[S.allocation.dividend_percent,"%"]})]}),f.jsx("div",{className:"h-2 bg-[#151c2c] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${S.allocation.dividend_percent}%`}})})]}),S.allocation.etf_percent>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[f.jsx("span",{className:"text-slate-300",children:"Broad Market ETFs"}),f.jsxs("span",{className:"text-purple-400",children:[S.allocation.etf_percent,"%"]})]}),f.jsx("div",{className:"h-2 bg-[#151c2c] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${S.allocation.etf_percent}%`}})})]}),S.allocation.growth_percent>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[f.jsx("span",{className:"text-slate-300",children:"Growth Assets & High Risk"}),f.jsxs("span",{className:"text-pink-400",children:[S.allocation.growth_percent,"%"]})]}),f.jsx("div",{className:"h-2 bg-[#151c2c] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-pink-500 rounded-full",style:{width:`${S.allocation.growth_percent}%`}})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-800",children:[f.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Examples of Common Market Instruments:"}),f.jsx("div",{className:"space-y-3",children:S.identified_instruments.map((A,ve)=>A.examples.length===0?null:f.jsxs("div",{className:"bg-[#151c2c] p-4 rounded-2xl flex gap-4 items-start",children:[f.jsx(xx,{size:16,className:"text-slate-500 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1.5",children:A.category}),f.jsx("div",{className:"flex flex-wrap gap-2",children:A.examples.map((Le,F)=>f.jsx("span",{className:"text-xs bg-[#1e2738] text-slate-300 px-2 py-1 rounded-md border border-slate-700",children:Le},F))})]})]},ve))}),f.jsx("p",{className:"text-[9px] text-slate-600 mt-4 uppercase tracking-widest text-center",children:"These are illustrative examples, not direct buy instructions."})]})]})})]})]})]})})},VT=te.createContext({}),bD={name:"New User",photoUrl:"",income:0,rent:0,location:"",occupation:"",householdSize:1,commuteMethod:"car",commuteDistanceKm:0,utilities:0,transportCost:0,food:0,debt:0,subscriptions:0,savings:0,age:0,employmentStatus:"employed",state:"",hasCompletedOnboarding:!1},Lg=()=>te.useContext(VT),_D=({children:s})=>{const{user:e}=Nd(),[n,r]=te.useState(null),[o,c]=te.useState(!0),[h,p]=te.useState(null);te.useEffect(()=>{if(!e){r(null),c(!1);return}const x=Bv(Zv,"users",e.uid),T=pj(x,async S=>{var L;if(S.exists())r(S.data());else try{const O={...bD,name:e.displayName||((L=e.email)==null?void 0:L.split("@")[0])||"User",photoUrl:e.photoURL||""};await fj(x,O),r(O)}catch(O){console.error("Error creating user profile:",O),p(O.message)}c(!1)},S=>{console.error("Error fetching user profile:",S),p(S.message),c(!1)});return()=>T()},[e]);const g=async x=>{if(!e)return;const T=Bv(Zv,"users",e.uid);try{await mj(T,x)}catch(S){throw console.error("Error updating profile:",S),S}},y=async x=>{if(!e)throw new Error("User not authenticated");const T=AO(jO,`users/${e.uid}/profile_pic`);return await wO(T,x),await SO(T)};return f.jsx(VT.Provider,{value:{userProfile:n,loading:o,error:h,updateProfile:g,uploadProfilePicture:y},children:s})},vD=({userProfile:s})=>{const{updateProfile:e,uploadProfilePicture:n}=Lg(),[r,o]=te.useState(s),[c,h]=te.useState(!1),[p,g]=te.useState(!1),[y,x]=te.useState(null),[T,S]=te.useState(null),L=(K,ae)=>{o(me=>({...me,[K]:ae}))},O=K=>{var me;const ae=(me=K.target.files)==null?void 0:me[0];if(ae){if(ae.size>1024*1024){alert("File size must be less than 1MB");return}x(ae);const pe=new FileReader;pe.onloadend=()=>S(pe.result),pe.readAsDataURL(ae)}},q=async K=>{K.preventDefault(),g(!0);try{let ae=r.photoUrl;y&&(ae=await n(y));const pe=["income","rent","utilities","transportCost","food","debt","subscriptions","savings"].some(N=>r[N]!==s[N]),R={...r,photoUrl:ae};pe&&(R.optimizedCategories=[]),await e(R),h(!0),setTimeout(()=>h(!1),3e3)}catch(ae){console.error("Failed to update profile:",ae),alert(`Failed to update profile: ${ae.message}`)}finally{g(!1)}},U=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(async K=>{const ae={lat:K.coords.latitude,lng:K.coords.longitude,label:"Detected"};o(me=>({...me,location:ae})),await e({...r,location:ae}),alert("Location updated.")},K=>{console.error(K),alert("Unable to retrieve location.")})},ne=Array.isArray(r.commuteMethod)?r.commuteMethod[0]:r.commuteMethod||"Private Vehicle",le=K=>{L("commuteMethod",[K.target.value])};return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10 animate-fade-in",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Settings"}),f.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Manage your account preferences and financial profile."})]}),f.jsxs("form",{onSubmit:q,className:"space-y-8 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-6 pb-8 border-b border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"h-24 w-24 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border-2 border-slate-200 dark:border-slate-700",children:T||r.photoUrl?f.jsx("img",{src:T||r.photoUrl,alt:"Profile",className:"h-full w-full object-cover"}):f.jsx(ep,{size:40,className:"text-slate-400"})}),f.jsx("label",{htmlFor:"fileInput",className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer shadow-md hover:bg-blue-700 transition",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})}),f.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:O,className:"hidden"})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:r.name||"User"}),f.jsx("p",{className:"text-sm text-slate-500",children:r.occupation||"Update your occupation"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wide flex items-center gap-2 pb-2 border-b border-slate-100 dark:border-slate-800",children:[f.jsx(ep,{size:16,className:"text-blue-500"})," Personal Details"]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name"}),f.jsx("input",{type:"text",value:r.name||"",onChange:K=>L("name",K.target.value),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Occupation"}),f.jsx("input",{type:"text",value:r.occupation||"",onChange:K=>L("occupation",K.target.value),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Household Size"}),f.jsx("input",{type:"number",min:"1",value:r.householdSize||1,onChange:K=>L("householdSize",parseInt(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),f.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wide flex items-center gap-2 pb-2 border-b border-slate-100 dark:border-slate-800 mt-8",children:[f.jsx(Oh,{size:16,className:"text-indigo-500"})," Transportation"]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transportation Method"}),f.jsxs("select",{value:ne,onChange:le,className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none",children:[f.jsx("option",{value:"Private Vehicle",children:"Private Vehicle"}),f.jsx("option",{value:"Motorcycle",children:"Motorcycle"}),f.jsx("option",{value:"Bicycle",children:"Bicycle"}),f.jsx("option",{value:"Walking",children:"Walking"}),f.jsx("option",{value:"Public Transport",children:"Public Transport"}),f.jsx("option",{value:"Company Bus/Vehicle",children:"Company Bus/Vehicle"})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-[#0b101b] rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(cS,{size:18,className:"text-slate-400"}),f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Location Data"})]}),f.jsx("button",{type:"button",onClick:U,className:"text-xs font-bold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:r.location?"Update":"Fetch GPS"})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wide flex items-center gap-2 pb-2 border-b border-slate-100 dark:border-slate-800",children:[f.jsx(jh,{size:16,className:"text-emerald-500"})," Financial Commitments (RM)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Monthly Income"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.income||"",onChange:K=>L("income",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Savings"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.savings||"",onChange:K=>L("savings",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Rent / Mortgage"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.rent||"",onChange:K=>L("rent",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Food & Personal"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.food||"",onChange:K=>L("food",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Other Bills (Subs)"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.subscriptions||"",onChange:K=>L("subscriptions",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Transport Costs"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"RM"}),f.jsx("input",{type:"number",value:r.transportCost||"",onChange:K=>L("transportCost",Number(K.target.value)),className:"w-full bg-slate-50 dark:bg-[#0b101b] border border-slate-200 dark:border-slate-700 rounded-lg p-2.5 pl-10 text-sm font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]})]})]}),f.jsxs("div",{className:"sticky bottom-6 mt-8 flex justify-end items-center",children:[c&&f.jsxs("span",{className:"text-emerald-500 text-sm font-bold mr-4 animate-fade-in flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M20 6L9 17l-5-5",strokeLinecap:"round",strokeLinejoin:"round"})})," Saved"]}),f.jsxs("button",{type:"submit",disabled:p,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-blue-500/25 active:scale-95 flex items-center gap-2 disabled:opacity-70",children:[p?f.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):f.jsx(gS,{size:18}),p?"Saving...":"Save Changes"]})]})]})]})},gx=()=>{const[s,e]=te.useState(!0),[n,r]=te.useState(""),[o,c]=te.useState(""),[h,p]=te.useState(""),[g,y]=te.useState(""),[x,T]=te.useState(!1),{theme:S,toggleTheme:L}=Rx(),[O,q]=te.useState(!1),[U,ne]=te.useState(""),[le,K]=te.useState(""),[ae,me]=te.useState(""),[pe,R]=te.useState(""),[N,C]=te.useState(""),[M,j]=te.useState(""),[V,A]=te.useState(!0),[ve,Le]=te.useState(1);te.useEffect(()=>{const De="THE COST OF LIVING IS ",he="RISING",Ee="YOUR DECISIONS SHOULD BE ",Ue="SMARTER";(async()=>{for(let ut=0;ut<=De.length;ut++)ne(De.slice(0,ut)),await new Promise($t=>setTimeout($t,50));for(let ut=0;ut<=he.length;ut++)K(he.slice(0,ut)),await new Promise($t=>setTimeout($t,50));me("."),Le(1),await new Promise(ut=>setTimeout(ut,1e3)),Le(2);for(let ut=0;ut<=Ee.length;ut++)R(Ee.slice(0,ut)),await new Promise($t=>setTimeout($t,50));for(let ut=0;ut<=Ue.length;ut++)C(Ue.slice(0,ut)),await new Promise($t=>setTimeout($t,50));j("."),Le(0)})()},[]),te.useEffect(()=>{const De=setInterval(()=>{A(he=>!he)},500);return()=>clearInterval(De)},[]);const{signIn:F,signUp:se,signInWithGoogle:de,sendVerificationEmail:Oe,logout:Be,user:k}=Nd(),X=async De=>{De.preventDefault(),y(""),T(!0);try{if(s)await F(o,h);else{const he=await se(o,h);he.user&&(n.trim()&&await AR(he.user,{displayName:n.trim()}),await Oe(he.user))}}catch(he){y(he.message.replace("Firebase: ",""))}finally{T(!1)}},oe=async()=>{try{y(""),q(!0),await de()}catch(De){y(De.message.replace("Firebase: ",""))}finally{q(!1)}},ce=k&&!k.emailVerified,[ye,Ne]=te.useState(0),[Ce,re]=te.useState("");te.useEffect(()=>{let De;return ye>0&&(De=setInterval(()=>{Ne(he=>he-1)},1e3)),()=>clearInterval(De)},[ye]);const _e=async()=>{if(k&&ye===0)try{await Oe(k),re("Email sent!"),Ne(60),setTimeout(()=>re(""),5e3)}catch(De){re("Error sending email."),console.error(De)}};return f.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 transition-colors duration-200 relative overflow-hidden",children:[ce&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/30 dark:bg-slate-900/30 backdrop-blur-md animate-fade-in transition-all duration-500",children:f.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-200 dark:border-slate-700 text-center animate-scale-in",children:[f.jsx("div",{className:"mb-6 flex justify-center",children:f.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-4 rounded-full animate-bounce-short",children:f.jsx(Dh,{className:"text-yellow-600 dark:text-yellow-400",size:48})})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Email Not Verified"}),f.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:["We have sent a verification link to ",f.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:k==null?void 0:k.email}),". Please check your inbox (and spam folder)."]}),Ce&&f.jsx("div",{className:`mb-4 text-sm font-medium ${Ce.includes("Error")?"text-red-500":"text-green-500"}`,children:Ce}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:_e,disabled:ye>0,className:"w-full bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-white font-bold py-3.5 rounded-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-md active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:ye>0?`Resend Email (${ye}s)`:"Resend Verification Email"}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg active:scale-95 shadow-md flex items-center justify-center gap-2",children:[f.jsx(Lh,{size:20})," I've Verified My Email"]}),f.jsxs("button",{onClick:()=>Be(),className:"w-full text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 font-bold py-3.5 rounded-lg transition-all flex items-center justify-center gap-2 text-sm",children:[f.jsx(y_,{size:16,className:"rotate-180"})," Sign Out"]})]})]})}),f.jsx("header",{className:"absolute top-0 right-0 p-4 sm:p-6 z-10 w-full flex justify-end",children:f.jsx("button",{onClick:L,className:"p-3 rounded-full bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",title:S==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:S==="light"?f.jsx(Tx,{size:24}):f.jsx(Sx,{size:24})})}),f.jsx("main",{className:`flex-grow flex items-center justify-center p-4 sm:p-8 transition-all duration-500 ${ce?"scale-95 opacity-50 blur-[2px]":""}`,children:f.jsxs("div",{className:"w-full max-w-6xl flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[f.jsxs("div",{className:"flex-1 text-center lg:text-left animate-fade-in-up",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6 h-16 justify-center lg:justify-start",children:[f.jsx("img",{src:"/favicon1.png",alt:"CostPilot",className:"h-12 w-auto animate-fade-in"}),f.jsx("span",{className:"text-4xl font-medium font-logo text-slate-900 dark:text-white animate-fade-in delay-100",children:"CostPilot"})]}),f.jsxs("div",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 dark:text-white tracking-tight leading-tight mb-6 flex flex-col items-center lg:items-start min-h-[160px] lg:min-h-[auto]",children:[f.jsxs("div",{children:[U,f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:le}),ae,ve===1&&f.jsx("span",{className:`${V?"opacity-100":"opacity-0"} text-blue-600 ml-1`,children:"|"})]}),f.jsxs("div",{children:[pe,f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:N}),M,ve===2&&f.jsx("span",{className:`${V?"opacity-100":"opacity-0"} text-purple-600 ml-1`,children:"|"})]})]}),f.jsxs("p",{className:"text-xl md:text-2xl text-slate-600 dark:text-slate-300 font-medium mb-8",children:["Meet ",f.jsx("span",{className:"font-semibold font-logo text-slate-900 dark:text-white",children:"CostPilot"}),", Your AI Cost-of-Living Navigator."]})]}),f.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700 animate-fade-in-up delay-100 flex-shrink-0",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:s?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:s?"Sign in to access your dashboard":"Get started with your financial journey"})]}),g&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg flex items-center gap-2 text-sm mb-6 border border-red-100 dark:border-red-800 animate-fade-in-up",children:[f.jsx(Dh,{size:16}),g]}),f.jsxs("form",{onSubmit:X,className:"space-y-4 animate-fade-in-up",children:[!s&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),f.jsx("input",{type:"text",required:!0,value:n,onChange:De=>r(De.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 transition-all focus:shadow-md",placeholder:"John Doe"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,value:o,onChange:De=>c(De.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 transition-all focus:shadow-md",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,value:h,onChange:De=>p(De.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 transition-all focus:shadow-md",placeholder:""})]}),f.jsx("button",{type:"submit",disabled:x||O||ce,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg active:scale-95 flex items-center justify-center gap-2 disabled:opacity-70 disabled:pointer-events-none text-lg",children:x?"Processing...":s?f.jsxs(f.Fragment,{children:[f.jsx(y_,{size:20})," Sign In"]}):f.jsxs(f.Fragment,{children:[f.jsx(MS,{size:20})," Create Account"]})})]},s?"login":"signup"),f.jsx("div",{className:"mt-4",children:f.jsx("button",{type:"button",onClick:oe,disabled:x||O||ce,className:"w-full bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-bold py-3.5 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-md active:scale-95 flex items-center justify-center gap-2 disabled:opacity-70 disabled:pointer-events-none text-lg",children:O?"Connecting...":f.jsxs(f.Fragment,{children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]})})}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>e(!s),disabled:ce,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium hover:text-blue-700 dark:hover:text-blue-300 transition-colors disabled:opacity-50 disabled:no-underline",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}),f.jsx("footer",{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-t border-slate-200 dark:border-slate-700 py-6 mt-auto",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-slate-500 dark:text-slate-400 text-sm",children:f.jsx("p",{children:" 2026 CostPilot. Built for KitaHack 2026 by TVK. All rights reserved."})})})]})},yx=["Phone Bill","Spotify / Netflix","Gym Membership","Car Insurance","Internet / WiFi","PTPTN Loan","Parking Season Pass"],xD=()=>{const{updateProfile:s}=Lg(),[e,n]=te.useState(1),[r,o]=te.useState("income"),[c,h]=te.useState(0),[p,g]=te.useState("rented"),[y,x]=te.useState(!0),[T,S]=te.useState(0),[L,O]=te.useState(!0),[q,U]=te.useState(0),[ne,le]=te.useState([]),[K,ae]=te.useState([]),[me,pe]=te.useState(""),[R,N]=te.useState(""),[C,M]=te.useState(!0),[j,V]=te.useState(0),[A,ve]=te.useState([]),[Le,F]=te.useState(!1),[se,de]=te.useState({name:"",targetAmount:0,deadlineMonths:12,category:"General"}),[Oe,Be]=te.useState(500),k=[{name:"Car/Vehicle",icon:B2},{name:"Emergency",icon:Op},{name:"House",icon:Mh},{name:"Vacation",icon:wx},{name:"Education",icon:Ex},{name:"Investment",icon:jh},{name:"General",icon:da}],[X,oe]=te.useState(!1),[ce,ye]=te.useState(!0),[Ne,Ce]=te.useState(""),[re,_e]=te.useState(0),[De,he]=te.useState(0),[Ee,Ue]=te.useState(!1);te.useEffect(()=>{const xe=setTimeout(()=>{ye(!1)},5e3);return()=>clearTimeout(xe)},[]),te.useEffect(()=>{if(e!==4)return;let xe;const Ye=`e.g. ${yx[re]}`;return Ee?xe=setTimeout(()=>{Ce(Ye.substring(0,De-1)),he(yt=>yt-1),De<=1&&(Ue(!1),_e(yt=>(yt+1)%yx.length))},50):De>=Ye.length?xe=setTimeout(()=>Ue(!0),1500):xe=setTimeout(()=>{Ce(Ye.substring(0,De+1)),he(yt=>yt+1)},100),()=>clearTimeout(xe)},[e,De,Ee,re]);const be=()=>e===1?c>0:e===2?p==="rented"&&y?T>0:p==="permanent"&&L?q>0:!0:e===3?ne.length>0:e===4?!0:e===5&&C?j>0:!0,pt=()=>{be()&&n(xe=>xe+1)},bt=()=>n(xe=>xe-1),ut=()=>{me&&R&&(ae([...K,{name:me,amount:Number(R)}]),pe(""),N(""))},$t=()=>{if(se.name&&se.targetAmount>0){const xe={id:Date.now().toString(),name:se.name,targetAmount:se.targetAmount,deadlineMonths:se.deadlineMonths,category:se.category,createdAt:Date.now()};ve([...A,xe]),de({name:"",targetAmount:0,deadlineMonths:12,category:"General"}),F(!1)}},Et=xe=>{ve(A.filter(Ye=>Ye.id!==xe))},rt=async()=>{oe(!0);let xe="car";const Ye=ne.includes("Private Vehicle")||ne.includes("Motorcycle"),yt=ne.includes("Public Transport")||ne.includes("Company Bus/Vehicle");Ye&&yt?xe="hybrid":yt?xe="transit":xe="car";const Mn=K.reduce((Yn,qo)=>Yn+qo.amount,0),Vr={savings:C?j:0,income:c,rent:p==="rented"?y?T:0:L?q:0,commuteMethod:xe,subscriptions:Mn,smartGoals:A,food:Oe,hasCompletedOnboarding:!0};try{await s(Vr)}catch(Yn){console.error(Yn),oe(!1)}},Ns=()=>f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5,6,7,8].map(xe=>f.jsx("div",{className:`h-1.5 w-6 rounded-full transition-colors ${xe===e?"bg-blue-600":xe<e?"bg-blue-800":"bg-[#1e293b]"}`},xe))}),f.jsxs("div",{className:"text-sm font-medium text-slate-400",children:["Step ",e," of 8"]})]}),Vi=(xe,Ye,yt)=>f.jsxs("div",{className:"mt-8",children:[f.jsx("label",{className:"block text-[11px] font-bold text-slate-400 tracking-wider uppercase mb-3",children:xe}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold group-focus-within:text-slate-200",children:"RM"}),f.jsx("input",{type:"number",value:Ye||"",onChange:Mn=>yt(Number(Mn.target.value)),className:"w-full bg-[#111827] border border-slate-700/50 rounded-xl py-4 pl-12 pr-4 text-white font-semibold focus:outline-none focus:border-blue-500 transition-colors shadow-inner",placeholder:"0"})]})]});return f.jsxs("div",{className:"min-h-screen bg-[#0b101b] flex items-center justify-center p-4 font-sans text-slate-200 relative overflow-hidden",children:[f.jsxs("div",{className:`fixed top-8 right-8 z-50 transition-all duration-700 ease-out max-w-xs sm:max-w-sm w-full bg-[#1e293b]/95 backdrop-blur-md border-l-4 border-blue-500 rounded-r-xl shadow-2xl flex items-start gap-3 sm:gap-4 p-4 sm:p-5 ${ce?"translate-x-0 opacity-100":"translate-x-[120%] opacity-0 pointer-events-none"}`,children:[f.jsx("div",{className:"bg-blue-500/20 text-blue-400 p-2 rounded-lg shrink-0 mt-0.5",children:f.jsx(vS,{size:20})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-white font-bold text-sm mb-1",children:"Fully Customizable"}),f.jsx("p",{className:"text-slate-400 text-[13px] leading-relaxed",children:"Don't worry about getting it perfect! You can effortlessly re-customize all of this information later in your Settings."})]}),f.jsx("button",{onClick:()=>ye(!1),className:"text-slate-500 hover:text-white transition-colors shrink-0",children:f.jsx(tp,{size:18})})]}),f.jsxs("div",{className:"bg-[#131b2f] border border-[#1e293b] rounded-[2rem] w-full max-w-lg p-8 shadow-2xl animate-fade-in relative overflow-hidden",children:[Ns(),e===1&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight leading-tight",children:"How much is your monthly income/allocated monthly spending allowance?"}),f.jsx("p",{className:"text-slate-400 mb-8 text-[15px]",children:"Choose between entering your total income or a spending allowance."}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{onClick:()=>o("income"),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${r==="income"?"bg-blue-600/10 border-blue-600 text-blue-500":"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400"}`,children:[f.jsx(xx,{size:32}),f.jsx("span",{className:`font-semibold text-sm ${r==="income"?"text-blue-500":"text-slate-300"}`,children:"Monthly Income"})]}),f.jsxs("button",{onClick:()=>o("allowance"),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${r==="allowance"?"bg-blue-600/10 border-blue-600 text-blue-500":"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400"}`,children:[f.jsx(Uh,{size:32}),f.jsx("span",{className:`font-semibold text-sm text-center ${r==="allowance"?"text-blue-500":"text-slate-300"}`,children:"Allocated Monthly Allowance"})]})]}),Vi(r==="income"?"MONTHLY INCOME":"MONTHLY ALLOWANCE",c,h),f.jsxs("button",{onClick:pt,disabled:!be(),className:"w-full py-4 mt-8 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]}),e===2&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"What type of residence do you live in?"}),f.jsx("p",{className:"text-slate-400 mb-8 text-[15px]",children:"Select your primary living arrangement."}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[f.jsxs("button",{onClick:()=>g("rented"),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${p==="rented"?"bg-blue-600/10 border-blue-600 text-blue-500":"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400"}`,children:[f.jsx(L2,{size:32}),f.jsx("span",{className:`font-semibold text-sm ${p==="rented"?"text-blue-500":"text-slate-300"}`,children:"Rented"})]}),f.jsxs("button",{onClick:()=>g("permanent"),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${p==="permanent"?"bg-blue-600/10 border-blue-600 text-blue-500":"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400"}`,children:[f.jsx(Mh,{size:32}),f.jsx("span",{className:`font-semibold text-sm text-center ${p==="permanent"?"text-blue-500":"text-slate-300"}`,children:"Permanent"})]})]}),p==="rented"&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("label",{className:"block text-[11px] font-bold text-slate-400 tracking-wider uppercase mb-3",children:"ARE YOU COMMITTED IN PAYING THE RENT?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsx("button",{onClick:()=>x(!0),className:`py-3 rounded-xl font-bold transition-colors ${y?"bg-blue-600 text-white":"bg-[#111827] text-slate-400 border border-slate-700/50 hover:bg-slate-800"}`,children:"Yes"}),f.jsx("button",{onClick:()=>x(!1),className:`py-3 rounded-xl font-bold transition-colors ${y?"bg-[#111827] text-slate-400 border border-slate-700/50 hover:bg-slate-800":"bg-blue-600 text-white"}`,children:"No"})]}),y&&Vi("MONTHLY RENT AMOUNT",T,S)]}),p==="permanent"&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("label",{className:"block text-[11px] font-bold text-slate-400 tracking-wider uppercase mb-3",children:"ARE YOU CURRENTLY PAYING THE HOME LOAN?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsx("button",{onClick:()=>O(!0),className:`py-3 rounded-xl font-bold transition-colors ${L?"bg-blue-600 text-white":"bg-[#111827] text-slate-400 border border-slate-700/50 hover:bg-slate-800"}`,children:"Yes"}),f.jsx("button",{onClick:()=>O(!1),className:`py-3 rounded-xl font-bold transition-colors ${L?"bg-[#111827] text-slate-400 border border-slate-700/50 hover:bg-slate-800":"bg-blue-600 text-white"}`,children:"No"})]}),L&&Vi("MONTHLY HOME LOAN AMOUNT",q,U)]}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:!be(),className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===3&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"How do you usually get around?"}),f.jsx("p",{className:"text-slate-400 mb-6 text-[15px]",children:"Select one or more modes of transport."}),f.jsx("div",{className:"space-y-3 mb-8",children:["Private Vehicle","Motorcycle","Bicycle","Walking","Public Transport","Company Bus/Vehicle"].map(xe=>{const Ye=ne.includes(xe);return f.jsxs("button",{onClick:()=>le(yt=>Ye?yt.filter(Mn=>Mn!==xe):[...yt,xe]),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${Ye?"bg-blue-600/10 border-blue-500 text-white":"bg-[#111827] border-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:[f.jsx("span",{className:"font-semibold",children:xe}),f.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${Ye?"border-blue-500":"border-slate-500"}`,children:Ye&&f.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"})})]},xe)})}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:!be(),className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===4&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"What are your other commitments?"}),f.jsx("p",{className:"text-slate-400 mb-8 text-[15px]",children:"List your recurring monthly bills (e.g. phone bill, car insurance)."}),f.jsxs("div",{className:"bg-[#111827] border border-slate-700/50 rounded-2xl p-6 min-h-[220px]",children:[f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",value:me,onChange:xe=>pe(xe.target.value),placeholder:Ne,className:"flex-1 bg-[#1e293b] text-white p-3 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none placeholder-slate-500 font-medium"}),f.jsxs("div",{className:"relative w-28",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 font-bold",children:"RM"}),f.jsx("input",{type:"number",value:R,onChange:xe=>N(xe.target.value),className:"w-full bg-[#1e293b] text-white p-3 pl-10 rounded-lg border border-slate-700 focus:border-blue-500 focus:outline-none font-medium text-center",placeholder:"0"})]}),f.jsx("button",{onClick:ut,className:"bg-blue-600 hover:bg-blue-500 text-white rounded-lg p-3 transition flex items-center justify-center",children:f.jsx(Vh,{size:20})})]}),K.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-slate-500",children:[f.jsx(Uh,{size:32,className:"mb-2 opacity-50"}),f.jsx("span",{className:"font-semibold text-sm",children:"No bills added yet"})]}):f.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:K.map((xe,Ye)=>f.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[f.jsx("span",{className:"text-slate-300 font-medium",children:xe.name}),f.jsxs("span",{className:"text-white font-bold",children:["RM ",xe.amount]})]},Ye))})]}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:!be(),className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===5&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Do you have any preset monthly savings?"}),f.jsx("p",{className:"text-slate-400 mb-8 text-[15px]",children:"Select whether you allocate a specific amount for savings every month."}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("button",{onClick:()=>M(!0),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${C?"bg-blue-600/10 border-blue-600 text-blue-500":"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400"}`,children:[f.jsx(TS,{size:32}),f.jsx("span",{className:"font-bold",children:"Yes"})]}),f.jsxs("button",{onClick:()=>M(!1),className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${C?"bg-[#111827] border-slate-700/50 hover:border-slate-600 text-slate-400":"bg-blue-600/10 border-blue-600 text-blue-500"}`,children:[f.jsx(tS,{size:32,opacity:.5}),f.jsx("span",{className:"font-bold",children:"No"})]})]}),C&&f.jsx("div",{className:"animate-fade-in",children:Vi("Allocated Monthly Savings",j,V)}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:!be(),className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===6&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Any major financial goals?"}),f.jsx("p",{className:"text-slate-400 mb-6 text-[15px]",children:"Buying a house, car, or starting a business? Add them here."}),Le?f.jsx("div",{className:"bg-[#111827] border border-blue-500/30 rounded-2xl p-6 animate-fade-in",children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Category"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(xe=>{const Ye=xe.icon,yt=se.category===xe.name;return f.jsxs("button",{onClick:()=>de({...se,category:xe.name}),className:`p-2 rounded-lg border flex flex-col items-center gap-1 transition-all ${yt?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-[#0b101b] border-slate-800 text-slate-600"}`,children:[f.jsx(Ye,{size:16}),f.jsx("span",{className:"text-[8px] font-bold uppercase truncate w-full text-center",children:xe.name.split("/")[0]})]},xe.name)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Goal Name"}),f.jsx("input",{type:"text",value:se.name,onChange:xe=>de({...se,name:xe.target.value}),className:"w-full bg-[#0b101b] border border-slate-700 p-3 rounded-lg text-white font-bold text-sm focus:border-blue-500 focus:outline-none",placeholder:"e.g. New Car Deposit"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Target (RM)"}),f.jsx("input",{type:"number",value:se.targetAmount||"",onChange:xe=>de({...se,targetAmount:Number(xe.target.value)}),className:"w-full bg-[#0b101b] border border-slate-700 p-3 rounded-lg text-white font-bold text-sm focus:border-blue-500 focus:outline-none",placeholder:"10000"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:["Months: ",se.deadlineMonths]}),f.jsx("input",{type:"range",min:"1",max:"60",value:se.deadlineMonths,onChange:xe=>de({...se,deadlineMonths:Number(xe.target.value)}),className:"w-full mt-2 accent-blue-500"})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-3 bg-slate-800 text-white rounded-lg font-bold",children:"Cancel"}),f.jsx("button",{onClick:$t,className:"flex-1 py-3 bg-blue-600 text-white rounded-lg font-bold",children:"Add Goal"})]})]})}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:A.map(xe=>{var yt;const Ye=((yt=k.find(Mn=>Mn.name===xe.category))==null?void 0:yt.icon)||da;return f.jsxs("div",{className:"bg-[#111827] border border-slate-700/50 rounded-xl p-4 flex items-center justify-between group",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-600/10 rounded-lg flex items-center justify-center text-blue-500",children:f.jsx(Ye,{size:20})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-white",children:xe.name}),f.jsxs("div",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-tight",children:["RM",xe.targetAmount.toLocaleString(),"  ",xe.deadlineMonths," Mo"]})]})]}),f.jsx("button",{onClick:()=>Et(xe.id),className:"text-slate-500 hover:text-red-500 p-2",children:f.jsx(tp,{size:18})})]},xe.id)})}),f.jsxs("button",{onClick:()=>F(!0),className:"w-full py-4 border-2 border-dashed border-slate-700/50 rounded-xl flex items-center justify-center gap-2 text-slate-400 hover:border-blue-500 hover:text-blue-400 transition-all font-bold",children:[f.jsx(Vh,{size:20})," Add A Smart Goal"]})]}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:Le,className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===7&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"How much is your estimated monthly personal & food expenses?"}),f.jsx("p",{className:"text-slate-400 mb-8 text-[15px]",children:"Are your current expenses for this category higher or lower?"}),f.jsx("div",{className:"flex flex-col items-center justify-center bg-[#111827] border border-slate-700/50 rounded-3xl p-10 mb-8 relative",children:f.jsxs("div",{className:"flex items-center justify-between w-full max-w-[280px]",children:[f.jsx("button",{onClick:()=>Be(Math.max(0,Oe-10)),className:"w-14 h-14 rounded-full bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white flex items-center justify-center text-xl font-bold transition-all shadow-md active:scale-95 group border border-slate-700",children:f.jsx("span",{className:"group-hover:-translate-x-0.5 transition-transform",children:"-10"})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-slate-500 font-bold text-sm tracking-widest uppercase mb-1",children:"RM"}),f.jsx("span",{className:"text-5xl font-extrabold text-white tracking-tight",children:Oe.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})})]}),f.jsx("button",{onClick:()=>Be(Oe+10),className:"w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-500 text-white flex items-center justify-center text-xl font-bold transition-all shadow-md active:scale-95 group",children:f.jsx("span",{className:"group-hover:translate-x-0.5 transition-transform",children:"+10"})})]})}),f.jsxs("div",{className:"flex gap-4 mt-8",children:[f.jsx("button",{onClick:bt,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:pt,disabled:!be(),className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed disabled:text-blue-200 text-white rounded-xl font-bold transition flex justify-center items-center gap-2",children:["Continue ",f.jsx(ls,{size:20})]})]})]}),e===8&&f.jsxs("div",{className:"animate-slide-up",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsxs("div",{className:"w-20 h-20 bg-blue-600/20 text-blue-500 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[f.jsx("div",{className:"absolute inset-0 border-2 border-blue-500/30 rounded-full animate-ping"}),f.jsx(__,{size:36})]}),f.jsx("h1",{className:"text-3xl font-bold text-white mb-3 tracking-tight",children:"You're all set!"}),f.jsx("p",{className:"text-slate-400 text-[15px] leading-relaxed max-w-[280px] mx-auto",children:"We've personalized your dashboard based on your financial footprint."})]}),f.jsxs("div",{className:"space-y-4 mb-10",children:[f.jsxs("div",{className:"bg-[#111827] border border-blue-500/20 rounded-2xl p-5 flex gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-400 shrink-0",children:f.jsx(Ph,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-bold mb-1",children:"Optimization Engine"}),f.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Explores smarter financial paths to help you reduce costs in terms of transportation, accommodation, lifestyle and exploring eligible subsidies."})]})]}),f.jsxs("div",{className:"bg-[#111827] border border-indigo-500/20 rounded-2xl p-5 flex gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-indigo-500/10 rounded-xl flex items-center justify-center text-indigo-400 shrink-0",children:f.jsx(jh,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-bold mb-1",children:"Wealth+ Engine"}),f.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Intelligently allocates between Malaysian savings and investment options to move you toward your target wealth."})]})]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center mb-8 gap-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Powered by"}),f.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 font-extrabold tracking-widest text-lg animate-pulse flex items-center gap-1",children:[f.jsx(__,{size:16,className:"text-blue-400"}),"GEMINI"]})]})}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:bt,disabled:X,className:"p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition flex justify-center items-center shrink-0 disabled:opacity-50",children:f.jsx(pr,{size:20})}),f.jsxs("button",{onClick:rt,disabled:X,className:"flex-1 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition flex justify-center items-center gap-2 disabled:bg-blue-600/50",children:[X?"Analyzing...":"Enter Dashboard"," ",f.jsx(ls,{size:20})]})]})]})]})]})},ED=()=>{const{user:s,loading:e}=Nd(),{userProfile:n,loading:r,error:o,updateProfile:c}=Lg(),[h,p]=te.useState(gn.DASHBOARD);if(e||s&&r)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:f.jsx(Lh,{className:"animate-spin text-blue-600",size:32})});if(o)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md w-full border-l-4 border-red-500",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Error Loading Profile"}),f.jsx("p",{className:"text-slate-600 mb-4",children:o}),f.jsx("p",{className:"text-sm text-slate-500",children:"Please check your internet connection and Firebase permissions."})]})});if(!s)return f.jsx(gx,{});if(s&&!s.emailVerified)return f.jsx(gx,{});if(!n)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:f.jsx(Lh,{className:"animate-spin text-blue-600",size:32})});if(n.hasCompletedOnboarding===!1)return f.jsx(xD,{});const g=()=>{switch(h){case gn.OPTIMIZATION:return f.jsx(fD,{userProfile:n,updateProfile:c,setView:p});case gn.OPTIMIZATION2:return f.jsx(mD,{userProfile:n});case gn.WEALTH_PLUS:return f.jsx(yD,{userProfile:n,updateProfile:c});case gn.DASHBOARD:return f.jsx(pD,{userProfile:n,updateProfile:c,setView:p});case gn.SETTINGS:return f.jsx(vD,{userProfile:n,setUserProfile:c});default:return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-slate-400",children:f.jsx("p",{className:"text-lg",children:"Module under construction."})})}};return f.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] dark:bg-slate-900 text-slate-800 dark:text-slate-200 font-sans transition-colors duration-200",children:[f.jsx(DO,{currentView:h,setView:p,userProfile:n}),f.jsx("main",{className:"pb-12",children:g()}),f.jsx("footer",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 py-8 mt-12 transition-colors duration-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-slate-400 dark:text-slate-500 text-sm",children:f.jsx("p",{children:" 2026 CostPilot. Built for KitaHack 2026 by TVK. All rights reserved."})})})]})},TD=()=>f.jsx(OO,{children:f.jsx(_D,{children:f.jsx(zS,{children:f.jsx(ED,{})})})}),LT=document.getElementById("root");if(!LT)throw new Error("Could not find root element to mount to");const wD=S2.createRoot(LT);wD.render(f.jsx(y2.StrictMode,{children:f.jsx(TD,{})}));
