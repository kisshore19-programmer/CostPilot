<div align="center">
  <img src="public/assets/costpilotgithublogo.png" alt="CostPilot Logo" width="800">
</div>


## 1. Introduction
CostPilot is a financial optimization platform designed to help users manage their money smarter. Beyond tracking expenses, it intelligently optimizes across **transport, lifestyle, and accommodation**, while also integrating **subsidies you may qualify for but didn‚Äôt know existed**. With AI-guided savings and investment options, CostPilot empowers users to set **smart goals** and achieve wealth targets with personalized strategies.

---

## 2. Key Features
- **Financial Stress Score**  
  Measure how well your spending aligns with your income.

- **Optimization Engine (AI-powered)**  
  - **Transport**: Suggests cost-saving and faster travel routes.  
  - **Accommodation**: Explore financially better areas if you‚Äôre open to relocating.  
  - **Subsidies**: Automatically matches Malaysian subsidies to your profile and shows how they impact your financial breakdown.  
  - **Lifestyle**: Integrates cost-saving options into your daily routine.

- **What if EV?**  
  Compare your current vehicle costs with potential EV ownership. AI projects how your finances would change if you switch to an electric vehicle.

- **Wealth+**  
  Define short/long-term wealth goals with your risk appetite (conservative, moderate, aggressive). AI generates intelligent action plans with optimized monthly allocations, showing key financial metrics like **return on equity, dividend yield, and interest rates**.

- **Smart Goals Dashboard**  
  Track financial goals in a unified dashboard with clear breakdowns and progress visualization.

---

## 3. UN Sustainable Development Goals (SDGs)
CostPilot contributes to global sustainability by aligning with key UN SDGs:
- **SDG 1: No Poverty**: By uncovering hidden subsidies (STR, SARA, Budi Madani) and suggesting lower-cost relocation areas to help families stay financially afloat.
- **SDG 8: Decent Work & Economic Growth**: By promoting structured saving and connecting users to local equity markets (Bursa Malaysia shares), driving national investment.

---

## 4. Technical Deep Dive

CostPilot is engineered with a **Hybrid Reasoning Architecture**, separating critical financial arithmetic from cognitive reasoning. This ensures 100% mathematical accuracy while providing nuanced, AI-driven guidance.

### üß† AI & Intelligent Insights (Gemini Implementation)
The "Brain" of CostPilot is built on **Gemini 2.0 Flash**, optimized for low-latency decision support.

- **Dynamic Grounding with Google Search**: 
  We leverage Gemini's native search tools to bridge the "knowledge cutoff" gap. The engine fetches **real-time Bursa Malaysia stock prices** and **ASNB Net Asset Values (NAV)** during strategy generation, ensuring investment plans are based on today's market, not training data.
- **Structured JSON Output & Prompt Engineering**: 
  The backend utilizes strict multi-step prompt templates that enforce a specific JSON schema. This prevents "model drift" and ensures that the AI‚Äôs qualitative advice (e.g., "Relocate to Setia Alam") is always accompanied by quantitative valid data for the frontend to render.
- **Fail-Safe Fallback Logic**: 
  To ensure 99.9% uptime for KitaHack, we implemented an `explainFallback.js` layer. If the LLM encounter rate limits or network issues, the system gracefully reverts to a deterministic recommendation engine that uses static financial logic.

### üõ°Ô∏è TypeScript & State Management (The Skeleton)
CostPilot is built with a **Strict Type-System** to eliminate runtime errors in financial calculations.

- **Centralized Schema Architecture**: 
  All financial entities‚Äî`UserProfile`, `SmartGoal`, `WealthPlusStrategy`, and `AnalysisResult`‚Äîare defined as strict TypeScript interfaces in `types.ts`. This ensures that every component, from the Dashboard to the EV Comparison Card, consumes data in a predictable, standardized format.
- **Reactive State with React Context API**: 
  The application utilizes a hierarchical context system:
  - `UserProvider`: Synchronizes the local UI state with **Firebase Cloud Firestore** using `onSnapshot` for real-time cost reflecting.
  - `AuthProvider`: Manages secure identity tokens and session persistence.
- **Financial Validation Pattern**: 
  We use TypeScript `enums` and `guards` to manage complex states ŸÖÿßŸÜŸÜÿØ `ViewState` and `RiskAppetite` ('conservative' | 'moderate' | 'aggressive'). This prevents invalid permutations of investment advice.

### üèóÔ∏è Backend Optimization & Scenarios
- **Deterministic Scoring Engine**: 
  The "Financial Stress Score" is NOT generated by AI. It is computed via a weighted algorithm (0.55 Expense Ratio, 0.25 Savings Buffer, 0.20 Debt Ratio) to ensure transparency and auditability.
- **What-If Simulation Logic**: 
  The app re-runs the entire financial engine recursively. When a user "Claims" a subsidy or "Applies" a lifestyle change, the engine updates the `UserContext`, triggering a global UI refresh of all sustainability scores.

### üé® Design System: "Liquid Glass"
The UI utilizes a custom design system built with **Tailwind CSS** and **Backdrop-Filter utilities**, creating a premium, semi-transparent aesthetic that provides a "high-fidelity cockpit" feel for financial navigation.

---

## 5. Core Innovations
- **Malaysian Grounding (Localization-as-a-Service)**: 
  Unlike generic financial apps, CostPilot is "Madani-Ready." It features a dedicated **Subsidy Intelligence Engine** that automatically cross-checks user profiles against real Malaysian criteria for **STR**, **SARA**, and **Budi Madani**.
- **The "What-If" Reality Simulation**: 
  Our most significant innovation is the recursive scoring loop. Users don't just see advice; they can "toggle" proposed lifestyle changes (e.g., *Switching to an EV* or *Relocating to Petaling Jaya*) and see their global Financial Stress Score update in real-time.
- **Cognitive Wealth+ Architect**: 
  We moved beyond simple savings calculators by building a system that interprets risk appetite through a localized lens‚Äîlinking users directly to **Bursa Malaysia** assets and **ASNB** products with deep-link integration.

---

## 6. Challenges Faced & Engineering Solutions
- **LLM Non-Determinism vs. Financial Accuracy**: 
  **Challenge**: Early versions of Gemini often "hallucinated" mathematical totals that didn't match our backend.
  **Solution**: We implemented a **Strict Hybrid Validation** middleware. The backend first computes the hard numbers using deterministic JS, then injects these "Facts" into the Gemini prompt as a ground-truth context, forcing the AI to stay within the bounds of real data.
- **State Synchronization Across 12+ Components**: 
  **Challenge**: With modules for Transport, Housing, Lifestyle, and Wealth+, keeping the "Total Stress Score" in sync during onboarding was complex.
  **Solution**: Engineered a custom **Reactive State Pipeline** using a singleton `UserContext`. This ensures that an update in the "Travel optimization" card instantly ripples through to the "Dashboard" and "Wealth+" financial projections without page refreshes.
- **Real-Time Market Data Ingestion**:
  **Challenge**: Fetching live stock prices for every user request hit rate limits and increased latency.
  **Solution**: Implemented a **Dynamic Caching Layer** and utilized Gemini's **Google Search Grounding** to intelligently batch market research queries, significantly reducing API overhead while maintaining data freshness.

---

## 7. Setup Instructions
**(Currently being finalized / Refer to internal documentation for environment variables)**

---
Built with ‚ù§Ô∏è by **Team TVK** for **KitaHack 2026**



